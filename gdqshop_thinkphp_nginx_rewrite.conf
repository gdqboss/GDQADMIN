# ThinkPHP Nginx伪静态配置
if (!-e $request_filename) {
    rewrite ^(.*)$ /index.php?s=$1 last;
    break;
}

# 后台目录保护（可选）
location ~ ^/admin/ {
    # 可以添加访问控制规则
    # allow 192.168.1.0/24;
    # deny all;
}

# 禁止访问敏感文件
location ~ \.(ht|git|svn|ini|conf)$ {
    deny all;
}

# 静态文件缓存
location ~ .*\.(gif|jpg|jpeg|png|bmp|swf|flv|mp4|ico|webp)$ {
    expires 30d;
    access_log off;
}

location ~ .*\.(js|css)?$ {
    expires 12h;
    access_log off;
}

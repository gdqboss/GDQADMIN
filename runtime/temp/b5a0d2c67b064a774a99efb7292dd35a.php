<?php /*a:118:{s:59:"/www/wwwroot/gdqshop.cn/app/view/designer_page/editnew.html";i:1747926690;s:48:"/www/wwwroot/gdqshop.cn/app/view/public/css.html";i:1747926690;s:63:"/www/wwwroot/gdqshop.cn/app/view/designer_page/designernew.html";i:1768342970;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-topbar2.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-topbar.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-shop.html";i:1747926690;s:79:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-plugin-mendian.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-notice.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-menu.html";i:1768342948;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-banner.html";i:1768342918;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-picture.html";i:1768342918;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-pictures.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-title.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-dhlist.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-text.html";i:1768342918;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-search.html";i:1747926690;s:74:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-lbssearch.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-line.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-blank.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-product.html";i:1766033836;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-cycle.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-collage.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-kanjia.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-seckill.html";i:1747926690;s:74:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-scoreshop.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-coupon.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-richtext.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-cube.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-video.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-article.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-form.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-map.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-button.html";i:1768342919;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-cover.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-business.html";i:1747926690;s:75:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-shortvideo.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-liveroom.html";i:1747926690;s:77:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-channelslive.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-hotspot.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-userinfo.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-wxad.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-adset.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-jidian.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-tab.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-kecheng.html";i:1747926690;s:75:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-carhailing.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-location.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-location.html";i:1747926690;s:83:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-restaurant_product.html";i:1747926690;s:80:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-restaurant_product.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/edit-classify2.html";i:1766026825;s:76:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/edit-plugin-mendian.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-tuangou.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/show-topbar.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-shop.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-notice.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-menu.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-banner.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-picture.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-pictures.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-title.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-dhlist.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-text.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-search.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-lbssearch.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-line.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-blank.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-product.html";i:1765997345;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-classify2.html";i:1766023112;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-cycle.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-collage.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-kanjia.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-seckill.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-scoreshop.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-coupon.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-richtext.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/show-cube.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-video.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-article.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-form.html";i:1747926690;s:65:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-map.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-button.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-cover.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-business.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-shortvideo.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-liveroom.html";i:1747926690;s:74:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-channelslive.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/show-hotspot.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/show-userinfo.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-yuyue.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-yuyue.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-tuangou.html";i:1747926690;s:77:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-luckycollage.html";i:1747926690;s:74:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-luckycollage.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-wxad.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-adset.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-jidian.html";i:1747926690;s:65:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-tab.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-kecheng.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-zhaopin.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-zhaopin.html";i:1747926690;s:68:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-qiuzhi.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-qiuzhi.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-form-log.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-form-log.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/show-livepay.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-livepay.html";i:1747926690;s:72:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-carhailing.html";i:1747926690;s:69:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-tour.html";i:1747926690;s:66:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-tour.html";i:1747926690;s:73:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-formdata.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-formdata.html";i:1747926690;s:70:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-hotel.html";i:1747926690;s:67:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-hotel.html";i:1747926690;s:74:"/www/wwwroot/gdqshop.cn/app/view/designer_page/tempnew/edit-hotelroom.html";i:1747926690;s:71:"/www/wwwroot/gdqshop.cn/app/view/designer_page/temp/show-hotelroom.html";i:1747926690;s:47:"/www/wwwroot/gdqshop.cn/app/view/public/js.html";i:1747926690;s:54:"/www/wwwroot/gdqshop.cn/app/view/public/copyright.html";i:1747926690;}*/ ?>
<!DOCTYPE html>
<html style="height: 100%;">
<head>
  <meta charset="utf-8">
  <title>页面设计</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css?v=20200519" media="all">
<link rel="stylesheet" type="text/css" href="/static/admin/layui/css/modules/formSelects-v4.css?v=20200516" media="all">
<link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css?v=202406" media="all">
<link rel="stylesheet" type="text/css" href="/static/admin/css/font-awesome.min.css?v=20200516" media="all">
<link rel="stylesheet" type="text/css" href="/static/admin/webuploader/webuploader.css?v=<?php echo time(); ?>" media="all">
<link rel="stylesheet" type="text/css" href="/static/admin/css/designer.css?v=202410" media="all">
<link rel="stylesheet" type="text/css" href="/static/fonts/iconfont.css?v=20201218" media="all">
	<style>
		.layui-card-header{display:flex;align-items:center;justify-content: space-between;position: relative;height: 50px;padding: 0 15px;
			border-bottom: 1px solid #f6f6f6;color: #333;border-radius: 2px 2px 0 0;font-size: 14px;}
		.button-div button{border-radius: 4px;padding: 0px 15px;}
		.header-icon-div{align-items: center;}
		.header-icon-div .img-box{width: auto;height: 20px;margin-right:15px;cursor:pointer;display: flex;align-items: center;}
		.header-icon-div .img-box img{width: 20px;height: 20px;display: block;margin-left: 10px;}
		.select-div{margin-right: 15px;}
		.header-icon-div .select-div .layui-form-select{border-radius: 5px;border:none;}
		.header-icon-div .select-div .layui-form-select .layui-unselect{background: #F7F7F7;border:none;}
		.layui-card-body{height: calc(100% - 50px);padding: 0px;}
		.layui-form-radio>i:hover, .layui-form-radioed>i {color: #3772E8;}
		.layui-form-checkbox[lay-skin=primary]:hover i {border-color: #3772E8;color: #fff}
		.layui-form-checked[lay-skin=primary] i {border-color: #3772E8;background-color: #3772E8;color: #fff}
	</style>
</head>
<body style="height: 100%;">
  <div class="layui-fluid" style="height: 100%;padding: 0px 0px;">
    <div class="layui-row layui-col-space15" style="height: 100%;margin: 0;">
      <div class="layui-card layui-col-md12" style="height: 100%;padding: 0px 0px;">
				<div class="layui-form" style="height: 100%;">
				<div class="layui-card-header">
					<div class="flex-y-center header-icon-div">
						<!-- <div class="img-box" onclick="closeSelf()"><img src="<?php echo PRE_URL; ?>/static/admin/img/fanhui.png"></div> -->
						<!-- <div class="img-box" onclick="closeSelf()"><img src="<?php echo PRE_URL; ?>/static/admin/img/zhuye.png"></div> -->
<!-- 						<div class="select-div">
							<select>
								<option value="">请选择</option>
								<option value="">设计首页</option>
								<option value="">设计我的</option>
								<option value="">设计页面1</option>
								<option value="">设计页面2</option>
							</select>
						</div> -->
	<!-- 					<?php
						print_r($info['ishome']);
						?> -->
						<div style="display: flex;align-items: center;font-size: 16px;"><?php if($info['id']): ?>页面编辑<?php else: ?>添加页面<?php endif; ?></div>
						<div class="img-box" onclick="refresh()"><img src="<?php echo PRE_URL; ?>/static/admin/img/shuaxin.png"></div>
					</div>
					
					<div class="button-div">
						<?php if($info['id']): ?><button class="layui-btn layui-btn-primary layui-btn-sm" onclick="showqr(<?php echo $info['id']; ?>,<?php echo $info['ishome']; ?>)">预览</button><?php else: ?>
						<button class="layui-btn layui-btn-primary layui-btn-sm" onclick="showqr2()">预览</button><?php endif; ?>
						<!-- <button class="layui-btn layui-btn-normal layui-btn-sm" onclick="pagesave(1)">发布</button> -->
						<!-- <button class="layui-btn layui-btn-primary layui-btn-sm" onclick="closeSelf()">关闭</button> -->
						<button class="layui-btn layui-btn-normal layui-btn-sm" onclick="pagesave(0)">保存</button>
						<?php if($info['ishome'] != 1 && $info['ishome'] != 2): ?><button class="layui-btn layui-btn-primary layui-btn-sm" onclick="datadel(<?php echo $info['id']; ?>)">删除</button><?php endif; ?>
						<button class="layui-btn layui-btn-primary layui-btn-sm" onclick="closeWindow()">关闭</button>
					</div>
					
				</div>
				<div class="layui-card-body">
						<input type="hidden" id="pageid" value="<?php echo $info['id']; ?>">
						<!-- 详情编辑器 -->
						<?php

$bset = db('business_sysset')->where('aid',aid)->find();

$isAdmin = isset($isadmin) && $isadmin ? true : false;

$q = db('shop_category')->field('id,name,pic')->where('aid',aid)->where('pid',0)->order('sort desc,id');
if(!$isAdmin){ $q = $q->where('status',1); }
$clist = $q->select()->toArray();
foreach($clist as $k=>$v){
	$q2 = db('shop_category')->field('id,name,pic')->where('aid',aid)->where('pid',$v['id'])->order('sort desc,id');
	if(!$isAdmin){ $q2 = $q2->where('status',1); }
	$clist[$k]['child'] = $q2->select()->toArray();
}
if($bid > 0){
	$q3 = db('shop_category2')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('pid',0)->order('sort desc,id');
	if(!$isAdmin){ $q3 = $q3->where('status',1); }
	$clist2 = $q3->select()->toArray();
	foreach($clist2 as $k=>$v){
		$q4 = db('shop_category2')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('pid',$v['id'])->order('sort desc,id');
		if(!$isAdmin){ $q4 = $q4->where('status',1); }
		$clist2[$k]['child'] = $q4->select()->toArray();
	}
}
$glist = db('shop_group')->where('aid',aid)->order('sort desc,id')->select()->toArray();
$gids = [0=>true];
foreach($glist as $g){
	$gids[$g['id']] = true;
}
$aclist = db('article_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();
foreach($aclist as $k=>$v){
	$aclist[$k]['child'] = db('article_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',$v['id'])->order('sort desc,id')->select()->toArray();
}
$default_cid = db('member_level_category')->where('aid',aid)->where('isdefault', 1)->value('id');
$default_cid = $default_cid ? $default_cid : 0;
$memberlevelList = db('member_level')->where('aid',aid)->where('cid',$default_cid)->order('sort,id')->select()->toArray();
// 会员身份列表
$identityList = [
    ['id' => '顾客', 'name' => '顾客'],
    ['id' => '店主', 'name' => '店主'],
    ['id' => '公司员工', 'name' => '公司员工'],
    ['id' => '供货商', 'name' => '供货商'],
    ['id' => '店员', 'name' => '店员'],
    ['id' => '仓管', 'name' => '仓管']
];
$collage_clist = db('collage_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();

$yuyue_clist = db('yuyue_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();

$business_scoreshop = 0;
if(getcustom('business_scoreshop')){
	$business_scoreshop = 1;
}

if($bid == 0 || $bset['business_selfscore']==1 || $business_scoreshop == 1){
	//积分兑换分类
	$scoreshop_clist = db('scoreshop_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();
	//商家分类
	$blist = db('business_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->order('sort desc,id')->select()->toArray();
	//商家
	$bnwhere = [];
	$bnwhere[] = ['aid','=',aid];
	$bnwhere[] = ['status','=',1];
	if($areaBids){
		$bnwhere[] = ['id','in',$areaBids];
	}
	$bnlist = db('business')->field('id,name,logo,address')->where($bnwhere)->order('sort desc,id')->select()->toArray();
}
if($bid == 0){
	$shortvideo_clist = db('shortvideo_category')->where('aid',aid)->where('status',1)->order('sort desc,id')->select()->toArray();
}else{
	$shortvideo_clist = db('shortvideo_category')->where('aid',aid)->where('bid',$bid)->where('status',1)->order('sort desc,id')->select()->toArray();
}

//幸运拼团分类
$luckycollage_clist = db('lucky_collage_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();

//团购分类
$tuangou_clist = db('tuangou_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();

//课程类型
$kecheng_clist = db('kecheng_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();
foreach($kecheng_clist as $k=>$v){
	$kecheng_clist[$k]['child'] = db('kecheng_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',$v['id'])->order('sort desc,id')->select()->toArray();
}

//周期购分类
$cycle_clist = db('cycle_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();

if(getcustom('car_hailing')){
	$carhailing_clist = db('car_hailing_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();
	foreach($carhailing_clist as $k=>$v){
		$carhailing_clist[$k]['child'] = db('car_hailing_category')->field('id,name,pic')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',$v['id'])->order('sort desc,id')->select()->toArray();
	}
}
if(getcustom('fenhong_kecheng')){
	//课程分类
	$kclist = db('kecheng_category')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',0)->field('id,name,pic')->order('sort desc,id')->select()->toArray();
	foreach($kclist as $k=>$v){
		$kclist[$k]['child'] = db('kecheng_category')->where('aid',aid)->where('bid',$bid)->where('status',1)->where('pid',$v['id'])->field('id,name,pic')->order('sort desc,id')->select()->toArray();
	}
}
//设计组件权限 默认全部开启
$noshow_modules = [];
if(getcustom('design_module_auth')){
	//查询平台权限组
	$user = db('admin_user')->where('aid',$aid)->where('isadmin','>',0)->field('auth_data,auth_type,groupid')->find();
	//如果开启了组件权限控制
	if($user){
		$neecheck = false;
		if($user['auth_type'] == 1){
			$neecheck = true;
		}else{
			if($user['groupid']){
                $user['auth_data'] = Db::name('admin_user_group')->where('id',$user['groupid'])->value('auth_data');
            }
			$admin_auth = $user['auth_data']?json_decode($user['auth_data'],true):'';
			if(!$admin_auth || in_array('DesignModule,DesignModule',$admin_auth)){
				$neecheck = true;
			}
		}
		if($neecheck){
			$neecheck2 = false;
			if($bid>0){
				//查询商户权限组设置
				$user2 = db('admin_user')->where('aid',$aid)->where('bid',$bid)->where('isadmin','>',0)->field('auth_data,auth_type,groupid')->find();
				//如果开启了组件权限控制
				if($user2 && $user2['auth_type'] != 1){
					if($user2['groupid'] && $user2['groupid']>0){
		                $user2['auth_data'] = Db::name('admin_user_group')->where('id',$user2['groupid'])->value('auth_data');
		            }
					$admin_auth2 = $user2['auth_data']?json_decode($user2['auth_data'],true):'';
					if(!$admin_auth2 || in_array('DesignModule,DesignModule',$admin_auth2)){
						$neecheck2 = true;
					}
				}
			}
			if(($user['auth_type'] !=1 && !in_array('ModuleNotice,ModuleNotice',$admin_auth)) || ($neecheck2 && !in_array('ModuleNotice,ModuleNotice',$admin_auth2)))   $noshow_modules[]='ModuleNotice';
			if(($user['auth_type'] !=1 && !in_array('ModuleBanner,ModuleBanner',$admin_auth)) || ($neecheck2 && !in_array('ModuleBanner,ModuleBanner',$admin_auth2)))   $noshow_modules[]='ModuleBanner';
			if(($user['auth_type'] !=1 && !in_array('ModuleShop,ModuleShop',$admin_auth)) || ($neecheck2 && !in_array('ModuleShop,ModuleShop',$admin_auth2)))     $noshow_modules[]='ModuleShop';
			if(($user['auth_type'] !=1 && !in_array('ModuleSearch,ModuleSearch',$admin_auth)) || ($neecheck2 && !in_array('ModuleSearch,ModuleSearch',$admin_auth2)))   $noshow_modules[]='ModuleSearch';
			if(($user['auth_type'] !=1 && !in_array('ModulePicture,ModulePicture',$admin_auth)) || ($neecheck2 && !in_array('ModulePicture,ModulePicture',$admin_auth2)))  $noshow_modules[]='ModulePicture';
			if(($user['auth_type'] !=1 && !in_array('ModulePictures,ModulePictures',$admin_auth)) || ($neecheck2 && !in_array('ModulePictures,ModulePictures',$admin_auth2))) $noshow_modules[]='ModulePictures';
			if(($user['auth_type'] !=1 && !in_array('ModuleCube,ModuleCube',$admin_auth)) || ($neecheck2 && !in_array('ModuleCube,ModuleCube',$admin_auth2)))     $noshow_modules[]='ModuleCube';
			if(($user['auth_type'] !=1 && !in_array('ModuleRichtext,ModuleRichtext',$admin_auth)) || ($neecheck2 && !in_array('ModuleRichtext,ModuleRichtext',$admin_auth2))) $noshow_modules[]='ModuleRichtext';

			if(($user['auth_type'] !=1 && !in_array('ModuleVideo,ModuleVideo',$admin_auth)) || ($neecheck2 && !in_array('ModuleVideo,ModuleVideo',$admin_auth2)))  $noshow_modules[]='ModuleVideo';
			if(($user['auth_type'] !=1 && !in_array('ModuleTitle,ModuleTitle',$admin_auth)) || ($neecheck2 && !in_array('ModuleTitle,ModuleTitle',$admin_auth2)))  $noshow_modules[]='ModuleTitle';
			if(($user['auth_type'] !=1 && !in_array('ModuleDhlist,ModuleDhlist',$admin_auth)) || ($neecheck2 && !in_array('ModuleDhlist,ModuleDhlist',$admin_auth2))) $noshow_modules[]='ModuleDhlist';
			if(($user['auth_type'] !=1 && !in_array('ModuleText,ModuleText',$admin_auth)) || ($neecheck2 && !in_array('ModuleText,ModuleText',$admin_auth2)))   $noshow_modules[]='ModuleText';
			if(($user['auth_type'] !=1 && !in_array('ModuleButton,ModuleButton',$admin_auth)) || ($neecheck2 && !in_array('ModuleButton,ModuleButton',$admin_auth2))) $noshow_modules[]='ModuleButton';
			if(($user['auth_type'] !=1 && !in_array('ModuleMenu,ModuleMenu',$admin_auth)) || ($neecheck2 && !in_array('ModuleMenu,ModuleMenu',$admin_auth2)))   $noshow_modules[]='ModuleMenu';
			if(($user['auth_type'] !=1 && !in_array('ModuleCover,ModuleCover',$admin_auth)) || ($neecheck2 && !in_array('ModuleCover,ModuleCover',$admin_auth2)))  $noshow_modules[]='ModuleCover';
			if(($user['auth_type'] !=1 && !in_array('ModuleLine,ModuleLine',$admin_auth)) || ($neecheck2 && !in_array('ModuleLine,ModuleLine',$admin_auth2)))   $noshow_modules[]='ModuleLine';

			if(($user['auth_type'] !=1 && !in_array('ModuleBlank,ModuleBlank',$admin_auth)) || ($neecheck2 && !in_array('ModuleBlank,ModuleBlank',$admin_auth2)))     $noshow_modules[]='ModuleBlank';
			if(($user['auth_type'] !=1 && !in_array('ModuleTab,ModuleTab',$admin_auth)) || ($neecheck2 && !in_array('ModuleTab,ModuleTab',$admin_auth2)))       $noshow_modules[]='ModuleTab';
			if(($user['auth_type'] !=1 && !in_array('ModuleMap,ModuleMap',$admin_auth)) || ($neecheck2 && !in_array('ModuleMap,ModuleMap',$admin_auth2)))       $noshow_modules[]='ModuleMap';
			if(($user['auth_type'] !=1 && !in_array('ModuleHotspot,ModuleHotspot',$admin_auth)) || ($neecheck2 && !in_array('ModuleHotspot,ModuleHotspot',$admin_auth2)))   $noshow_modules[]='ModuleHotspot';
			if(($user['auth_type'] !=1 && !in_array('ModuleProduct,ModuleProduct',$admin_auth)) || ($neecheck2 && !in_array('ModuleProduct,ModuleProduct',$admin_auth2)))   $noshow_modules[]='ModuleProduct';
			if(($user['auth_type'] !=1 && !in_array('ModuleArticle,ModuleArticle',$admin_auth)) || ($neecheck2 && !in_array('ModuleArticle,ModuleArticle',$admin_auth2)))   $noshow_modules[]='ModuleArticle';

			if(($user['auth_type'] !=1 && !in_array('ModuleShortvideo,ModuleShortvideo',$admin_auth)) || ($neecheck2 && !in_array('ModuleShortvideo,ModuleShortvideo',$admin_auth2))) $noshow_modules[]='ModuleShortvideo';

			if(($user['auth_type'] !=1 && !in_array('ModuleWxad,ModuleWxad',$admin_auth)) || ($neecheck2 && !in_array('ModuleWxad,ModuleWxad',$admin_auth2)))      $noshow_modules[]='ModuleWxad';
			if(($user['auth_type'] !=1 && !in_array('ModuleUserinfo,ModuleUserinfo',$admin_auth)) || ($neecheck2 && !in_array('ModuleUserinfo,ModuleUserinfo',$admin_auth2)))  $noshow_modules[]='ModuleUserinfo';

			if(($user['auth_type'] !=1 && !in_array('ModulePlatform,ModulePlatform',$admin_auth)) || ($neecheck2 && !in_array('ModulePlatform,ModulePlatform',$admin_auth2)))  $noshow_modules[]='ModulePlatform';
			if(($user['auth_type'] !=1 && !in_array('ModuleQuanxian,ModuleQuanxian',$admin_auth)) || ($neecheck2 && !in_array('ModuleQuanxian,ModuleQuanxian',$admin_auth2)))  $noshow_modules[]='ModuleQuanxian';
		}
	}
}

$categroy_selmore = false;//分类多选
if(getcustom('design_module_categroy_moresel')){
	//查询权限组
	$user = db('admin_user')->where('aid',$aid)->where('isadmin','>',0)->field('auth_type,auth_data')->find();
	//如果开启了设计组件分类多选
	if($user['auth_type'] == 1){
		$categroy_selmore = true;//分类多选
	}else{
		if($user['groupid']){
            $user['auth_data'] = Db::name('admin_user_group')->where('id',$user['groupid'])->value('auth_data');
        }
		$admin_auth = json_decode($user['auth_data'],true);
		if(in_array('DesignModuleCategroyMoresel,DesignModuleCategroyMoresel',$admin_auth)){
			$categroy_selmore = true;//分类多选
		}
	}
}

if(getcustom('hotel')){
	//酒店类型
	$hotel_clist = db('hotel_category')->field('id,name,pic')->where('aid',aid)->where('status',1)->where('pid',0)->order('sort desc,id')->select()->toArray();
	//房型分组
	$room_glist = db('hotel_group')->field('id,name,pic')->where('aid',aid)->where('status',1)->order('sort desc,id')->select()->toArray();
	//酒店列表
	$hotel_list = db('hotel')->field('id,name,pic')->where('aid',aid)->where('status',1)->order('sort desc,id')->select()->toArray();

}

//金银权限
$canshowsilvermoney = $canshowgoldmoney = false;
if(getcustom('member_goldmoney_silvermoney')){
    //查询权限组
    $user = db('admin_user')->where('aid',$aid)->where('isadmin','>',0)->field('auth_type,auth_data')->find();
    //如果开启了设计组件分类多选
    if($user['auth_type'] == 1){
        $canshowsilvermoney = $canshowgoldmoney = true;
    }else{
        if($user['groupid']){
            $user['auth_data'] = Db::name('admin_user_group')->where('id',$user['groupid'])->value('auth_data');
        }
        $admin_auth = json_decode($user['auth_data'],true);

        if(in_array('Member/addSilvermoney,Member/addSilvermoney',$admin_auth)){
            $canshowsilvermoney = true;
        }
        if(in_array('Member/addGoldmoney,Member/addGoldmoney',$admin_auth)){
            $canshowgoldmoney = true;
        }
    }
}

$invite_redpacket = false;//邀请分红包
if(getcustom('extend_invite_redpacket')){
    //查询权限组
    $user = db('admin_user')->where('aid',$aid)->where('isadmin','>',0)->field('auth_type,auth_data')->find();
    //如果开启了设计组件邀请分红包
    if($user['auth_type'] == 1){
        $invite_redpacket = true;//邀请分红包
    }else{
        if($user['groupid']){
            $user['auth_data'] = Db::name('admin_user_group')->where('id',$user['groupid'])->value('auth_data');
        }
        $admin_auth = json_decode($user['auth_data'],true);
        if(in_array('InviteRedpacket/index,InviteRedpacket/*',$admin_auth)){
            $invite_redpacket = true;//邀请分红包
        }
    }
}

$membershopscoreauth = false;//产品积分权限
if(getcustom('member_shopscore')){
    //查询权限组
    $user = db('admin_user')->where('aid',$aid)->where('isadmin','>',0)->field('auth_type,auth_data')->find();
    //如果开启了设计组件邀请分红包
    if($user['auth_type'] == 1){
        $membershopscoreauth = true;
    }else{
        $admin_auth = json_decode($user['auth_data'],true);
        if(in_array('MemberShopscoreAuth,MemberShopscoreAuth',$admin_auth)){
            $membershopscoreauth = true;
        }
    }
}
?>
<style>
	.panel-body{align-items: flex-start;justify-content: space-between;background:#f8f8f8;height:100%;}
	.class-div-active{height:auto !important;}
	.class-div-active::-webkit-scrollbar {width: 2px;height: 0px;}
	.class-div-active::-webkit-scrollbar-thumb {border-radius: 1px;-webkit-box-shadow: inset 0 0 1px rgba(150,150,150,0.5);background: rgba(150,150,150,0.5);}
	.class-div-active::-webkit-scrollbar-track {-webkit-box-shadow: inset 0 0 0px rgba(150,150,150,0.2);border-radius: 0;background: rgba(150,150,150,0);}
	.occupying-box{overflow: hidden;width: 100%;height: 0px;line-height:50px;text-align: center;color: #00a0e9;transition: all .2s;}
	.class-div{width: 90%;height:auto;border-bottom: 1px #f6f6f6 solid;box-sizing: border-box;overflow: hidden;transition: all 2s;margin: 0 auto;}
	.class-div-first{width: 90%;height:auto;border-bottom: 1px #f6f6f6 solid;box-sizing: border-box;overflow: hidden;transition: all 2s;margin: 0 auto;}
	.options-class{width:100%;height:40px;cursor: pointer;display: flex;align-items: center;justify-content: flex-start;font-size: 16px;box-sizing: border-box;
		color: #333;font-weight: bold;}
	.item-options-div{width: 100%;height:0px;margin: 0 auto;display: flex;align-items: center;justify-content:flex-start;flex-wrap: wrap;box-sizing: border-box;overflow-y:auto;}
	.item-options-div2{width: 100%;height:auto;margin: 0 auto;display: flex;align-items: center;justify-content:flex-start;flex-wrap: wrap;box-sizing: border-box;overflow-y:auto;}
	.item-options-div .options-div {height: auto;width: 65px;background: #fff;border-radius: 5px;font-size: 13px;color: #333;text-align: center;cursor: all-scroll;
			margin: 6px 8px;display: flex;flex-direction: column;justify-content:space-between;align-items: center;transition: all .3s;}
	.options-div img{width: 62px;height: 62px;}
	.item-options-div .options-div:hover img{transition: all .3s;box-shadow: 0 0 10px 0 rgba(24,144,255,.3);}
	.item-options-div .options-div:hover .text-div{color:#3772e8;}
	.options-div .text-div{font-size: 13px;font-weight:bold;padding: 4px 0px;}
	.active-icon img{width: 15px;height: 15px;}
	.active-icon{transform: rotate(0deg);transition: all .3s;}
	.active-icon-ed{transform: rotate(180deg);transition: all .3s;}
	.component-search-div{width: 90%;height: 60px;display: flex;align-items: center;justify-content: flex-start;margin: 0 auto;}
	.component-search-div .input-div{width: 100%;height:30px;border-radius:5px;background: #f6f6f6;display: flex;align-items: center;justify-content: space-between;overflow: hidden;}
	.component-search-div .input-div input{background: #f6f6f6;height: 100%;border: none;outline: none;}
	.component-search-div .input-div img{width: 20px;height: 20px;margin-left: 10px;}
	.dsn-phone{width: 380px;height:100%;display:flex;align-items:flex-end;justify-content:center;}
	#editor-content{position: relative;overflow: scroll;height: calc(100% - 95px);}
	#editor-content::-webkit-scrollbar {width: 0px;height: 0px;}
	.dsn-panel-editor{background: #fff;padding: 0 10px;border: none;padding-left: 10px;padding-right: 5px;} 
	.dsn-panel-editor-content .layui-form-item .layui-form-label{font-size: 13px !important;}
	.dsn-panel-editor-content2{height: 100%;overflow-y: scroll;margin-right: 3px;}
	.dsn-panel-editor-content2 .dsn-panel-editor-content{height: 100% !important;}
	.dsn-panel-editor-content2::-webkit-scrollbar {width: 2px;height: 0px;}
	.dsn-panel-editor-content2::-webkit-scrollbar-thumb {border-radius: 1px;-webkit-box-shadow: inset 0 0 1px rgba(150,150,150,0.5);background: rgba(150,150,150,0.5);}
	.layui-form-radio>i:hover, .layui-form-radioed>i {color: #3772E8;}
	.flex-box{display:flex;align-items:center;justify-content: space-between;}
	.manual-selection-item{margin: 0px 0px !important}
	.manual-selection-item .layui-form-label{padding: 0px 0px !important;font-weight: bold;color: #333;}
	.layui-form-radio>i:hover, .layui-form-radioed>i {color: #3772E8;}
	.layui-form-checkbox[lay-skin=primary]:hover i {border-color: #3772E8;color: #fff}
	.layui-form-checked[lay-skin=primary] i {border-color: #3772E8;background-color: #3772E8;color: #fff}
</style>
<div class='panel-body flex' ng-app="FoxEditor" ng-controller="FoxController">
	<div class="dsn-panel" style="margin-left: 0px;margin-top: 0px;width: auto;height:100%;background:#fff;">
		<div class="dsn-panel-menu2 dsn-panel-editor-content" style="width: 280px;height:100% !important;overflow-y:scroll;padding-top: 0;">
			<div class="component-search-div">
				<div class="input-div">
					<img src="<?php echo PRE_URL; ?>/static/imgsrc/diypage_search.png"/>
					<input type="text" placeholder="搜索功能/组件" ng-model="search_text" />
				</div>
			</div>
			<div style="color: #999;font-size: 12px;width: 90%;margin: 0 auto;">点击或拖动使用组件</div>
			<div ng-show="search_text">
				<div ng-repeat="navs in navsCopy" class="class-div-first">
					<div class="item-options-div class-div-active">
						<div ng-repeat="nav in navs.children  | filter:search_text">
							<div class="options-div" draggable="true"  id="{{nav.id}}" ondragend="dragend(event)"  ondragstart="ondragstartChange(event,this)" ng-click="addItem(nav.id,0,1)">
								<img draggable="false" ng-src='{{nav.logo_icon}}' />
								<div class="text-div" ng-bind="nav.name"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
				<div ng-repeat="navs in navsCopy" class="class-div" ng-show="!search_text">
					<div class="options-class" ng-click="changeItemsClass($index)">
						<div class="active-icon">
							<img src="<?php echo PRE_URL; ?>/static/imgsrc/diypage_jaintou.png"/>
						</div>
						<div style="margin-left: 15px;font-size: 14px;" ng-bind="navs.subletName + '('+navs.children.length+')'"></div>
					</div>
					<div class="item-options-div class-div-active">
						<div ng-repeat="nav in navs.children">
							<div class="options-div" draggable="true"  id="{{nav.id}}" ondragend="dragend(event)"  ondragstart="ondragstartChange(event,this)" ng-click="addItem(nav.id,0,1)">
								<img draggable="false" ng-src='{{nav.logo_icon}}' />
								<div class="text-div" ng-bind="nav.name"></div>
							</div>
						</div>
					</div>
				</div>
			<!-- <div ng-repeat="nav in navs">
				<div class="options-div" draggable="true"  id="{{nav.id}}" ondragend="dragend(event)"  ondragstart="ondragstartChange(event,this)" ng-click="addItem(nav.id,0,1)">
					<img draggable="false" style="width: 50px;height: 50px;" src="http://t14.baidu.com/it/u=456871674,33376056&fm=224&app=112&f=JPEG?w=500&h=500"/>
					<p ng-bind="nav.name"></p>
				</div>
			</div> -->
		</div>
	</div>
	<div class="dsn-phone">
		<div class="dsn-phone-center" style="height: 95%;">
			<div class="dsn-phone-main" style="padding:0;widht:375px;overflow:hidden;height: 100%;background-image: none;">
				<!-- ng-mouseover="overphone()" -->
				<div id="editor" style="height: 100%;">
					<!-- 页面头部标题 -->
					<div ng-repeat="page in pages">
						<div ng-include="'show-'+page.temp+'.html'" class="toIndex" id="{{page.id}}" mid="{{page.id}}" ng-click="setfocus(page.id,$event)"></div>
					</div>
					<div id="editor-content" style="background-color:{{pages[0].params.bgcolor}};" ondrop="drop(event)"  ondragover="allowDrop(event,this)">
						<div style="height: 50px;" ng-show="pages[0].params.guide==1"></div>
						<div ng-repeat="Item in Items" class="dsn-repeat" ondragenter="dragenter(event,this)" ondragleave="dragleave(event,this)" 
							style="{{Item.temp=='cover'?'position:absolute;z-index:'+(9999+$index)+';top:'+(Item.params.top*0.95)+'%;left:'+(Item.params.left*0.86)+'%;':''}}" 
							ng-mouseover="over(Item.id)" ng-mouseleave="out(Item.id)">
							<div ng-show="Item.temp!='cover'" class="dsn-mod-move" ng-click="setfocus(Item.id,$event)" ItemP='{{Item.params.margin_y}}'></div>
							<div ng-include="'show-'+Item.temp+'.html'" class="dsn-parent" id="{{Item.id}}" ng-show="Item" mid="{{Item.id}}" on-finish-render-filters></div>
							<div class="dsn-del" ng-click="delItem(Item.id)">移除</div>
							<div class="occupying-box">释放鼠标将组件添加到此处</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="dsn-panel" style="margin-left: 0px;margin-top: 0px;width: 360px;height:100%;background:#fff;">
		<!-- editor start -->
		<div class="dsn-panel-editor dsn-panel-editor-content2" ng-show="focus">
			<!-- <div class="dsn-panel-editor-ico"></div> -->
			<div ng-repeat="Edit in pages">
				<div ng-include="'edit-'+Edit.temp+'.html'" ng-show="focus==Edit.id" Editid="{{Edit.id}}"></div>
			</div>
			<div ng-repeat="Edit in Items">
				<div ng-include="'edit-'+Edit.temp+'.html'" ng-show="focus==Edit.id" Editid="{{Edit.id}}" tab-index="-1"></div>
			</div>
		</div>
		<!-- editor end -->
	</div>
	<!-- editor template  page start -->
	<?php if($info['ishome']==2): ?>
	<script type="text/ng-template" id="edit-topbar.html"><div class="dsn-panel-editor-title">页面信息设置<span style="font-size: 12px; margin-left: 10px;"></span></div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
    <div class="layui-form-label">页面标题</div>
    <div class="layui-input-inline">
        <input class="layui-input" placeholder="页面标题，手机端的页面标题" ng-model="Edit.params.title" />
    </div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline">
			<input type="text" name="menu_bgcolor" class="layui-input" ng-model="Edit.params.bgcolor">
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	
</div>
</script>
	<?php else: ?>
	<script type="text/ng-template" id="edit-topbar.html"><style>
	.input-text{font-size: 12px;}
	.dsn-panel-editor-title {font-size: 14px;font-weight:bold;color: #2D2D2D;width: 100%;padding: 9px 0;display: flex;border:none;}
	.dsn-panel-editor-content .layui-form-item{margin-bottom: 10px;}
	.dsn-panel-editor-content .layui-form-item .layui-form-label{font-size:12px;}
	.layui-form-item .layui-input-inline{width: 230px;border-radius: 5px;overflow: hidden;}
	.layui-form-item .layui-input-inline .layui-input{background: #F7F7F7;border:none;font-size:12px;color: #3D3D3D;}
	.layui-form-item .layui-form-mid{float: right;padding: 5px 0!important;font-size:12px;}
	.layui-form-radio>i:hover, .layui-form-radioed>i {color: #3772E8;}
	.layui-form-checkbox[lay-skin=primary]:hover i {border-color: #3772E8;color: #fff}
	.layui-form-checked[lay-skin=primary] i {border-color: #3772E8;background-color: #3772E8;color: #fff}
	.dsn-panel-editor-content{height: 850px !important;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.custom-placeholder::placeholder{color:#3D3D3D;} 
</style>
<div class="dsn-panel-editor-title">页面信息设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">页面标题</div>
		<div class="layui-input-inline">
			<input type="text" name="menu_name" class="layui-input" ng-model="Edit.params.title">
		</div>
		<div class="layui-form-mid layui-word-aux" style="float:left;">手机端的页面标题</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">导航背景颜色</div>
		<div class="layui-input-inline">
			<input type="text" class="layui-input custom-placeholder" disabled placeholder="前往设置  :  系统 - 系统设置 - 主色调">
		</div>
		<?php if(in_array('mp',$platform)): ?>
		<div class="layui-form-mid layui-word-aux" style="float:left;">微信公众号：固定颜色，不支持修改</div>
		<?php endif; if(in_array('wx',$platform) || in_array('alipay',$platform) || in_array('baidu',$platform) || in_array('toutiao',$platform) || in_array('qq',$platform)): ?>
		<div class="layui-form-mid layui-word-aux" style="float:left;">各平台小程序：小程序发布时设置颜色</div>
		<?php endif; ?>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input type="text" name="menu_bgcolor" class="layui-input" ng-model="Edit.params.bgcolor" />
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor" style="margin:0;"></span>
	</div>
	<?php if(getcustom('design_cat')): ?>
		<div class="layui-form-item">
			<label class="layui-form-label">分类</label>
			<div class="layui-input-inline" style="">
				<select class="layui-input" style="width:100%;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.cid">
					<option value="">请选择</option>
					<?php foreach($cat_list as $v): ?>
					<option value="<?php echo $v['id']; ?>"><?php echo $v['name']; ?></option>
					<?php endforeach; ?>
				</select>
			</div>
		</div>
	<?php endif; ?>
	
	<div class="layui-form-item">
		<div class="layui-form-label">强制登录</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="关闭"  name="{{Edit.id}}_needlogin" value="0" ng-model="Edit.params.needlogin">
			<input class="radio" type="radio" title="开启"  name="{{Edit.id}}_needlogin" value="1" ng-model="Edit.params.needlogin">
		</div>
	</div>
	<?php if(!$info || $info['ishome'] == 0): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">查看权限</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php if(!$type): foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
			<?php endif; if(getcustom('form_query')): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="管理员" name="{{Edit.id}}_quanxian['gly']" ng-model="Edit.params.quanxian['gly']"/>
			<?php endif; ?>
		</div>
	</div>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">无权限提示</div>
		<div class="layui-input-inline" style="border-radius: 0;">
			<input class="layui-input" ng-model="Edit.params.quanxiantips" />
		</div>
		<div class="layui-form-mid"></div>
	</div>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">无权限跳转</div>
		<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl2" placeholder="选择链接"/>
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -2)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">付费查看</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="否"  name="{{Edit.id}}_fufei" value="0" ng-model="Edit.params.fufei">
			<input class="radio" type="radio" title="是"  name="{{Edit.id}}_fufei" value="1" ng-model="Edit.params.fufei">
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.fufei==1">
		<div class="layui-form-label">支付金额</div>
		<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
			<input class="layui-input" ng-model="Edit.params.money" />
			<div class="layui-form-mid">元</div>
		</div>
	</div>
	<?php endif; ?>
	
	<div class="layui-form-item">
		<div class="layui-form-label">开屏广告</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="关闭"  name="{{Edit.id}}_showgg" value="0" ng-model="Edit.params.showgg">
			<?php if(getcustom('design_guanggao_video')): ?>
			<input class="radio" type="radio" title="图片"  name="{{Edit.id}}_showgg" value="1" ng-model="Edit.params.showgg">
			<input class="radio" type="radio" title="视频"  name="{{Edit.id}}_showgg" value="2" ng-model="Edit.params.showgg">
			<?php endif; if(!getcustom('design_guanggao_video')): ?>
			<input class="radio" type="radio" title="开启"  name="{{Edit.id}}_showgg" value="1" ng-model="Edit.params.showgg">
			<?php endif; ?>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showgg==1">
		<div class="layui-form-label">广告图片</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.guanggao" placeholder=""/>
		</div>
		<img src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:60px;height:60px;cursor:pointer" ng-click="uploadImg(Edit.id,'guanggao')">
		<img ng-src="{{Edit.params.guanggao}}" style="width:60px;height:60px;cursor:pointer" ng-click="uploadImg(Edit.id,'guanggao')" onclick="window.open($(this).attr('src'))">
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showgg==2">
		<div class="layui-form-label">广告视频</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.guanggao" placeholder=""/>
		</div>
		<div class="layui-input-inline">
			<div><button class="layui-btn layui-btn-primary" ng-click="uploadImg(Edit.id,'guanggao')">选择视频</button></div>
			<div>
				<img ng-show="Edit.params.showgg==1" ng-src="{{Edit.params.guanggao}}" style="width:60px;height:60px;cursor:pointer" onclick="window.open($(this).attr('src'))">
				<?php if(getcustom('design_guanggao_video')): ?>
				<video ng-show="Edit.params.showgg==2" ng-src="{{Edit.params.guanggao}}" height="60" width="140" style="margin-top:7px;" controls></video>
				<?php endif; ?>
			</div>
		</div>
	</div>
	
	<div class="layui-form-item" ng-show="Edit.params.showgg>0">
		<div class="layui-form-label">展示人群</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人"  name="{{Edit.id}}_ggrenqun[0]" ng-model="Edit.params.ggrenqun[0]"/>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="已关注"  name="{{Edit.id}}_ggrenqun[-1]" ng-model="Edit.params.ggrenqun[-1]"/>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="未关注"  name="{{Edit.id}}_ggrenqun[-2]" ng-model="Edit.params.ggrenqun[-2]"/>
			<?php if(!$type): foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_ggrenqun[<?php echo $lv['id']; ?>]" ng-model="Edit.params.ggrenqun[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
			<?php endif; ?>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showgg>0">
		<div class="layui-form-label">展示方式</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="radio" type="radio" title="首次"  name="{{Edit.id}}_cishu" value="0" ng-model="Edit.params.cishu">
			<input class="radio" type="radio" title="每次"  name="{{Edit.id}}_cishu" value="1" ng-model="Edit.params.cishu">
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showgg==1">
		<div class="layui-form-label">跳转链接</div>
		<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
	</div>
</div></script>
	<?php endif; ?>
	<script type="text/ng-template" id="edit-shop.html"><style>
	.dsn-panel-editor-relative {width: 100%;height: auto;position: relative;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-bottom: 5px;padding: 6px;border-bottom: 1px #dbdbdb solid;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.dsn-panel-editor-line-right{margin-left: 0px;width: 100%;}
	.dsn-panel-editor-line-right .layui-form-item{margin-bottom: 0px;width: 100%;}
	.dsn-panel-editor-line-right .layui-form-item .layui-input-inline{width: 100%;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.icon-div{width: 70px;height: 70px;border-radius: 3px;background: #F7F7F7;align-items: center;cursor:pointer;}
	.icon-div img{width: 40px;height: 40px;}
	.link-div{display:flex;align-items: center;justify-content: space-between;width: 100%;}
</style>
<div class="dsn-panel-editor-title">店招设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">选择样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="样式一" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" />
			<input class="radio" type="radio" title="样式二" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商城logo</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="显示" name="{{Edit.id}}_logo" value="1" ng-model="Edit.params.logo" />
			<input class="radio" type="radio" title="不显示" name="{{Edit.id}}_logo" value="2" ng-model="Edit.params.logo" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商城名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="显示" name="{{Edit.id}}_name" value="1" ng-model="Edit.params.name" />
			<input class="radio" type="radio" title="不显示" name="{{Edit.id}}_name" value="2" ng-model="Edit.params.name" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">默认导航</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" title="显示" name="{{Edit.id}}_menu" value="1" ng-model="Edit.params.menu" />
			<input class="radio" type="radio" title="不显示" name="{{Edit.id}}_menu" value="2" ng-model="Edit.params.menu" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.navcolor}}" ng-model="Edit.params.navcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.navcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景图片</div>
		<div class="layui-input-inline">
			<div class="dsn-panel-editor-upload" ng-click="shopImg(Edit.id)">
				<img ng-src="{{Edit.params.bgimg}}" width="100%" ng-show="Edit.params.bgimg" />
				<div class="dsn-panel-editor-upload-choose2" ng-show="Edit.params.bgimg">重新选择背景图片</div>
				<div class="dsn-panel-editor-upload-choose1" ng-show="!Edit.params.bgimg"><i class="fa fa-plus-circle"></i> 选择图片</div>
			</div>
		</div>
	</div>
	<div class="title-div flex-box">
		<div>按钮配置</div>
	</div>
	<div ng-repeat="menu in Edit.data" ng-show="Edit.params.menu == 1" class="dsn-panel-editor-relative">
		<div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-line-right">
				<div class="layui-form-item">
					<div class="layui-form-label">按钮文字</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="" ng-model="menu.text" placeholder="请填写按钮文字" />
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label link-div">链接地址</div>
					<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
						<input class="layui-input"  value="" ng-model="menu.hrefurl" placeholder="链接地址"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id, menu.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<div class="layui-form-mid layui-word-aux" style="float:left;">{{menu.hrefname}}</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">图 标</div>
					<div class="layui-input-inline" style="background: none !important;">
						<div class="icon-div flex-x-center" ng-click="uploadImgChild(Edit.id, menu.id)">
							<input class="hide"  value="" ng-model="menu.icon" placeholder=""/>
							<div><img ng-src="{{menu.imgurl}}"/></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<hr>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-notice.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {margin-right: 10px;cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-relative{padding: 0px;margin: 0;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.img-div{width: 88px;height:88px;cursor: pointer;background:#F7F7F7;}
	.editor-goodimg{height: 22px;width: 88px !important;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
	.dsn-panel-editor-content { height: 100% !important;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
</style>
<div class="dsn-panel-editor-title">公告设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item"  style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">公告图标</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showimg" title="不显示" value="0" ng-model="Edit.params.showimg"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showimg" title="显示" value="1" ng-model="Edit.params.showimg" />
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showimg==1">
		<div class="layui-form-label">选择图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.img" placeholder=""/>
			<div class="img-div" ng-click="uploadImg(Edit.id,'img')">
				<img width="100%" ng-show="Edit.params.img" ng-src="{{Edit.params.img}}">
				<img ng-show="!Edit.params.img" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div ng-show="Edit.params.img" class="editor-goodimg">重新选择图片</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">小图标</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showicon" title="不显示" value="0" ng-model="Edit.params.showicon"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showicon" title="显示" value="1" ng-model="Edit.params.showicon" />
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
		<div class="layui-form-label">选择图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.icon" placeholder=""/>
			<div class="img-div" ng-click="uploadImg(Edit.id,'icon')">
				<img width="100%" ng-show="Edit.params.icon" ng-src="{{Edit.params.icon}}">
				<img ng-show="!Edit.params.icon" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div ng-show="Edit.params.icon" class="editor-goodimg">重新选择图片</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">文字颜色</div>
		<div class="layui-input-inline" style="width:180px;">
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
		</div>
		<div class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">文字大小</div>
		<div class="slider" min="10" max="40" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<div class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">滚动速度</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.scroll"></div>
		<span class="slider-span"><input ng-model="Edit.params.scroll"/> 秒</span>
	</div>
	<div class="title-div flex-box">
		<div>公告</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
	</div>
	<div ng-repeat="item in Edit.data" class="dsn-panel-editor-relative">
    <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,item.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,item.id)">×</div>
    <div class="dsn-panel-editor-line">
			<div class="layui-form-item">
				<div class="layui-form-label">标题名称</div>
				<div class="layui-input-inline" style="margin-bottom: 5px;">
					<input class="layui-input" placeholder="标题名称" ng-model="item.title" />
				</div>
				<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
					<input class="layui-input" value="" placeholder="跳转链接" ng-model="item.hrefurl" />
					<div class="icon-input" ng-click="chooseUrl(Edit.id,item.id)">
						<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
					</div>
				</div>
				<div class="layui-form-mid layui-word-aux" style="float: left;">{{item.hrefname}}</div>
			</div>
		</div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('notice2', Edit.id)">添加公告</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-menu.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width:100%;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;margin-bottom:5px;}
	.dsn-panel-editor-relative .tisp-text{width: 240px;overflow: hidden;white-space: normal;text-overflow: ellipsis;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width:88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
	.dsn-panel-editor-line-right{margin-left: 10px;}
	.layui-form-item .layui-input-inline .layui-input{background: #F7F7F7;border:none;font-size:12px;color: #3D3D3D;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.dsn-panel-editor-line-right .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;background: #F7F7F7;}
</style>
<div class="dsn-panel-editor-title">按钮导航设置</div>
<div class="dsn-panel-editor-content">
	<!-- <div class="layui-form-item">
    <div class="layui-form-label">图标样式</div>
    <div class="layui-input-inline">
        <input class="radio" type="radio" name="{{Edit.id}}_style" value="0" ng-model="Edit.params.style"> 正方形
        <input class="radio" type="radio" name="{{Edit.id}}_style" value="100%" ng-model="Edit.params.style"> 圆形
    </div>
	</div> -->
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">每行显示</div>
		<div class="layui-input-inline">
		  <input class="radio" type="radio" name="{{Edit.id}}_num" value="2" ng-model="Edit.params.num" title="两个">
		  <input class="radio" type="radio" name="{{Edit.id}}_num" value="3" ng-model="Edit.params.num" title="三个">
		  <input class="radio" type="radio" name="{{Edit.id}}_num" value="4" ng-model="Edit.params.num" title="四个">
		  <input class="radio" type="radio" name="{{Edit.id}}_num" value="5" ng-model="Edit.params.num" title="五个">
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">每页显示</div>
		<div class="slider" min="4" max="10" ng-model="Edit.params.pernum"></div>
		<span class="slider-span"><input ng-model="Edit.params.pernum"/> 个</span>
		<span class="layui-form-mid layui-word-aux" style="float:left">注: 超出将左右滑动显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">图标</div>
		<div class="layui-input-inline">
		  <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="1" ng-model="Edit.params.showicon" title="显示">
		  <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="0" ng-model="Edit.params.showicon" title="不显示">
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
		<div class="layui-form-label">图标大小</div>
		<div class="slider" min="10" max="60" ng-model="Edit.params.iconsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.iconsize"/> px</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
		<div class="layui-form-label">圆角度数</div>
		<div class="slider" ng-model="Edit.params.radius"></div>
		<span class="slider-span"><input ng-model="Edit.params.radius"/> px</span>
		<span class="layui-form-mid layui-word-aux" style="float:left">注: 0是方形 100是圆形</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题</div>
		<div class="layui-input-inline">
		  <input class="radio" type="radio" name="{{Edit.id}}_showtitle" value="1" ng-model="Edit.params.showtitle" title="显示">
		  <input class="radio" type="radio" name="{{Edit.id}}_showtitle" value="0" ng-model="Edit.params.showtitle" title="不显示">
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showtitle==1">
		<div class="layui-form-label">标题内容</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.title"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showtitle==1">
		<div class="layui-form-label">标题大小</div>
		<div class="slider" min="10" max="40" ng-model="Edit.params.titlesize"></div>
		<span class="slider-span"><input ng-model="Edit.params.titlesize"/> px</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showtitle==1">
		<div class="layui-form-label" ng-model="Edit.params.bgcolor">标题颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.titlecolor}}" ng-model="Edit.params.titlecolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.titlecolor"></span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==0">
		<div class="layui-form-label">中间竖线</div>
		<div class="layui-input-inline">
		  <input class="radio" type="radio" name="{{Edit.id}}_showline" value="1" ng-model="Edit.params.showline" title="显示">
		  <input class="radio" type="radio" name="{{Edit.id}}_showline" value="0" ng-model="Edit.params.showline" title="不显示">
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label" ng-model="Edit.params.bgcolor">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">字体大小</div>
		<div class="slider" min="10" max="40" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">字体行高</div>
		<div class="slider" min="20" max="60" ng-model="Edit.params.fontheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontheight"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">圆角度</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.boxradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.boxradius"/> px</span>
	</div>
	<div class="title-div flex-box">
		<div>按钮设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
	</div>
	<div ng-repeat="menu in Edit.data" class="dsn-panel-editor-relative">
		<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,menu.id)"><i class="fa fa-arrow-up"></i></div>
		<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,menu.id)">×</div>
		<div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0" ng-click="uploadImgChild(Edit.id, menu.id)"
			ng-style="{'background':'url(' + menu.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{menu.imgurl}}" width="100%" ng-show="menu.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!menu.imgurl" style="line-height:120px;"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="menu.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right ">
				<div class="layui-form-item">
					<div class="layui-form-label">按钮文字</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="" ng-model="menu.text" placeholder="请填写按钮文字" />
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">文字颜色</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="{{menu.color}}" ng-model="menu.color" style="width:160px;display: inline;float: left;" />
						<span class="colorpicker" coloralpha="1" ng-model="menu.color" style="float: left;margin: 0px 0px 0px 40px;"></span>
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">跳转链接</div>
					<div class="layui-input-inline flex-y-center" style="background: #F7F7F7">
						<input class="layui-input" value="" ng-model="menu.hrefurl" placeholder="跳转链接"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id,menu.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<div class="layui-form-mid layui-word-aux tisp-text" style="float: left">{{menu.hrefname}}</div>
				</div>
				<?php if($mendian_upgrade): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">是否申请门店</div>
					<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
						<input class="radio" type="radio" name="{{menu.id}}_ismendian" value="0" ng-model="menu.ismendian" title="不限"/>
						<input class="radio" type="radio" name="{{menu.id}}_ismendian" value="1" ng-model="menu.ismendian" title="已申请"/>
						<input class="radio" type="radio" name="{{menu.id}}_ismendian" value="2" ng-model="menu.ismendian" title="未申请"/>
					</div>
				</div>
				<?php endif; ?>
			</div>
		</div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('menu', Edit.id)")">添加按钮</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    	<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">身份范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有身份" name="{{Edit.id}}_identity['all']" ng-model="Edit.params.identity['all']"/>
			<?php foreach($identityList as $identity): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $identity['name']; ?>" name="{{Edit.id}}_identity['<?php echo $identity['id']; ?>']" ng-model="Edit.params.identity['<?php echo $identity['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-banner.html"><style>
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.dsn-panel-editor-relative{padding: 0px;margin-bottom: 10px;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;box-sizing: border-box;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg {width: 88px;height:88px;overflow: hidden;border-radius: 5px;border: 1px solid #ccc;float: left;position: relative;background: #fff;cursor: pointer;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.dsn-panel-editor-line-right {width:100%;border-radius: 5px;display: flex;flex-direction: column;align-items: flex-start;justify-content: flex-end;margin-left: 10px;}
	.dsn-panel-editor-line-right .layui-input-inline{background: #F7F7F7;}
	.dsn-panel-editor-line-right .layui-input-inline .layui-input{border:none;background:none;width: 200px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">轮播设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">是否显示指示点</div>
		<div class="layui-input-inline">
			<input class="radio" title="显示" type="radio" name="{{Edit.id}}_indicatordots" value="1" ng-model="Edit.params.indicatordots">
			<input class="radio" title="不显示" type="radio" name="{{Edit.id}}_indicatordots" value="0" ng-model="Edit.params.indicatordots">
    </div>
	</div>
	<div ng-show="Edit.params.indicatordots==1">
	<div class="layui-form-item">
    <div class="layui-form-label">指示点形状</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_shape" value="" ng-model="Edit.params.shape" title="默认">
        <input class="radio" type="radio" name="{{Edit.id}}_shape" value="shape1" ng-model="Edit.params.shape" title="长方形">
				<input class="radio" type="radio" name="{{Edit.id}}_shape" value="shape3" ng-model="Edit.params.shape" title="圆形">
        <input class="radio" type="radio" name="{{Edit.id}}_shape" value="shape2" ng-model="Edit.params.shape" title="正方形">
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">指示点位置</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_align" value="left" ng-model="Edit.params.align" title="居左">
			<input class="radio" type="radio" name="{{Edit.id}}_align" value="center" ng-model="Edit.params.align" title="居中">
			<input class="radio" type="radio" name="{{Edit.id}}_align" value="right" ng-model="Edit.params.align" title="居右">
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">指示点与下方距离</div>
    <div class="slider" min="0" max="{{Edit.params.height}}" ng-model="Edit.params.dotSite"></div>
		<span class="slider-span"><input ng-model="Edit.params.dotSite"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">指示点颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.indicatorcolor}}" ng-model="Edit.params.indicatorcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.indicatorcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">选中指示点颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.indicatoractivecolor}}" ng-model="Edit.params.indicatoractivecolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.indicatoractivecolor"></span>
	</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">轮播图高度</div>
    <div class="slider" min="100" max="500" ng-model="Edit.params.height"></div>
		<span class="slider-span"><input ng-model="Edit.params.height"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">自动切换时间</div>
    <div class="slider" min="2" max="20" ng-model="Edit.params.interval"></div>
		<span class="slider-span"><input ng-model="Edit.params.interval"/> 秒</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<!--<div class="layui-form-item">
    <div class="layui-form-label">前边距</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.previous_margin"></div>
		<span class="slider-span">
			<input ng-model="Edit.params.previous_margin"/> px
			<span style="color:#999">可用于露出前一项的一小部分</span>
		</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">后边距</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.next_margin"></div>
		<span class="slider-span">
			<input ng-model="Edit.params.next_margin"/> px
			<span style="color:#999">可用于露出后一项的一小部分</span>
		</span>
	</div>-->

	<div class="title-div flex-box">
		<div>轮播图片</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/></div> -->
	</div>
	<div ng-repeat="banner in Edit.data" class="dsn-panel-editor-relative">
    <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,banner.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id, banner.id)">×</div>
    <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0 flex-x-center" ng-click="uploadImgChild(Edit.id, banner.id)" 
			 ng-style="{'background':'url(' + banner.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{banner.imgurl}}" width="100%" ng-show="banner.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!banner.imgurl"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="banner.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right">
				<div class="layui-input-inline flex-y-center">
						<input class="layui-input" value="" ng-model="banner.hrefurl" placeholder="请选择跳转链接"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id, banner.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
				</div>
				<span style="margin-left:10px">{{banner.hrefname}}</span>
			</div>
    </div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('banner', Edit.id)">添加轮播图</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">身份范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有身份" name="{{Edit.id}}_identity['all']" ng-model="Edit.params.identity['all']"/>
			<?php foreach($identityList as $identity): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $identity['name']; ?>" name="{{Edit.id}}_identity['<?php echo $identity['id']; ?>']" ng-model="Edit.params.identity['<?php echo $identity['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-picture.html"><style>
	.dsn-panel-editor-relative{padding: 0px;margin-bottom: 5px;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;
		box-sizing: border-box;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg {width: 88px;height:88px;overflow: hidden;border-radius: 5px;border: 1px solid #ccc;float: left;position: relative;background: #fff;cursor: pointer;}
	.dsn-panel-editor-line-right {width:100%;border-radius: 5px;display: flex;flex-direction: column;align-items: flex-start;justify-content: flex-end;margin-left: 10px;}
	.dsn-panel-editor-line-right .layui-input-inline{background: #F7F7F7;}
	.dsn-panel-editor-line-right .layui-input-inline .layui-input{border:none;background:none;width: 200px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;
	text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">单图设置<span class="tips"></span></div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="title-div flex-box">
		<div>图片设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
	</div>
	<div ng-repeat="picture in Edit.data" class="dsn-panel-editor-relative">
		<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,picture.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id, picture.id)">×</div>
    <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0" ng-click="uploadImgChild(Edit.id, picture.id)" ng-style="{'background':'url(' + picture.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{picture.imgurl}}" width="100%" ng-show="picture.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!picture.imgurl"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="picture.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right">
				<div class="layui-input-inline flex-y-center">
					<input class="layui-input"  value="" ng-model="picture.hrefurl" placeholder="链接地址"/>
					<div class="icon-input" ng-click="chooseUrl(Edit.id, picture.id)">
						<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
					</div>
				</div>
				<span class="layui-word-aux" style="float: left;font-size: 12px;padding: 5px 0px;">{{picture.hrefname}}</span>
			</div>
    </div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('picture', Edit.id)">添加图片</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">身份范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有身份" name="{{Edit.id}}_identity['all']" ng-model="Edit.params.identity['all']"/>
			<?php foreach($identityList as $identity): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $identity['name']; ?>" name="{{Edit.id}}_identity['<?php echo $identity['id']; ?>']" ng-model="Edit.params.identity['<?php echo $identity['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-pictures.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative{padding: 0px;margin-bottom: 5px;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;box-sizing: border-box;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg {width: 88px;height:88px;overflow: hidden;border-radius: 5px;border: 1px solid #ccc;float: left;position: relative;background: #fff;cursor: pointer;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.dsn-panel-editor-line-right {width:100%;border-radius: 5px;display: flex;flex-direction: column;align-items: flex-start;justify-content: flex-end;}
	.dsn-panel-editor-line-right .layui-input-inline{background: #F7F7F7;}
	.dsn-panel-editor-line-right .layui-input-inline .layui-input{border:none;background:none;width: 200px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">多图设置<span class="tips"></span></div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">布局方式</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" title="堆积两列"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" title="堆积三列"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="4" ng-model="Edit.params.style" title="堆积四列"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="5" ng-model="Edit.params.style" title="橱窗样式"/>
			
    </div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 6">
	  <div class="layui-form-label">图片圆角度</div>
	  <div class="slider" min="0" max="50" ng-model="Edit.params.imageRadius"></div>
		<span class="slider-span"><input ng-model="Edit.params.imageRadius"/> px</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 6">
	  <div class="layui-form-label">图片宽度</div>
	  <div class="slider" min="0" max="100" ng-model="Edit.params.imageWidth"></div>
		<span class="slider-span"><input ng-model="Edit.params.imageWidth"/> %</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 6">
	  <div class="layui-form-label">图片高度</div>
	  <div class="slider" min="0" max="400" ng-model="Edit.params.imageHeight"></div>
		<span class="slider-span"><input ng-model="Edit.params.imageHeight"/> px</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 6">
	  <div class="layui-form-label">图片间距</div>
	  <div class="slider" min="0" max="50" ng-model="Edit.params.imageRight"></div>
		<span class="slider-span"><input ng-model="Edit.params.imageRight"/> %</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="title-div flex-box">
		<div>图片设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
	</div>
	<div ng-repeat="picture in Edit.data" class="dsn-panel-editor-relative" >
    <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,picture.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id, picture.id)">×</div>
    <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0" ng-click="uploadImgChild(Edit.id, picture.id)" ng-style="{'background':'url(' + picture.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{picture.imgurl}}" width="100%" ng-show="picture.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!picture.imgurl"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="picture.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right">
				<div class="layui-form-item">
					<div class="layui-form-label">点击图片</div>
					<div class="layui-input-inline flex-box" style="background:none">
						<input class="radio" type="radio" name="{{picture.id}}_gototype" value="0" ng-model="picture.gototype" title="跳转链接"/>
						<input class="radio" type="radio" name="{{picture.id}}_gototype" value="1" ng-model="picture.gototype" title="预览图片"/>
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
						<input class="layui-input" value="" ng-model="picture.hrefurl" placeholder='链接地址' />
						<div class="icon-input" ng-click="chooseUrl(Edit.id, picture.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<div class="layui-form-mid layui-word-aux" style="float: left;"><span>{{picture.hrefname}}</span></div>
				</div>
			</div>
    </div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addItemChild('pictures', Edit.id)">添加图片</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-title.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">标题设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题名称</div>
    <div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.title" />
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">图标</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="1" ng-model="Edit.params.showicon" title="显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="0" ng-model="Edit.params.showicon" title="不显示"/>
    </div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
		<div class="layui-form-label">选择图标</div>
		<div class="layui-form-mid">
			<span class="layui-btn layui-btn-sm layui-btn-primary" ng-click="uploadImg(Edit.id,'imgurl')">上传图标</span>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
    <div class="layui-form-label">图标大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.iconsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.iconsize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">横线颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.linecolor}}" ng-model="Edit.params.linecolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.linecolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-dhlist.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border-bottom: 1px solid #e5e5e5;border-radius: 3px;margin-top: 5px;padding: 2px;}
	.dsn-panel-editor-line .layui-input-inline{background: #F7F7F7;width: 220px;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">列表导航设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题大小</div>
		<div class="slider" min="10" max="40" ng-model="Edit.params.fontsize1"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize1"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color1}}" ng-model="Edit.params.color1"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color1"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题左间距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.titlemarginleft"></div>
		<span class="slider-span"><input ng-model="Edit.params.titlemarginleft"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">备注大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.fontsize2"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize2"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">备注颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color2}}" ng-model="Edit.params.color2"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color2"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">右箭头</div>
    <div class="layui-input-inline">
        <input class="radio" type="radio" name="{{Edit.id}}_arrowshow" value="1" ng-model="Edit.params.arrowshow" title="显示"/>
        <input class="radio" type="radio" name="{{Edit.id}}_arrowshow" value="0" ng-model="Edit.params.arrowshow" title="不显示"/>
    </div>
	</div>
	<div class="title-div flex-box">
		<div>列表图标</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
	</div>
	<div ng-repeat="dh in Edit.data" class="dsn-panel-editor-relative">
    <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,dh.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,dh.id)">×</div>
    <div class="dsn-panel-editor-line">
			<div class="layui-form-item" style="margin-bottom:0">
				<div class="layui-form-label">图标</div>
				<div class="layui-input-inline" style="width:180px;background:none;">
					<input class="radio" type="radio" name="showicon_{{dh.id}}" value="1" ng-model="dh.showicon" title="显示"/>
					<input class="radio" type="radio" name="showicon_{{dh.id}}" value="0" ng-model="dh.showicon" title="不显示"/>
				</div>
			</div>
			<div class="layui-form-item" style="margin-bottom:0" ng-show="dh.showicon==1">
				<div class="layui-form-label">选择图标</div>
				<div class="layui-form-mid" style="float: left">
					<span class="layui-btn layui-btn-sm layui-btn-primary" ng-click="uploadImgChild(Edit.id,dh.id)">上传图标</span>
				</div>
			</div>
			<div class="layui-form-item" style="margin-bottom:0" ng-show="dh.showicon==1">
				<div class="layui-form-label">图标大小</div>
				<div class="slider" min="10" max="40" ng-model="dh.iconsize"></div>
				<span class="slider-span"><input ng-model="dh.iconsize"/> px</span>
			</div>
			<div class="layui-form-item">
				<div class="layui-form-label">标题名称</div>
				<div class="layui-input-inline">
					<input class="layui-input" ng-model="dh.title1" />
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-form-label">备注内容</div>
				<div class="layui-input-inline">
					<input class="layui-input" ng-model="dh.title2" />
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-form-label">跳转链接</div>
				<div class="layui-input-inline flex-y-center">
					<input class="layui-input" value="" ng-model="dh.hrefurl" placeholder="跳转链接" />
					<div class="icon-input" ng-click="chooseUrl(Edit.id,dh.id)">
						<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
					</div>
				</div>
				<div class="layui-form-mid layui-word-aux" style="float: left" >{{dh.hrefname}}</div>
			</div>
		</div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addItemChild('dhlist', Edit.id)">添加</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if($mendian_upgrade): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">是否申请门店</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="radio" type="radio" name="{{Edit.id}}_ismendian" value="0" ng-model="Edit.params.ismendian" title="不限"/>
		  <input class="radio" type="radio" name="{{Edit.id}}_ismendian" value="1" ng-model="Edit.params.ismendian" title="已申请"/>
		  <input class="radio" type="radio" name="{{Edit.id}}_ismendian" value="2" ng-model="Edit.params.ismendian" title="未申请"/>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-text.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">文本设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">文本内容</div>
    <div class="layui-input-inline" style="width:98%">
			<textarea class="layui-textarea" ng-model="Edit.params.content" style="height:100px;"></textarea>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">文本大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">文本行高</div>
    <div class="slider" min="10" max="50" ng-model="Edit.params.lineheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.lineheight"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">字体间距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.letter_spacing"></div>
		<span class="slider-span"><input ng-model="Edit.params.letter_spacing"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">字体加粗</div>
    <div class="layui-input-inline">
			<input style="display:none" type="checkbox" class="switch" lay-skin="switch" ng-model="Edit.params.fontbold">
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">对齐方向</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_align" value="left" ng-model="Edit.params.align" title="居左"/>
      <input class="radio" type="radio" name="{{Edit.id}}_align" value="center" ng-model="Edit.params.align" title="居中"/>
      <input class="radio" type="radio" name="{{Edit.id}}_align" value="right" ng-model="Edit.params.align" title="居右"/>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">文字颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景图片</div>
		<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" value="{{Edit.params.bgpic}}" ng-model="Edit.params.bgpic" placeholder="图片链接"/>
			<div class="icon-input" ng-click="uploadImg(Edit.id,'bgpic')">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">跳转链接</div>
    <div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl" placeholder="跳转链接" />
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left">{{Edit.params.hrefname}}</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">身份范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有身份" name="{{Edit.id}}_identity['all']" ng-model="Edit.params.identity['all']"/>
			<?php foreach($identityList as $identity): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $identity['name']; ?>" name="{{Edit.id}}_identity['<?php echo $identity['id']; ?>']" ng-model="Edit.params.identity['<?php echo $identity['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-search.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative{padding: 0px;margin: 0;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">搜索框设置</div>
<div class="dsn-panel-editor-content">
  <?php if(getcustom('search_openmore')): ?>
    <div class="layui-form-item">
      <div class="layui-form-label">开启多搜索</div>
      <div class="layui-input-inline" style="padding: 3px 0px;">
          <input class="radio" type="radio" name="{{Edit.id}}_openmore" value="1" ng-model="Edit.params.openmore" title="开启"/>
          <input class="radio" type="radio" name="{{Edit.id}}_openmore" value="0" ng-model="Edit.params.openmore" title="不开启"/>
      </div>
      <div class="layui-form-mid layui-word-aux" style="float:left;">开启后下方的提示文字及跳链接将失效</div>
    </div>
    <div class="layui-form-item" ng-show="Edit.params.openmore == 1">
      <div ng-show="Edit.data" ng-repeat="dh in Edit.data" class="dsn-panel-editor-relative">
        <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,dh.id)"><i class="fa fa-arrow-up"></i></div>
        <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,dh.id)">×</div>
        <div class="dsn-panel-editor-line">
          <div class="layui-form-item">
            <div class="layui-form-label">标题名称</div>
            <div class="layui-input-inline">
							<input class="layui-input" ng-model="dh.title1" />
            </div>
          </div>
          <div class="layui-form-item">
						<div class="layui-form-label">提示文字</div>
						<div class="layui-input-inline">
							<input class="layui-input" ng-model="dh.title2" />
						</div>
          </div>
          <div class="layui-form-item">
            <div class="layui-form-label">跳转链接</div>
            <div class="layui-input-inline flex-box" style="background: #F7F7F7;">
              <input class="layui-input" value="" placeholder="跳转链接" ng-model="dh.hrefurl"/>
              <div class="icon-input" ng-click="chooseUrl(Edit.id,dh.id)">
                <img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
              </div>
            </div>
            <!-- <div class="layui-btn layui-btn-primary" style="float:left" ng-click="chooseUrl(Edit.id,dh.id)">选择链接</div> -->
            <div class="layui-form-mid layui-word-aux" style="float:left;">
              <span>{{dh.hrefname}}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px;" ng-click="addItemChild('search', Edit.id)">添加导航</div>
      <hr>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">搜索按钮</div>
      <div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_btn" value="1" ng-model="Edit.params.btn" title="开启"/>
				<input class="radio" type="radio" name="{{Edit.id}}_btn" value="0" ng-model="Edit.params.btn" title="不开启"/>
      </div>
    </div>
    <?php endif; if(getcustom('scan_code_buy')): ?>
    <div class="layui-form-item">
			<div class="layui-form-label">扫码</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_scan_code" value="1" ng-model="Edit.params.scan_code" title="开启"/>
				<input class="radio" type="radio" name="{{Edit.id}}_scan_code" value="0" ng-model="Edit.params.scan_code" title="不开启"/>
			</div>
    </div>
    <?php endif; ?>
		<div class="layui-form-item" ng-show="Edit.params.openmore != 1">
			<div class="layui-form-label">提示文字</div>
			<div class="layui-input-inline">
				<input class="layui-input" placeholder="搜索框默认提示文字" ng-model="Edit.params.placeholder" />
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">文字颜色</div>
			<div class="layui-input-inline" style="width:180px">
				<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
			</div>
			<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">边框颜色</div>
			<div class="layui-input-inline" style="width:180px">
				<input class="layui-input" value="{{Edit.params.bordercolor}}" ng-model="Edit.params.bordercolor"/>
			</div>
			<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bordercolor"></span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">背景颜色</div>
			<div class="layui-input-inline" style="width:180px">
				<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
			</div>
			<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">圆角度</div>
			<div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
			<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
		</div>
		<div class="layui-form-item" ng-show="Edit.params.openmore != 1">
			<div class="layui-form-label">跳转链接</div>
			<div class="layui-input-inline flex-box" style="background: #F7F7F7;">
				<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
				<div class="icon-input"  ng-click="chooseUrl(Edit.id, -1)">
					<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
				</div>
			</div>
			<div class="layui-form-mid layui-word-aux" style="float:left;">{{Edit.params.hrefname}}</div>
		</div>
		<hr>
		<div class="layui-form-item">
			<div class="layui-form-label">左右外边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
			<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">上下外边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
			<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">左右内边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
			<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">上下内边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
			<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
		</div>
    <?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">显示平台</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
				<?php foreach($platform as $pl): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
				<?php endforeach; ?>
			</div>
		</div>
		<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">显示范围</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
				<?php foreach($memberlevelList as $lv): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
				<?php endforeach; ?>
			</div>
		</div>
		<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
		<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
			<div class="layui-form-label">显示用户</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="layui-input" ng-model="Edit.params.showmids"/>
			</div>
			<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
		</div>
    <?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
    <?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-lbssearch.html"><?php if(getcustom('lbs_search')): ?>
<div class="dsn-panel-editor-title">搜索框设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">显示级别</div>
		<div class="layui-input-inline" style="width: 50%">
			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="1" ng-model="Edit.params.showlevel" title="省"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="2" ng-model="Edit.params.showlevel" title="市"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="3" ng-model="Edit.params.showlevel" title="县"/>
		</div>
	</div>
		<div class="layui-form-item">
			<div class="layui-form-label">搜索按钮</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_btn" value="1" ng-model="Edit.params.btn" title="开启"/>
				<input class="radio" type="radio" name="{{Edit.id}}_btn" value="0" ng-model="Edit.params.btn" title="不开启"/>
			</div>
		</div>
	<div class="layui-form-item">
    <div class="layui-form-label">提示文字</div>
    <div class="layui-input-inline" style="width:320px">
			<input class="layui-input" placeholder="搜索框默认提示文字" ng-model="Edit.params.placeholder" />
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">文字颜色</div>
    <div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">边框颜色</div>
    <div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.bordercolor}}" ng-model="Edit.params.bordercolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bordercolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">跳转链接</div>
		<div class="layui-input-inline">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
		</div>
		<div class="layui-btn layui-btn-primary" style="float:left" ng-click="chooseUrl(Edit.id, -1)">选择链接</div>
		<div class="layui-form-mid">
			<span style="margin-left:10px">{{Edit.params.hrefname}}</span>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="edit-line.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">辅助线设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
    <div class="layui-form-label">选择样式</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="solid" ng-model="Edit.params.style" title="实线"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="dashed" ng-model="Edit.params.style" title="虚线"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="dotted" ng-model="Edit.params.style" title="圆点"/>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">辅助线高度</div>
    <div class="slider" min="1" max="40" ng-model="Edit.params.height"></div>
		<span class="slider-span"><input ng-model="Edit.params.height"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">设置颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
      <input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-blank.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">辅助空白设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">空白高度</div>
		<div class="slider" min="1" max="100" ng-model="Edit.params.height"></div>
		<span class="slider-span"><input ng-model="Edit.params.height"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-product.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">商城商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="waterfall" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="瀑布流"/>
			<?php if(getcustom('shop_yingxiao_tag') && ($auth_data=='all' || in_array('ShopYingxiaoTag/*',$auth_data))): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="yxlist" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="营销横排"/>
			<?php endif; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('product_field_buy')): ?>
	<div ng-show="Edit.params.style==2">
		<div class="layui-form-item">
			<div class="layui-form-label">品牌</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_brand" value="1" ng-model="Edit.params.brand" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_brand" value="0" ng-model="Edit.params.brand" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">品牌为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">货号</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_barcode" value="1" ng-model="Edit.params.barcode" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_barcode" value="0" ng-model="Edit.params.barcode" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">货号为商品编码，为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">规格</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_guige" value="1" ng-model="Edit.params.guige" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_guige" value="0" ng-model="Edit.params.guige" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">规为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">单位</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_unit" value="1" ng-model="Edit.params.unit" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_unit" value="0" ng-model="Edit.params.unit" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">单位为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">库存</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_ggstock" value="1" ng-model="Edit.params.ggstock" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_ggstock" value="0" ng-model="Edit.params.ggstock" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">库存为商品第一个规格里的库存数量</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">有效期</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_valid_time" value="1" ng-model="Edit.params.valid_time" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_valid_time" value="0" ng-model="Edit.params.valid_time" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">有效期为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">备注</div>
			<div class="layui-input-inline" style="padding: 3px 0px;">
				<input class="radio" type="radio" name="{{Edit.id}}_remark" value="1" ng-model="Edit.params.remark" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_remark" value="0" ng-model="Edit.params.remark" title="不显示"/>
			</div>
			<span class="layui-form-mid layui-word-aux" style="float: left;">备注为空时不显示</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">立即购买</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_nowbuy" value="1" ng-model="Edit.params.nowbuy" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_nowbuy" value="0" ng-model="Edit.params.nowbuy" title="不显示"/>
			</div>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="销售价"/>
			<?php if(getcustom('product_nextmemberlevel_price_show')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="3" ng-model="Edit.params.showprice" title="销售价+下级会员价"/>
			<?php endif; if(getcustom('product_scoredk_price_show')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="4" ng-model="Edit.params.showprice" title="销售价+积分抵扣价"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：原价+销售价，原价大于销售价才会显示原价</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall'">
		<div class="layui-form-label">商品库存</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showstock" value="1" ng-model="Edit.params.showstock" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showstock" value="0" ng-model="Edit.params.showstock" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('product_cost_show')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style!='line'">
		<div class="layui-form-label">商品成本</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcost" value="1" ng-model="Edit.params.showcost" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcost" value="0" ng-model="Edit.params.showcost" title="不显示"/>
		</div>
	</div>
	<?php endif; if(getcustom('home_product_show_binfo')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'">
		<div class="layui-form-label">商家名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showbname" value="1" ng-model="Edit.params.showbname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showbname" value="0" ng-model="Edit.params.showbname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'">
		<div class="layui-form-label">商家距离</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showbdistance" value="1" ng-model="Edit.params.showbdistance" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showbdistance" value="0" ng-model="Edit.params.showbdistance" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall'">
		<div class="layui-form-label">优惠券</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcoupon" value="1" ng-model="Edit.params.showcoupon" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcoupon" value="0" ng-model="Edit.params.showcoupon" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('design_product_commission') || getcustom('home_product_show_binfo')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'"><!--单排 双排 横排 瀑布流才展示-->
		<div class="layui-form-label">佣金</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcommission" value="1" ng-model="Edit.params.showcommission" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcommission" value="0" ng-model="Edit.params.showcommission" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.showname == 1">
		<div class="layui-form-label">购买按钮</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="0" ng-model="Edit.params.showcart" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="1" ng-model="Edit.params.showcart" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="2" ng-model="Edit.params.showcart" title="自己上传"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showcart==2">
		<div class="layui-form-label">购买图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.cartimg" placeholder=""/>
		</div>
		<button class="layui-btn layui-btn-primary" ng-click="uploadImg(Edit.id,'cartimg')" style="float:left">上传图片</button>
		<img ng-show="Edit.params.cartimg!=''" ng-src="{{Edit.params.cartimg}}" style="width:30px;height:30px;margin-top:4px;margin-left:10px">
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<?php if(getcustom('probgcolor')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商品背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.probgcolor}}" ng-model="Edit.params.probgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.probgcolor"></span>
	</div>
	<?php endif; if(getcustom('yx_invite_cashback')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">仅邀请返现</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_icback" value="0" ng-model="Edit.params.icback" title="关闭" ng-change="getgoods(Edit.id)"/>
			<input class="radio" type="radio" name="{{Edit.id}}_icback" value="1" ng-model="Edit.params.icback" title="开启" ng-change="getgoods(Edit.id)"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">开启后，商品来源为分组分类的只显示邀请返现商品，关闭则都显示</div>
	</div>
	<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品来源</div>
			<div class="layui-input-inline">
				<?php if(!$type): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
				<?php endif; ?>
				<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类"/>
				<?php if(getcustom('product_pickup_device')): ?>
				<!--商品柜-->
				<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="2" ng-model="Edit.params.productfrom" ng-change="getgoods(Edit.id)"  title="跟随设备"/>
				<?php endif; if(getcustom('product_bind_mendian') && getcustom('show_location') && $sysset['mode']==3): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="3" ng-model="Edit.params.productfrom" ng-change="getgoods(Edit.id)" title="门店可售"/>
				<?php endif; ?>
			</div>
		</div>
		<?php if(getcustom('product_bind_mendian') && getcustom('show_location') && $sysset['mode']==3): ?>
		<div class="layui-form-item" ng-show="Edit.params.productfrom == '3'">
			<div class="layui-form-label">门店可售</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="checkbox" type="checkbox" lay-skin="primary" title="全部门店" ng-model="Edit.params.mdids['-1']" ng-change="getgoods(Edit.id)"/>
				<?php if(!$type): foreach($mendianlist as $md): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" ng-model="Edit.params.mdids[<?php echo $md['id']; ?>]" ng-change="getgoods(Edit.id)"/>
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>
		<?php endif; ?>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delGood(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addGood('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid layui-input-inline">{{good.name}}</div>
					</div>
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid layui-input-inline"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getgoods(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getgoods(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getgoods(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
								<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getgoods(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($clist as $cv): ?>
								<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
								<?php foreach($cv['child'] as $v): ?>
								<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
								<?php endforeach; ?>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php if($bid > 0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商家商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category2" ng-change="getgoods(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($clist2 as $cv): ?>
								<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
								<?php foreach($cv['child'] as $v): ?>
								<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
								<?php endforeach; ?>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getgoods(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getgoods(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getgoods(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="all" title="所有分类" ng-model="Edit.params.category['all']" ng-change="getgoods(Edit.id)"/>
						<?php if(!$type): foreach($clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.category[<?php echo $cv['id']; ?>]" ng-change="getgoods(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.category[<?php echo $v['id']; ?>]" ng-change="getgoods(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php if($bid > 0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商家商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="all" title="所有分类" ng-model="Edit.params.category2['all']" ng-change="getgoods(Edit.id)"/>
						<?php foreach($clist2 as $cv2): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv2['id']; ?>" title="<?php echo $cv2['name']; ?>" ng-model="Edit.params.category2[<?php echo $cv2['id']; ?>]" ng-change="getgoods(Edit.id)"/>
							<?php foreach($cv2['child'] as $v2): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v2['id']; ?>" lay-skin="primary" title="<?php echo $v2['name']; ?>" ng-model="Edit.params.category2[<?php echo $v2['id']; ?>]" ng-change="getgoods(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
					</div>
				</div>
				<?php endif; ?>
			</div>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↓"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↑"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="随机"/>
				<?php if(getcustom('prolist_showjuli')): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="juli" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="距离"/>
				<?php endif; ?>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getgoods(Edit.id)"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分组</div>
			<div class="layui-input-inline" style="border-radius: 0;">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group['all']" ng-change="getgoods(Edit.id)" title="所有分组">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group[0]" ng-change="getgoods(Edit.id)" title="无分组">
				<?php if(!$type): foreach($glist as $g): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group[<?php echo $g['id']; ?>]" ng-change="getgoods(Edit.id)" title="<?php echo $g['name']; ?>">
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="随机"/>
				<?php if(getcustom('prolist_showjuli')): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="juli" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="距离"/>
				<?php endif; ?>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getgoods(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addGood('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
</script>
	<script type="text/ng-template" id="edit-cycle.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">周期购商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="市场价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getcycle(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delcollage(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addcollage('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getcycle(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getcycle(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($cycle_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getcycle(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getcycle(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getcycle(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
								<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getcycle(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($cycle_clist as $cv): ?>
									<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
									<?php foreach($cv['child'] as $v): ?>
									<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
									<?php endforeach; ?>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getcycle(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getcycle(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getcycle(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getcycle(Edit.id)"/>
						<?php if(!$type): foreach($cycle_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getcycle(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getcycle(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getcycle(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getcycle(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getcycle(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getcycle(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getcycle(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addcollage('',Edit.id,'')" >添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
</script>
	<script type="text/ng-template" id="edit-collage.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">拼团商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	
	<div ng-if="Edit.params.shopstyle=='1' || !Edit.params.shopstyle" class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+拼团价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="只显示拼团价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getcollage(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delcollage(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addcollage('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getcollage(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getcollage(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($collage_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getcollage(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getcollage(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getcollage(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
									<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div  class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getcollage(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($collage_clist as $cv): ?>
									<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
									<?php foreach($cv['child'] as $v): ?>
									<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
									<?php endforeach; ?>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getcollage(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getcollage(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getcollage(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getcollage(Edit.id)"/>
						<?php if(!$type): foreach($collage_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getcollage(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getcollage(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getcollage(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getcollage(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getcollage(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getcollage(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getcollage(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addcollage('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-kanjia.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">砍价商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+砍后价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="只显示砍后价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="按商家" ng-change="getkanjia(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delkanjia(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addkanjia('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.min_price}}</span> <span style="text-decoration: line-through;">￥{{good.sell_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getkanjia(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
<!--		<div class="layui-form-item">-->
<!--			<div class="layui-form-label">商品分类</div>-->
<!--			<div class="layui-input-inline">-->
<!--				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getkanjia(Edit.id)">-->
<!--					<option value="">全部分类</option>-->
<!--					<?php foreach($kanjia_clist as $cv): ?>-->
<!--						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>-->
<!--						<?php foreach($cv['child'] as $v): ?>-->
<!--						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>-->
<!--						<?php endforeach; ?>-->
<!--					<?php endforeach; ?>-->
<!--				</select>-->
<!--			</div>-->
<!--		</div>-->
		<?php else: if($bid==0): ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getkanjia(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getkanjia(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
				<div class="layui-form-label">所属商家</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getkanjia(Edit.id)">
						<option value="0">自营</option>
						<option value="">全部</option>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
				<div class="layui-form-label">所属商家</div>
				<div class="layui-input-inline">
					<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getkanjia(Edit.id)"/>
					<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getkanjia(Edit.id)"/>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getkanjia(Edit.id)"/>
					<?php endforeach; ?>
					<?php endif; ?>
				</div>
			</div>
			<?php endif; ?>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getkanjia(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getkanjia(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getkanjia(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getkanjia(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getkanjia(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addkanjia('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-seckill.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">秒杀商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	
	<div ng-if="Edit.params.shopstyle=='1' || !Edit.params.shopstyle" class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showrange" value="0" ng-model="Edit.params.showrange" title="全部" ng-change="getseckill(Edit.id)"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showrange" value="1" ng-model="Edit.params.showrange" title="进行中" ng-change="getseckill(Edit.id)"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showrange" value="2" ng-model="Edit.params.showrange" title="未开始" ng-change="getseckill(Edit.id)"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+秒杀价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="只显示秒杀价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div ng-if="Edit.params.shopstyle=='1' || !Edit.params.shopstyle" class="layui-form-item">
		<div class="layui-form-label">倒计时</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtime" value="1" ng-model="Edit.params.showtime" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtime" value="0" ng-model="Edit.params.showtime" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float:left;">根据时间显示文字：距开抢xx；距结束xx;已结束;(三排和左右滑动不显示时间)</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getseckill(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delseckill(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addseckill('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getseckill(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; else: if($bid==0): ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getseckill(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getseckill(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
				<div class="layui-form-label">所属商家</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getseckill(Edit.id)">
						<option value="0">自营</option>
						<option value="">全部</option>
						<?php if(!$type): foreach($bnlist as $bv): ?>
								<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
							<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
				<div class="layui-form-label">所属商家</div>
				<div class="layui-input-inline">
					<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getseckill(Edit.id)"/>
					<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getseckill(Edit.id)"/>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getseckill(Edit.id)"/>
					<?php endforeach; ?>
					<?php endif; ?>
				</div>
			</div>
			<?php endif; ?>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getseckill(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getseckill(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getseckill(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getseckill(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="starttime" ng-model="Edit.params.sortby" ng-change="getseckill(Edit.id)" title="开始时间↑"/></i>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getseckill(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addseckill('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-scoreshop.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title"><?php echo t('积分'); ?>兑换商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="市场价+所需<?php echo t('积分'); ?>"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="只显示所需<?php echo t('积分'); ?>"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getscoreshop(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delscoreshop(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addscoreshop('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item" style="margin: 0px 0px !important;">
						<div class="layui-form-label" style="padding: 0px 0px !important;font-weight: bold;color: #333;">商品名称</div>
						<div class="layui-form-mid layui-input-inline">{{good.name}}</div>
					</div>
					<div class="layui-form-item" style="margin: 0px 0px !important;">
						<div class="layui-form-label"  style="padding: 0px 0px !important;font-weight: bold;color: #333;">商品价格</div>
						<div class="layui-form-mid layui-input-inline"><span style="font-size: 16px;">￥{{good.money_price}} + {{good.score_price}}<?php echo t('积分'); ?> </span> <span style="text-decoration: line-through;">￥{{good.sell_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if(getcustom('business_scoreshop')): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getscoreshop(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getscoreshop(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($scoreshop_clist as $cv): ?>
						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php foreach($cv['child'] as $v): ?>
						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
						<?php endforeach; ?>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getgoods(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getgoods(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
				<div class="layui-form-label">商品分类</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getscoreshop(Edit.id)">
						<option value="">全部分类</option>
						<?php if(!$type): foreach($scoreshop_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
				<div class="layui-form-label">商品分类</div>
				<div class="layui-input-inline">
					<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getscoreshop(Edit.id)"/>
					<?php if(!$type): foreach($scoreshop_clist as $cv): ?>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getscoreshop(Edit.id)"/>
						<?php foreach($cv['child'] as $v): ?>
							<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getscoreshop(Edit.id)"/>
						<?php endforeach; ?>
					<?php endforeach; ?>
					<?php endif; ?>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getscoreshop(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getscoreshop(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getscoreshop(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getscoreshop(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getscoreshop(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addscoreshop('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-coupon.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">商品组设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" ng-hide="Edit.params.showname=='0'">
		<div class="layui-form-label">标题颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.titlecolor}}" ng-model="Edit.params.titlecolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.titlecolor"></span>
	</div>
	<div class="layui-form-item" ng-hide="Edit.params.showname=='0'">
		<div class="layui-form-label">备注颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.remarkcolor}}" ng-model="Edit.params.remarkcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.remarkcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_bgpic" value="<?php echo PRE_URL; ?>/static/imgsrc/coupon1.png" ng-model="Edit.params.bgpic" title="样式一"/>
			<input class="radio" type="radio" name="{{Edit.id}}_bgpic" value="<?php echo PRE_URL; ?>/static/imgsrc/coupon2.png" ng-model="Edit.params.bgpic" title="样式二"/>
			<input class="radio" type="radio" name="{{Edit.id}}_bgpic" value="<?php echo PRE_URL; ?>/static/imgsrc/coupon3.png" ng-model="Edit.params.bgpic" title="样式三"/>
			<input class="radio" type="radio" name="{{Edit.id}}_bgpic" value="<?php echo PRE_URL; ?>/static/imgsrc/coupon4.png" ng-model="Edit.params.bgpic" title="样式四"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'bgpic')">
				<img width="100%" ng-show="Edit.params.bgpic" ng-src="{{Edit.params.bgpic}}">
				<img ng-show="!Edit.params.bgpic" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_couponfrom" value="0" ng-model="Edit.params.couponfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_couponfrom" value="1" ng-model="Edit.params.couponfrom" ng-change="getcoupon(Edit.id)" title="自动获取"/>
		</div>
	</div>
	<div ng-show="Edit.params.couponfrom == '0'">
		<div class="title-div flex-box">
			<div>优惠券设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
				<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delcoupon(Edit.id, good.couponid)">×</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item" style="margin-bottom:0px">
						<div class="layui-form-label"><?php echo t('优惠券'); ?>名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item" style="margin-bottom:0px" ng-show="good.type==1">
						<div class="layui-form-label">优惠金额</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.money}}</span></div>
					</div>
					<div class="layui-form-item" style="margin-bottom:0px" ng-show="good.type==1">
						<div class="layui-form-label">使用条件</div>
						<div class="layui-form-mid">满{{good.minprice}}元可用</div>
					</div>
					<div class="layui-form-item" style="margin-bottom:0px" ng-show="good.type!=1">
						<div class="layui-form-label">类型</div>
						<div class="layui-form-mid" ng-show="good.type==2">礼品券</div>
						<div class="layui-form-mid" ng-show="good.type==3">计次券</div>
						<div class="layui-form-mid" ng-show="good.type==4">运费抵扣券</div>
					</div>
					<div class="layui-form-item" style="margin-bottom:0px" ng-show="good.type==3">
						<div class="layui-form-label">可用次数</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.limit_count}}</span></div>
					</div>
					<!-- <div class="layui-form-item">
						<div class="layui-form-label"></div>
						<div class="layui-btn layui-btn-sm layui-btn-primary" ng-click="addcoupon('replace', Edit.id, good.id)">重新选择</div>
					</div> -->
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.couponfrom == '1'">
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getcoupon(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getcoupon(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getcoupon(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="stock" ng-model="Edit.params.sortby" ng-change="getcoupon(Edit.id)" title="库存"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getcoupon(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.couponfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addcoupon('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
</script>
	<script type="text/ng-template" id="edit-richtext.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.edui-default .edui-editor {box-sizing: border-box;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">富文本设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="width:100%;box-sizing: border-box;">
		<div class="ueditor" ng-model="Edit.content" style="height:480px; width:100%; margin-top:10px;margin-bottom:15px;box-sizing: border-box;"></div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php if(!$type): foreach($platform as $pl): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
				<?php endforeach; ?>
			<?php endif; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php if(!$type): foreach($memberlevelList as $lv): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
				<?php endforeach; ?>
			<?php endif; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
</div>
</script>
	<script type="text/ng-template" id="edit-cube.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-cube table{width: auto;}
	.dsn-panel-editor-relative {width:100%;height: auto;position: relative;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel-editor-line-right .layui-input-inline{background: #F7F7F7;}
	.dsn-panel-editor-line-right .layui-input-inline .layui-input{border:none;background:none;width: 200px;}
	.layui-form-item .layui-form-mid{float: right;padding: 0px 0!important;font-size: 12px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-cube">
	<div class="dsn-panel-editor-title">图片魔方</div>
	<div class="dsn-panel-editor-content">
		<div class="layui-form-item" style="margin-top: 15px;">
			<div class="layui-form-label">与上方距离</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
			<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">背景颜色</div>
			<div class="layui-input-inline" style="width:180px">
				<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
			</div>
			<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
		</div>
		<div class="layui-form-item">
			<div class="layui-input-inline" style="width:100%;box-sizing: border-box;">
				<div class="">设置图片布局</div>
				<table id="cube-editor" style ="margin-top:10px">
					<tr ng-repeat="(x, row) in Edit.params.layout ">
						<td ng-repeat="(y, col) in row" class="{{col.classname}} rows-{{col.rows}} cols-{{col.cols}}" ng-click="col['isempty'] ? showSelection(Edit, x, y) : changeItem(Edit, x, y)" ng-class="{'empty' : col.isempty, 'not-empty' : !col.isempty}" rowspan="{{col.rows}}" colspan="{{col.cols}}"  x="{{x}}" y="{{y}}">
							<div ng-if="col.isempty">+</div>
							<div ng-if="!col.imgurl && !col.isempty">{{col.cols * 160}} * {{col.rows * 160}}</div>
							<div ng-if="!col.isempty && col.imgurl"><img ng-src="{{col.imgurl}}" style="width:{{col.cols * 85}}px;max-height:{{col.rows * 85}}px;"/></div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="dsn-panel-editor-relative" ng-show="Edit.params.currentLayout.isempty == false" style="margin-bottom:15px;">
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delCube(Edit,Edit.params.currentLayout.classname,Edit.params.currentLayout.cols,Edit.params.currentLayout.rows)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div ng-click="uploadImgChild(Edit.id, Edit.params.currentLayout.classname,'cube')" class="dsn-panel-editor-goodimg flex0" style="width:88px;height:88px"
				ng-style="{'background':'url(' + Edit.params.currentLayout.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
					<!-- <img width="100%" ng-show="Edit.params.currentLayout.imgurl" ng-src="{{Edit.params.currentLayout.imgurl}}"> -->
					<img ng-show="!Edit.params.currentLayout.imgurl" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
					<div ng-show="Edit.params.currentLayout.imgurl" class="dsn-panel-editor-goodimg-t2">重新选择图片</div>
				</div>
				<div class="dsn-panel-editor-line-right flex-y-center">
					<div>
						<div class="layui-form-item flex-x-center" style="width:85%;">
							<div class="layui-form-label" style="width: 100%;">建议尺寸: {{Edit.params.currentLayout.cols * 160}} × {{Edit.params.currentLayout.rows * 160}} 像素</div>
						</div>
						<div class="layui-form-item">
							<div class="layui-input-inline flex-y-center">
								<input class="layui-input" value="" ng-model="Edit.params.currentLayout.hrefurl" placeholder='链接地址'/>
								<div class="icon-input" ng-click="chooseUrl(Edit.id, Edit.params.currentLayout.classname,'cube')">
									<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
								</div>
							</div>
							<span class="layui-form-mid layui-word-aux" style="float: left;">{{Edit.params.currentLayout.hrefname}}</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="{{Edit.id}}-modal-cube-layout" style="display:none" role="dialog" aria-hidden="false">
			<div class="layout-table" style="padding-left:70px">
				<ul class="layout-cols layout-rows-{{col.rows}}" style="clear:both" ng-repeat="row in Edit.params.selection">
					<li data-cols="{{col.cols}}" data-rows="{{col.rows}}" ng-click="selectLayout(Edit, Edit.params.currentPos.row, Edit.params.currentPos.col, col.rows, col.cols)" ng-repeat="col in row"></li>
				</ul>
			</div>
		</div>
		<hr>
		<div class="layui-form-item">
			<div class="layui-form-label">左右边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
			<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">左右内边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
			<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">上下内边距</div>
			<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
			<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
		</div>
		<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">显示平台</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
				<?php foreach($platform as $pl): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
				<?php endforeach; ?>
			</div>
		</div>
		<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">显示范围</div>
			<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
				<?php foreach($memberlevelList as $lv): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
				<?php endforeach; ?>
			</div>
		</div>
		<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-video.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.img-div{width: 88px;height:88px;cursor: pointer;}
	.editor-goodimg{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">视频设置</div>
<div class="dsn-panel-editor-content"> 
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
	  <div class="layui-form-label">视频高度</div>
	  <div class="slider" min="30" max="100" ng-model="Edit.params.videoheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.videoheight"/> %</span>
	</div>
	<div class="layui-form-item layui-form-text">
		<div class="layui-form-label">视频来源</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_type" value="0" ng-model="Edit.params.type" title="上传视频"/>
			<input class="radio" type="radio" name="{{Edit.id}}_type" value="1" ng-model="Edit.params.type" title="选择视频"/>
		</div>
	</div>
	<div ng-if="Edit.params.type == 0">
		<div class="layui-form-item">
			<div class="layui-form-label">视频链接</div>
			<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
				<input class="layui-input" ng-model="Edit.params.src" />
				<div class="icon-input" ng-click="uploadImg(Edit.id,'src')">
					<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
				</div>
			</div>
			<div class="layui-form-mid layui-word-aux" style="float: left;">
				填写视频链接或上传视频，视频链接必须为mp4格式的原始链接<?php if(getcustom('video_qq_url')): ?><br>腾讯视频原网页地址仅支持以https://v.qq.com/x/page/开头的网址<?php endif; ?>
			</div>
		</div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.type == 1">
		<div class="layui-form-label">视频ID</div>
		<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" ng-model="Edit.params.src" />
			<div class="icon-input" ng-click="toChooseVideoList('',Edit.id,'')">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;width: 100%">
			从视频管理中选择视频
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">封面图片</div>
		<div class="layui-input-inline">
			<div class="img-div" ng-click="uploadImg(Edit.id,'pic')">
				<img width="100%" ng-show="Edit.params.pic" ng-src="{{Edit.params.pic}}">
				<img ng-show="!Edit.params.pic" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div ng-show="Edit.params.pic" class="editor-goodimg">重新选择图片</div>
			</div>
<!--			<div class="layui-form-mid layui-word-aux">若是选择视频，则该视频封面优先于所选视频的封面</div>-->
		</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item layui-form-text">
    <div class="layui-form-label">播放方式</div>
    <div class="layui-input-inline" style="padding: 3px 0px;">
      <input class="radio" type="radio" name="{{Edit.id}}_autoplay" value="0" ng-model="Edit.params.autoplay" title="点击播放"/>
      <input class="radio" type="radio" name="{{Edit.id}}_autoplay" value="1" ng-model="Edit.params.autoplay" title="自动播放"/>
    </div>
		<?php if(in_array('mp',$platform)): ?><div class="layui-form-mid layui-word-aux" style="float: left;">公众号不支持自动播放</div><?php endif; ?>
	</div>
	<div class="layui-form-item">
	  <div class="layui-form-label">循环播放</div>
	  <div class="layui-input-inline">
	    <input class="radio" type="radio" name="{{Edit.id}}_loop" value="0" ng-model="Edit.params.loop" title="关闭">
	    <input class="radio" type="radio" name="{{Edit.id}}_loop" value="1" ng-model="Edit.params.loop" title="开启">
	  </div>
	</div>
	<div class="layui-form-item">
	  <div class="layui-form-label">静音播放</div>
	  <div class="layui-input-inline">
	    <input class="radio" type="radio" name="{{Edit.id}}_muted" value="0" ng-model="Edit.params.muted" title="关闭">
	    <input class="radio" type="radio" name="{{Edit.id}}_muted" value="1" ng-model="Edit.params.muted" title="开启">
	  </div>
	</div>
	<div class="layui-form-item">
	  <div class="layui-form-label">播放控件</div>
	  <div class="layui-input-inline">
	    <input class="radio" type="radio" name="{{Edit.id}}_controls" value="1" ng-model="Edit.params.controls" title="显示">
	    <input class="radio" type="radio" name="{{Edit.id}}_controls" value="0" ng-model="Edit.params.controls" title="隐藏">
	  </div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.controls == 1">
	  <div class="layui-form-label">全屏按钮</div>
	  <div class="layui-input-inline">
	    <input class="radio" type="radio" name="{{Edit.id}}_fullscreen" value="1" ng-model="Edit.params.fullscreen" title="显示">
	    <input class="radio" type="radio" name="{{Edit.id}}_fullscreen" value="0" ng-model="Edit.params.fullscreen" title="隐藏">
	  </div>
	</div>
	<div class="layui-form-item layui-form-text">
	  <div class="layui-form-label">表现形式</div>
	  <div class="layui-input-inline">
	    <input class="radio" type="radio" name="{{Edit.id}}_objectfit" ng-model="Edit.params.objectfit" value="contain" title="包含">
	    <input class="radio" type="radio" name="{{Edit.id}}_objectfit" ng-model="Edit.params.objectfit" value="fill" title="填充">
			<input class="radio" type="radio" name="{{Edit.id}}_objectfit" ng-model="Edit.params.objectfit" value="cover" title="覆盖">
	  </div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">1、包含：保持原有尺寸比例，内容被缩放。	<br>2、填充：不保证保持原有的比例，内容拉伸填充整个内容容器。<br>3、覆盖：保持原有尺寸比例，但部分内容可能被剪切。</div>
	</div>
	<div class="layui-form-item">
	  <div class="layui-form-label">播放按钮位置</div>
	  <div class="layui-input-inline" style="padding: 3px 0px;">
	    <input class="radio" type="radio" name="{{Edit.id}}_butposition" ng-model="Edit.params.butposition" value="center" title="居中">
	    <input class="radio" type="radio" name="{{Edit.id}}_butposition" ng-model="Edit.params.butposition" value="bottom" title="控制栏">
	  </div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">H5端<?php if(in_array('mp',$platform)): ?>和公众号<?php endif; ?>不支持选择播放按钮位置</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-article.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {min-height: 88px;max-height: 88px;;overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg img{width: 88px;height:88px}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">文章列表设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="4" ng-model="Edit.params.style" title="左图"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="5" ng-model="Edit.params.style" title="右图"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="6" ng-model="Edit.params.style" title="瀑布流"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="7" ng-model="Edit.params.style" title="三排"/>
			
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="9" ng-model="Edit.params.style" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题大小</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.title_size" value="0"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">px 大于0时生效</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style != 6">
		<div class="layui-form-label">图片</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showpic" value="1" ng-model="Edit.params.showpic" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showpic" value="0" ng-model="Edit.params.showpic" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style != 6">
		<div class="layui-form-label" style="width: auto;">图片大小(宽X高)</div>
		<div class="layui-input-inline flex-box" style="width:200px;">
			<input class="layui-input" ng-model="Edit.params.pic_width" value="0" style="width: 80px;display: inline-block;"  placeholder="px"/>
			<span class="layui-word-aux">X</span>
			<input class="layui-input" ng-model="Edit.params.pic_height" value="0" style="width: 80px;display: inline-block;" placeholder="px"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">宽高都大于0时生效</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">圆角度</div>
		<div class="slider" min="0" max="100" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 1 || Edit.params.style == 4 || Edit.params.style == 5">
		<div class="layui-form-label">分隔线</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showline" value="1" ng-model="Edit.params.showline" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showline" value="0" ng-model="Edit.params.showline" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 1 || Edit.params.style == 4 || Edit.params.style == 5">
		<div class="layui-form-label">分隔线颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.linecolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.linecolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">发布时间</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtime" value="1" ng-model="Edit.params.showtime" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtime" value="0" ng-model="Edit.params.showtime" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">阅读量</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showreadcount" value="1" ng-model="Edit.params.showreadcount" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showreadcount" value="0" ng-model="Edit.params.showreadcount" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">文章来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_articlefrom" value="0" ng-model="Edit.params.articlefrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_articlefrom" value="1" ng-model="Edit.params.articlefrom" ng-change="getarticle(Edit.id)" title="选择分类"/>
		</div>
	</div>
	<div ng-show="Edit.params.articlefrom == '0'">
		<div class="title-div flex-box">
			<div>文章设置</div>
			<div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" ng-click="addArticle('', Edit.id, '')" /></div>
		</div>
		<div ng-repeat="article in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,article.id)"><i class="fa fa-arrow-up"></i></div>
				<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delGood(Edit.id, article.id)">×</div>
				<div class="dsn-panel-editor-goodimg" ng-click="addArticle('replace', Edit.id, article.id)">
					<img ng-src="{{article.pic}}" />
					<div class="dsn-panel-editor-goodimg-t2">重新选择文章</div>
				</div>
				<div class="dsn-panel-editor-line-right" style="width:180px;">
					<div class="layui-form-item">{{article.name}}</div>
					<div class="layui-form-item">{{article.subname}}</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.articlefrom == '1'">
		<?php if(!$categroy_selmore): ?>
			<div class="layui-form-item">
				<div class="layui-form-label">文章分类</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getarticle(Edit.id)">
						<option value="">全部分类</option>
						<?php if(!$type): foreach($aclist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getarticle(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getarticle(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
				<div class="layui-form-label">文章分类</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getarticle(Edit.id)">
						<option value="">全部分类</option>
						<?php if(!$type): foreach($aclist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
				<div class="layui-form-item">
					<div class="layui-form-label">文章分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getarticle(Edit.id)"/>
						<?php if(!$type): foreach($aclist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getarticle(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getarticle(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getarticle(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sendtimedesc" ng-model="Edit.params.sortby" ng-change="getarticle(Edit.id)" title="发布时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sendtime" ng-model="Edit.params.sortby" ng-change="getarticle(Edit.id)" title="发布时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="readcount" ng-model="Edit.params.sortby" ng-change="getarticle(Edit.id)" title="阅读量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getarticle(Edit.id)"/>
			</div>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php if(!$type): ?>
	<script type="text/ng-template" id="edit-form.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.layui-form-onswitch {border-color: #3772E8;background-color: #3772E8;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">表单设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
	  <div class="layui-form-label">与上方距离</div>
	  <div class="slider" min="0" max="40" ng-model="Edit.params.margin_top"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_top"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">选择表单</div>
		<div class="layui-btn layui-btn-primary" ng-click="addform(Edit.id)" style="float:left">选 择</div>
		<div class="layui-form-mid">
			<input class="hide" value="" ng-model="Edit.params.hrefurl"/>
			<span style="margin-left:10px">{{Edit.data.name}}</span>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.data.form_query==1">
		<div class="layui-form-label">表单查询</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_isquery" value="0" ng-model="Edit.params.isquery" title="否"/> 
			<input class="radio" type="radio" name="{{Edit.id}}_isquery" value="1" ng-model="Edit.params.isquery" title="是"/> 
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">表单样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" title="样式一"/> 
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" title="样式二"/> 
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">字体大小</div>
		<div class="slider" min="10" max="30" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">字体颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.color"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">输入框颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.inputbordercolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.inputbordercolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">输入框背景色</div>
		<div class="layui-input-inline" style="width:180px" >
			<input class="layui-input" ng-model="Edit.params.inputbgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.inputbgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">分隔线颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.linecolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.linecolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">必填项*号</div>
		<div class="layui-input-inline">
			<input style="display:none" type="checkbox" class="switch" lay-skin="switch" ng-model="Edit.params.showmuststar">
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">提交按钮</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.btntext" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮背景色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.btnbgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btnbgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮边框颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.btnbordercolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btnbordercolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮字体大小</div>
		<div class="slider" min="10" max="30" ng-model="Edit.params.btnfontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnfontsize"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮字体颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.btncolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btncolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮宽度</div>
		<div class="slider" min="20" max="340" ng-model="Edit.params.btnwidth"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnwidth"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮高度</div>
		<div class="slider" min="20" max="100" ng-model="Edit.params.btnheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnheight"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮圆角</div>
		<div class="slider" min="0" max="50" ng-model="Edit.params.btnradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnradius"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.isquery != 1">
		<div class="layui-form-label">提交后跳转</div>
		<div class="layui-input-inline flex-y-center" style="background:#F7F7F7">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">{{Edit.params.hrefname}}</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">未开始提示</div>
		<div class="layui-input-inline">
			<input class="layui-input" value="" ng-model="Edit.params.wkstpis"/>
		</div>
	</div>
	
	
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    	<div class="layui-form-label">左右内边距</div>
   		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    	<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割</div>
	</div>
</div></script>
	<?php endif; ?>
	<script type="text/ng-template" id="edit-map.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.imgicon-div{width:20px !important;height:20px !important;display:flex;align-items:center;justify-content: center;cursor: pointer;}
	.imgicon-div img{width: 10px;height:10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">地图设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">地址</div>
    <div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.address}}" ng-model="Edit.params.address"/></span>
    </div>
	</div>
	<div class="layui-form-item flex-box">
    <div class="layui-form-label">经度</div>
    <div class="layui-input-inline" style="width:90px">
			<input class="layui-input" value="{{Edit.params.longitude}}" ng-model="Edit.params.longitude"/>
		</div>
    <div class="layui-input-inline" style="width:90px">
      <input class="layui-input" value="{{Edit.params.latitude}}" ng-model="Edit.params.latitude"/>
    </div>
		<div class="layui-input-inline imgicon-div" style="" ng-click="choosezuobiao(Edit.id,Edit.params.address,Edit.params.longitude,Edit.params.latitude)">
			<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" />
		</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">地图高度</div>
    <div class="slider" min="10" max="1000" ng-model="Edit.params.height"></div>
		<span class="slider-span"><input ng-model="Edit.params.height"/> px</span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-button.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">按钮设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮文字</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.btntext"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮背景色</div>
		<div class="layui-input-inline" style="width: 180px;">
			<input class="layui-input" ng-model="Edit.params.btnbgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btnbgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">按钮边框颜色</div>
		<div class="layui-input-inline" style="width: 180px;">
			<input class="layui-input" ng-model="Edit.params.btnbordercolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btnbordercolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">按钮字体大小</div>
    <div class="slider" min="10" max="30" ng-model="Edit.params.btnfontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnfontsize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">按钮字体颜色</div>
    <div class="layui-input-inline" style="width: 180px;">
			<input class="layui-input" ng-model="Edit.params.btncolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.btncolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">按钮宽度</div>
    <div class="slider" min="20" max="340" ng-model="Edit.params.btnwidth"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnwidth"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">按钮高度</div>
    <div class="slider" min="20" max="100" ng-model="Edit.params.btnheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnheight"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">按钮圆角</div>
    <div class="slider" min="0" max="50" ng-model="Edit.params.btnradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.btnradius"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width: 180px;">
		  <input class="layui-input" value="" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">跳转链接</div>
		<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl" placeholder="选择链接" />
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left">{{Edit.params.hrefname}}</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">身份范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有身份" name="{{Edit.id}}_identity['all']" ng-model="Edit.params.identity['all']"/>
			<?php foreach($identityList as $identity): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $identity['name']; ?>" name="{{Edit.id}}_identity['<?php echo $identity['id']; ?>']" ng-model="Edit.params.identity['<?php echo $identity['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">填写用户ID，多个用英文标点逗号(,)分割</div>
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-cover.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.img-div{width: 88px;height:88px;overflow:hidden;background:#F7F7F7;cursor: pointer;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">悬浮按钮设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
    <div class="layui-form-label">类型</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" title="文本"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" title="图标"/>
    </div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.style==1">
    <div class="layui-form-label">文 字</div>
    <div class="layui-input-inline"><input class="layui-input" ng-model="Edit.params.text"/></div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.style==1">
    <div class="layui-form-label">字体大小</div>
    <div class="slider" min="10" max="30" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.style==1">
    <div class="layui-form-label">字体颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.color"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item"  ng-if="Edit.params.style==2">
		<div class="layui-form-label">选择图标</div>
		<div class="layui-input-inline">
			<div class="img-div" ng-click="uploadImg(Edit.id,'pic')">
				<img width="100%" ng-show="Edit.params.pic" ng-src="{{Edit.params.pic}}">
				<img ng-show="!Edit.params.pic" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px;border:1px red solid" />
				<div ng-show="Edit.params.pic" class="editor-goodimg">重新选择图片</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.style==2">
    <div class="layui-form-label">图标宽度</div>
    <div class="slider" min="20" max="100" ng-model="Edit.params.picwidth"></div>
		<span class="slider-span"><input ng-model="Edit.params.picwidth"/> px</span>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.style==2">
    <div class="layui-form-label">图标高度</div>
    <div class="slider" min="20" max="100" ng-model="Edit.params.picheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.picheight"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">边 框</div>
    <div class="slider" min="0" max="10" ng-model="Edit.params.border"></div>
		<span class="slider-span"><input ng-model="Edit.params.border"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">边框颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" style="width:160px" ng-model="Edit.params.bordercolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bordercolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">距顶端</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.top"></div>
		<span class="slider-span"><input ng-model="Edit.params.top"/> vh</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">距左端</div>
    <div class="slider" min="0" max="100" ng-model="Edit.params.left"></div>
		<span class="slider-span"><input ng-model="Edit.params.left"/> vw</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">宽 度</div>
    <div class="slider" min="20" max="100" ng-model="Edit.params.width"></div>
		<span class="slider-span"><input ng-model="Edit.params.width"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">高 度</div>
    <div class="slider" min="20" max="100" ng-model="Edit.params.height"></div>
		<span class="slider-span"><input ng-model="Edit.params.height"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="50" ng-model="Edit.params.radius"></div>
		<span class="slider-span"><input ng-model="Edit.params.radius"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">跳转链接</div>
    <div class="layui-input-inline flex-y-center" style="background: #F7F7F7">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left">{{Edit.params.hrefname}}</div>
	</div>
	<hr>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-business.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">商户设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showstyle" title="默认样式" value="1" ng-model="Edit.params.showstyle" />
			<?php if(getcustom('business_nearby_list')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showstyle" title="样式二" value="2" ng-model="Edit.params.showstyle"/>
			<?php endif; ?>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<?php if(getcustom('business_module_showcategroy')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">分类</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcategroy" title="显示" value="1" ng-model="Edit.params.showcategroy" />
			<input class="radio" type="radio" name="{{Edit.id}}_showcategroy" title="不显示" value="0" ng-model="Edit.params.showcategroy"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">评分</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showpingfen" title="显示" value="1" ng-model="Edit.params.showpingfen" />
			<input class="radio" type="radio" name="{{Edit.id}}_showpingfen" title="不显示" value="0" ng-model="Edit.params.showpingfen"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">销量</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" title="显示" value="1" ng-model="Edit.params.showsales" />
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" title="不显示" value="0" ng-model="Edit.params.showsales"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">简介</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showjianjie" title="显示" value="1" ng-model="Edit.params.showjianjie" />
			<input class="radio" type="radio" name="{{Edit.id}}_showjianjie" title="不显示" value="0" ng-model="Edit.params.showjianjie"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">地址</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showaddress" title="显示" value="1" ng-model="Edit.params.showaddress" />
			<input class="radio" type="radio" name="{{Edit.id}}_showaddress" title="不显示" value="0" ng-model="Edit.params.showaddress"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">距离</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showdistance" title="显示" value="1" ng-model="Edit.params.showdistance" />
			<input class="radio" type="radio" name="{{Edit.id}}_showdistance" title="不显示" value="0" ng-model="Edit.params.showdistance"/>
		</div>
	</div>
	<?php if(getcustom('business_show_turnover')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商家营业额</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showturnover" title="显示" value="1" ng-model="Edit.params.showturnover" />
			<input class="radio" type="radio" name="{{Edit.id}}_showturnover" title="不显示" value="0" ng-model="Edit.params.showturnover"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">只有商家编辑显示营业额，此处才会显示</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">商品</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showproduct" title="显示" value="1" ng-model="Edit.params.showproduct" />
			<input class="radio" type="radio" name="{{Edit.id}}_showproduct" title="不显示" value="0" ng-model="Edit.params.showproduct"/>
		</div>
	</div>
	<?php if($auth_data=='all' || in_array('BusinessMaidan/*',$auth_data)): ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">买单导航按钮</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showmaidan" title="显示" value="1" ng-model="Edit.params.showmaidan" />
			<input class="radio" type="radio" name="{{Edit.id}}_showmaidan" title="不显示" value="0" ng-model="Edit.params.showmaidan"/>
		</div>
	</div>
	<?php endif; if(getcustom('business_selfscore') && ($auth_data=='all' || in_array('ScoreshopProduct/*',$auth_data))): ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label"><?php echo t('积分'); ?>兑换商品</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showscoreshop" title="显示" value="1" ng-model="Edit.params.showscoreshop" />
			<input class="radio" type="radio" name="{{Edit.id}}_showscoreshop" title="不显示" value="0" ng-model="Edit.params.showscoreshop"/>
		</div>
	</div>
	<?php endif; if(getcustom('business_instore_button')): ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">进店按钮</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showinstore" title="显示" value="1" ng-model="Edit.params.showinstore" />
			<input class="radio" type="radio" name="{{Edit.id}}_showinstore" title="不显示" value="0" ng-model="Edit.params.showinstore"/>
		</div>
	</div>
	<?php endif; if(getcustom('business_show_queue_free_ratio')): if($auth_data=='all' || in_array('QueueFreeSet/*',$auth_data)): ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">排队免单比例</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showqueuefreeratio" title="显示" value="1" ng-model="Edit.params.showqueuefreeratio" />
			<input class="radio" type="radio" name="{{Edit.id}}_showqueuefreeratio" title="不显示" value="0" ng-model="Edit.params.showqueuefreeratio"/>
		</div>
	</div>
	<?php endif; ?>
	<?php endif; if(getcustom('member_dedamount')): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">抵扣金</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showdedamount" title="显示" value="1" ng-model="Edit.params.showdedamount" />
				<input class="radio" type="radio" name="{{Edit.id}}_showdedamount" title="不显示" value="0" ng-model="Edit.params.showdedamount"/>
			</div>
		</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
		<div class="layui-form-label">进入页面</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_intotype" title="设计首页" value="0" ng-model="Edit.params.intotype"/>
			<?php if(getcustom('restaurant')): if($auth_data=='all' || in_array('RestaurantTakeawayOrder/*',$auth_data) || in_array('RestaurantTakeawayComment/*',$auth_data)|| in_array('RestaurantTakeawayFreight/*',$auth_data) || in_array('RestaurantTakeawaySet/*',$auth_data) || in_array('RestaurantTakeawayAdv/*',$auth_data)): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_intotype" title="外卖" value="1" ng-model="Edit.params.intotype"/>
				<?php endif; if($auth_data=='all' || in_array('RestaurantShopOrder/*',$auth_data) || in_array('RestaurantShopComment/*',$auth_data)|| in_array('RestaurantShopSet/*',$auth_data)): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_intotype" title="点餐" value="2" ng-model="Edit.params.intotype"/>
				<?php endif; ?>
			<?php endif; ?>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">无设计首页则跳转默认首页</div>
	</div>
	<?php if(getcustom('yx_business_miandan')): if($auth_data=='all' || in_array('BusinessMiandan/*',$auth_data)): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商户免单</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showbusinessmiandan" title="显示" value="1" ng-model="Edit.params.showbusinessmiandan" />
				<input class="radio" type="radio" name="{{Edit.id}}_showbusinessmiandan" title="不显示" value="0" ng-model="Edit.params.showbusinessmiandan"/>
			</div>
		</div>
		<?php endif; ?>
	<?php endif; if(getcustom('business_index_cuxiao')): ?>
	<div>
		<?php if($auth_data=='all' || in_array('SeckillProduct/*',$auth_data)): ?>
			<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
				<div class="layui-form-label">秒杀商品</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_showseckill" title="显示" value="1" ng-model="Edit.params.showseckill" />
					<input class="radio" type="radio" name="{{Edit.id}}_showseckill" title="不显示" value="0" ng-model="Edit.params.showseckill"/>
				</div>
			</div>
		<?php endif; if($auth_data=='all' || in_array('TuangouProduct/*',$auth_data)): ?>
		<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
			<div class="layui-form-label">团购商品</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showtuangou" title="显示" value="1" ng-model="Edit.params.showtuangou" />
				<input class="radio" type="radio" name="{{Edit.id}}_showtuangou" title="不显示" value="0" ng-model="Edit.params.showtuangou"/>
			</div>
		</div>
		<?php endif; if($auth_data=='all' || in_array('KanjiaProduct/*',$auth_data)): ?>
		<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
			<div class="layui-form-label">砍价商品</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showkanjia" title="显示" value="1" ng-model="Edit.params.showkanjia" />
				<input class="radio" type="radio" name="{{Edit.id}}_showkanjia" title="不显示" value="0" ng-model="Edit.params.showkanjia"/>
			</div>
		</div>
		<?php endif; if($auth_data=='all' || in_array('CollageProduct/*',$auth_data)): ?>
		<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
			<div class="layui-form-label">拼团商品</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showcollage" title="显示" value="1" ng-model="Edit.params.showcollage" />
				<input class="radio" type="radio" name="{{Edit.id}}_showcollage" title="不显示" value="0" ng-model="Edit.params.showcollage"/>
			</div>
		</div>
		<?php endif; if($auth_data=='all' || in_array('LuckyCollageProduct/*',$auth_data)): ?>
		<div class="layui-form-item" ng-show="Edit.params.showstyle == '1'">
			<div class="layui-form-label">幸运拼团</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_showluckycollage" title="显示" value="1" ng-model="Edit.params.showluckycollage" />
				<input class="radio" type="radio" name="{{Edit.id}}_showluckycollage" title="不显示" value="0" ng-model="Edit.params.showluckycollage"/>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.showcuxiaonum" />
			</div>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商户来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_businessfrom" value="0" ng-model="Edit.params.businessfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_businessfrom" value="1" ng-model="Edit.params.businessfrom" title="商户分类" ng-change="getbusiness(Edit.id)"/>
			<?php if(getcustom('design_business_history')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_businessfrom" value="2" ng-change="delbusinessall(Edit.id)" ng-model="Edit.params.businessfrom" title="浏览过商户"/>
			<?php endif; ?>
		</div>
	</div>
	<div ng-show="Edit.params.businessfrom == '0'">
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delbusiness(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addbusiness('replace',Edit.id, good.id)">
					<img ng-src="{{good.logo}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商家</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">商家名称</div>
						<div class="layui-form-mid layui-input-inline">{{good.name}}</div>
					</div>
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">商家地址</div>
						<div class="layui-form-mid layui-input-inline">{{good.address}}</div>
					</div>
				</div>
			</div>
		</div>
		<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addbusiness('',Edit.id,'')">添加</div>
	</div>
	<div ng-show="Edit.params.businessfrom == '1'">
		<?php if(!$categroy_selmore): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商户分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getbusiness(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($blist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getbusiness(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getbusiness(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
				<div class="layui-form-label">商家分类</div>
				<div class="layui-input-inline">
					<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getbusiness(Edit.id)">
						<option value="">全部分类</option>
						<?php if(!$type): foreach($blist as $cv): ?>
								<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
								<?php foreach($cv['child'] as $v): ?>
								<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
								<?php endforeach; ?>
							<?php endforeach; ?>
						<?php endif; ?>
					</select>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
				<div class="layui-form-label">商家分类</div>
				<div class="layui-input-inline">
					<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getbusiness(Edit.id)"/>
					<?php if(!$type): foreach($blist as $cv): ?>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getbusiness(Edit.id)"/>
						<?php foreach($cv['child'] as $v): ?>
							<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getbusiness(Edit.id)"/>
						<?php endforeach; ?>
					<?php endforeach; ?>
					<?php endif; ?>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="scoredesc" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="评分"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="juli" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="距离"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getbusiness(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getbusiness(Edit.id)"/>
			</div>
		</div>
		<div class="layui-form-item" ng-show="Edit.params.sortby == 'juli'">
			<div class="layui-form-label">显示范围</div>
			<div class="slider" min="1" max="100" ng-model="Edit.params.distance"></div>
			<span class="slider-span"><input ng-model="Edit.params.distance"/> km</span>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span">{{Edit.params.margin_x}} px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span">{{Edit.params.padding_x}} px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span">{{Edit.params.padding_y}} px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-shortvideo.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">短视频列表设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">店铺图标</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showlogo" value="1" ng-model="Edit.params.showlogo" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showlogo" value="0" ng-model="Edit.params.showlogo" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">播放量</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showviewnum" value="1" ng-model="Edit.params.showviewnum" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showviewnum" value="0" ng-model="Edit.params.showviewnum" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">点赞数</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showzannum" value="1" ng-model="Edit.params.showzannum" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showzannum" value="0" ng-model="Edit.params.showzannum" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">短视频来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>视频设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delshortvideo(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addshortvideo('replace',Edit.id, good.id)">
					<img ng-src="{{good.coverimg}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择短视频</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">短视频名称</div>
						<div class="layui-form-mid layui-input-inline">{{good.name}}</div>
					</div>
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">短视频简介</div>
						<div class="layui-form-mid layui-input-inline">{{good.description}}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getshortvideocategory(Edit.id)">
					<option value="">全部</option>
					<option value="0">自营</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">视频分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getshortvideo(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($shortvideo_clist as $cv): ?>
						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php foreach($cv['child'] as $v): ?>
						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
						<?php endforeach; ?>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getshortvideo(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getshortvideo(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getshortvideocategory(Edit.id)">
							<option value="">全部</option>
							<option value="0">自营</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
								<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div  class="layui-form-item">
					<div class="layui-form-label">视频分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getshortvideo(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($shortvideo_clist as $cv): ?>
								<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
								<?php foreach($cv['child'] as $v): ?>
								<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
								<?php endforeach; ?>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getshortvideo(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getshortvideo(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getshortvideocategory(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div  class="layui-form-item">
					<div class="layui-form-label">视频分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getshortvideo(Edit.id)"/>
						<?php if(!$type): foreach($shortvideo_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getshortvideo(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getshortvideo(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getshortvideo(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getshortvideo(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getshortvideo(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="viewnum" ng-model="Edit.params.sortby" ng-change="getshortvideo(Edit.id)" title="播放量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getshortvideo(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getshortvideo(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addshortvideo('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-liveroom.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-line-right .layui-form-item .layui-form-mid{float: left;padding: 5px 0!important;font-size: 12px;}
	.dsn-panel-editor-line-right .layui-form-item .layui-form-label{width: 60px !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">微信小程序直播列表设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">直播间来源</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_liveroomfrom" value="1" ng-model="Edit.params.liveroomfrom" title="全部" ng-change="getliveroom(Edit.id)"/>
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_liveroomfrom" value="0" ng-model="Edit.params.liveroomfrom" title="手动选择"/>
			<?php endif; ?>
		</div>
	</div>
	<div ng-show="Edit.params.liveroomfrom == '0'">
		<div class="title-div flex-box">
			<div>直播间设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="addliveroom('',Edit.id,'')"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delliveroom(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addliveroom('replace',Edit.id, good.id)" style="max-height:136px">
					<img ng-src="{{good.coverImg}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">直播间名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">主播名称</div>
						<div class="layui-form-mid">{{good.anchorName}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">直播时间</div>
						<div class="layui-form-mid">{{good.startTime}} ~ {{good.endTime}}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.liveroomfrom == '1'">
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="starttimedesc" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="开始时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="starttime" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="开始时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="endtimedesc" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="结束时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="endtime" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="结束时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getliveroom(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getliveroom(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.liveroomfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addliveroom('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-channelslive.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-line-right .layui-form-item .layui-form-mid{float: left;padding: 5px 0!important;font-size: 12px;}
	.dsn-panel-editor-line-right .layui-form-item .layui-form-label{width: 60px !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">视频号直播设置 (仅支持微信小程序)</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">视频号ID</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.channelsLive" placeholder="请输入视频号ID"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left">要求小程序与视频号同主体或关联主体</div>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">直播窗口高度</div>
		<div class="slider" min="50" max="100" ng-model="Edit.params.live_height"></div>
		<span class="slider-span"><input ng-model="Edit.params.live_height"/> %</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-hotspot.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-line-right {margin-left: 0px}
	.dsn-panel-editor-line-right .layui-form-item .slider{width: 165px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">单图设置<span class="tips"></span></div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景图片</div>
		<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" value="{{Edit.params.imgurl}}" ng-model="Edit.params.imgurl"/>
			<div class="icon-input" ng-click="uploadImg(Edit.id,'imgurl')">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<!-- <div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div> -->
	<div class="title-div flex-box">
		<div>热区设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
	</div>
	<div ng-repeat="spot in Edit.data" class="dsn-panel-editor-relative">
		<div class="dsn-panel-editor-del" style="right:30px;font-size:12px;top:11px" title="上移" ng-click="upItemChild(Edit.id,spot.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:12px" ng-click="delItemChild(Edit.id,spot.id)">×</div>
    <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-line-right">
				<div class="layui-form-item">
					<div class="layui-form-label">热区链接</div>
					<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;width:180px !important;">
						<input class="layui-input" style="width:160px !important;" value="" ng-model="spot.hrefurl" placeholder="热区链接"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id, spot.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<div class="layui-form-mid layui-word-aux" style="float: left">{{spot.hrefname}}</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">热区宽度</div>
					<div class="slider" min="0" max="340" ng-model="spot.width" style="width: 140px;"></div>
					<span class="slider-span"><input ng-model="spot.width"/> px</span>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">热区高度</div>
					<div class="slider" min="0" max="340" ng-model="spot.height" style="width: 140px;"></div>
					<span class="slider-span"><input ng-model="spot.height"/> px</span>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">与左方距离</div>
					<div class="slider" min="0" max="340" ng-model="spot.left" style="width: 140px;"></div>
					<span class="slider-span"><input ng-model="spot.left"/> px</span>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">与上方距离</div>
					<div class="slider" min="0" max="340" ng-model="spot.top" style="width: 140px;"></div>
					<span class="slider-span"><input ng-model="spot.top"/> px</span>
				</div>
			</div>
    </div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addItemChild('spot', Edit.id)">添加热区</div>
	<hr>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-userinfo.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.editor-goodimg{height: 22px;width: 100% !important;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
	.layui-form-item .layui-input-inline{width: 230px;border-radius: 5px;overflow: hidden;}
	.dsn-panel-editor-relative {width:100%;height: auto;position: relative;margin-bottom:0px;border: none !important;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width:88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
</style>
<div class="dsn-panel-editor-title"><?php echo t('会员'); ?>信息设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
	  <div class="layui-form-label">与上方距离</div>
	  <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" title="样式一"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" title="样式二"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景图片</div>
		<div class="layui-input-inline"  style="background: linear-gradient(45deg, <?php echo t('color1'); ?> 0%, rgba(<?php echo t('color1rgb'); ?>, 0.8) 100%);">
			<div class="img-div" ng-click="uploadImg(Edit.id,'bgimg')" style="width: 230px;height:146px;cursor: pointer;background: none;">
				<img ng-show="Edit.params.bgimg" ng-src="{{Edit.params.bgimg}}" style="width: 230px;height:146px;">
				<img ng-show="!Edit.params.bgimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width: 230px;height:146px;" />
				<div ng-show="Edit.params.bgimg" class="editor-goodimg">重新选择图片</div>
			</div>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">建议尺寸：600*450像素</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('会员'); ?>等级</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_levelshow" value="1" ng-model="Edit.params.levelshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_levelshow" value="0" ng-model="Edit.params.levelshow" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.levelshow == 1">
		<div class="layui-form-label">点击等级打开升级</div>
		<div class="layui-input-inline" style="padding: 9px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_levelclick" value="1" ng-model="Edit.params.levelclick" title="是"/>
			<input class="radio" type="radio" name="{{Edit.id}}_levelclick" value="0" ng-model="Edit.params.levelclick" title="否"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">关闭后，点击无法打开<?php echo t('会员'); ?>升级页面</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('会员'); ?>ID</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_midshow" value="1" ng-model="Edit.params.midshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_midshow" value="0" ng-model="Edit.params.midshow" title="不显示"/>
		</div>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">设置图标</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_seticonshow" value="1" ng-model="Edit.params.seticonshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_seticonshow" value="0" ng-model="Edit.params.seticonshow" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">设置图标图片</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.seticon" placeholder=""/>
		</div>
		<span class="layui-btn layui-btn-sm layui-btn-primary" ng-click="uploadImg(Edit.id,'seticon')">上传图片</span>
		<img ng-src="{{Edit.params.seticon?Edit.params.seticon:'/static/img/set.png'}}" style="width:30px;height:30px;margin-top:4px;margin-left:10px;border: 1px solid #ccc">
	</div>
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">设置图标图片大小</div>
		<div class="layui-input-inline" style="padding: 9px 0px;">
			<div class="slider" min="10" max="60" ng-model="Edit.params.seticonsize" style="width: 130px;" ></div>
			<span class="slider-span"><input ng-model="Edit.params.seticonsize"/> px</span>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">设置大小大于0后生效</div>
	</div>
	<?php if(in_array('mp',$platform)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">会员卡</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_cardshow" value="1" ng-model="Edit.params.cardshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_cardshow" value="0" ng-model="Edit.params.cardshow" title="不显示"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">仅微信端有效，请先在[<a href="javascript:void(0)" onclick="openmax('<?php echo url('membercard/index'); ?>/isopen/1')">微信-微信会员卡</a>]中创建会员卡</div>
	</div>
	<?php endif; ?>
	
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('余额'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_moneyshow" value="1" ng-model="Edit.params.moneyshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_moneyshow" value="0" ng-model="Edit.params.moneyshow" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('佣金'); ?></div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_commissionshow" value="1" ng-model="Edit.params.commissionshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_commissionshow" value="0" ng-model="Edit.params.commissionshow" title="不显示"/>
		</div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">该项开启时,仅有分销权限的<?php echo t('会员'); ?>才会显示</div>
	</div>
	
	
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('积分'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_scoreshow" value="1" ng-model="Edit.params.scoreshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_scoreshow" value="0" ng-model="Edit.params.scoreshow" title="不显示"/>
		</div>
	</div>
	
	<?php if(getcustom('product_bonus_pool')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('贡献值'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_bonuspoolshow" value="1" ng-model="Edit.params.bonuspoolshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_bonuspoolshow" value="0" ng-model="Edit.params.bonuspoolshow" title="不显示"/>
		</div>
	</div>
	<?php endif; if(getcustom('member_overdraft_money')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('信用额度'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_overdraftmoneyshow" value="1" ng-model="Edit.params.overdraftmoneyshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_overdraftmoneyshow" value="0" ng-model="Edit.params.overdraftmoneyshow" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	
	
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('优惠券'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_couponshow" value="1" ng-model="Edit.params.couponshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_couponshow" value="0" ng-model="Edit.params.couponshow" title="不显示"/>
		</div>
	</div>
	
	
	
	
	<?php if($canshowsilvermoney): ?>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('银值'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showsilvermoney" value="1" ng-model="Edit.params.showsilvermoney" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsilvermoney" value="0" ng-model="Edit.params.showsilvermoney" title="不显示"/>
		</div>
	</div>
	<?php endif; if($canshowgoldmoney): ?>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('金值'); ?></div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showgoldmoney" value="1" ng-model="Edit.params.showgoldmoney" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showgoldmoney" value="0" ng-model="Edit.params.showgoldmoney" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	
	
	
	
	<div class="layui-form-item">
		<div class="layui-form-label">我的订单</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_ordershow" value="1" ng-model="Edit.params.ordershow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_ordershow" value="0" ng-model="Edit.params.ordershow" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.ordershow==1">
		<div class="layui-form-label">订单样式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtype" value="0" ng-model="Edit.params.showtype" title="默认"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtype" value="1" ng-model="Edit.params.showtype" title="自定义"/>
		</div>
	</div>
<!-- 	<div class="title-div flex-box" ng-show="Edit.data.showtype==1">
		<div>选项设置</div>
	</div> -->
	<div class="layui-form-item" ng-show="Edit.params.showtype==1">
	  <div class="layui-form-label">订单标题</div>
	  <div class="layui-input-inline">
	      <input class="layui-input" ng-model="Edit.params.ordertitle" />
	  </div>
	</div>
	<div ng-repeat="menu in Edit.params.orderData" class="dsn-panel-editor-relative" ng-show="Edit.params.showtype==1">
	  <!-- <div class="dsn-panel-editor-del" style="font-size:12px" title="上移" ng-click="upItemChild(Edit.id,menu.id)"><i class="fa fa-arrow-up"></i></div> -->
	  <!-- <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,menu.id)">×</div> -->
	  <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0" ng-click="uploadImgChild(Edit.id, menu.id,'userinfo')"
			ng-style="{'background':'url(' + menu.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{menu.imgurl}}" width="100%" ng-show="menu.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!menu.imgurl" style="line-height:120px;"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="menu.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right ">
				<div class="layui-form-item">
					<div class="layui-form-label">按钮文字</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="" ng-model="menu.text" placeholder="请填写按钮文字" />
	        </div>
				</div>
				<div class="layui-form-item">
					<div class="layui-input-inline">
						<input class="radio" type="radio" name="{{menu.id}}_menushow" value="1" ng-model="menu.show" title="显示"/>
						<input class="radio" type="radio" name="{{menu.id}}_menushow" value="0" ng-model="menu.show" title="不显示"/>
					</div>
				</div>
			</div>
	  </div>
		<hr>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo t('积分'); ?>兑换订单</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_scoreshopordershow" value="1" ng-model="Edit.params.scoreshopordershow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_scoreshopordershow" value="0" ng-model="Edit.params.scoreshopordershow" title="不显示"/>
		</div>
	</div>
	
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-wxad.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">微信小程序广告设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">广告类型</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_adtype" value="banner" ng-model="Edit.params.adtype" title="Banner广告"/>
			<input class="radio" type="radio" name="{{Edit.id}}_adtype" value="video" ng-model="Edit.params.adtype" title="视频广告"/>
			<input class="radio" type="radio" name="{{Edit.id}}_adtype" value="custom" ng-model="Edit.params.adtype" title="原生模板广告"/>
		</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">广告ID</div>
    <div class="layui-input-inline">
      <input class="layui-input" value="" ng-model="Edit.params.unitid"/>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">注: 在小程序后台"流量主-广告管理-获取代码"中查找<br>如: 广告代码是&ltad-custom unit-id="adunit-74ed28bc32914a8b"&gt 则填写adunit-74ed28bc32914a8b即可</ad-custom></div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
      <input class="layui-input" value="" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-adset.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">ADSET广告设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">广告类型</div>
		<div class="layui-input-inline" style="width:200px">
			<input class="radio" type="radio" name="{{Edit.id}}_adtype" value="banner" ng-model="Edit.params.adtype" title="Banner广告"/>
		</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">广告ID</div>
    <div class="layui-input-inline">
      <input class="layui-input" value="" ng-model="Edit.params.adpid"/>
    </div>
		<div class="layui-form-mid layui-word-aux" style="float: left;">注: 广告后台申请的广告位(adpid)需要自定义基座/云打包/本地打包后生效</div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
      <input class="layui-input" value="" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="edit-jidian.html"><div class="dsn-panel-editor-title">集点设置</div>
<div class="dsn-panel-editor-content">
<!--	<div class="layui-form-item">-->
<!--    <div class="layui-form-label">文字颜色</div>-->
<!--    <div class="layui-input-inline">-->
<!--			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>-->
<!--    </div>-->
<!--		<span class="colorpicker" ng-model="Edit.params.color"></span>-->
<!--	</div>-->
<!--	<div class="layui-form-item">-->
<!--    <div class="layui-form-label">边框颜色</div>-->
<!--    <div class="layui-input-inline">-->
<!--			<input class="layui-input" value="{{Edit.params.bordercolor}}" ng-model="Edit.params.bordercolor"/>-->
<!--    </div>-->
<!--		<span class="colorpicker" ng-model="Edit.params.bordercolor"></span>-->
<!--	</div>-->
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">圆角度</div>
		<div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php if(!$type): ?>
	<script type="text/ng-template" id="edit-tab.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width:100%;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;margin-bottom:5px;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">选项卡设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.fontsize1"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize1"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color1}}" ng-model="Edit.params.color1"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color1"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">选中颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.color2}}" ng-model="Edit.params.color2"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color2"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题区背景色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">内容区背景色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor2}}" ng-model="Edit.params.bgcolor2"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor2"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">圆角度</div>
		<div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">吸顶效果</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_fixedtop" value="1" ng-model="Edit.params.fixedtop" title="开启"/>
			<input class="radio" type="radio" name="{{Edit.id}}_fixedtop" value="0" ng-model="Edit.params.fixedtop" title="关闭"/>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">选项条</div>
    <div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_arrowshow" value="1" ng-model="Edit.params.arrowshow" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_arrowshow" value="0" ng-model="Edit.params.arrowshow" title="不显示"/>
    </div>
		<div ng-show="Edit.params.arrowshow==1">
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.arrowcolor}}" ng-model="Edit.params.arrowcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.arrowcolor"></span>
		</div>
	</div>
	<div class="title-div flex-box">
		<div>标题设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
	</div>
	<div class="layui-form-item">
		<div class="layui-form-mid layui-word-aux">注意：表单插件不要设置多个，上一个表单选项选择内容会影响其他表单选项选择</div>
	</div>
	<div ng-repeat="dh in Edit.data" class="dsn-panel-editor-relative">
    <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,dh.id)"><i class="fa fa-arrow-up"></i></div>
    <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,dh.id)">×</div>
    <div class="dsn-panel-editor-line">
			<div class="layui-form-item">
				<div class="layui-form-label">标题</div>
				<div class="layui-input-inline" style="width:180px">
					<input class="layui-input" ng-model="dh.name" />
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-form-label">内容</div>
				<div class="layui-btn layui-btn-primary" style="float:left" ng-click="designerTab(Edit.id,dh.id,dh.name)">设置内容</div>
				<div class="layui-form-mid"></div>
			</div>
		</div>
	</div>
	<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('tab', Edit.id)">添加选项</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
  <input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
  <input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
  <input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php endif; ?>
	<script type="text/ng-template" id="edit-kecheng.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px !important;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333} 
</style>
<div class="dsn-panel-editor-title">课程列表设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style == 'list'">
		<div class="layui-form-label">课程图片</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showpic" value="1" ng-model="Edit.params.showpic" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showpic" value="0" ng-model="Edit.params.showpic" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">课程名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">课程价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">学习人数</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">课程属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">课程来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="课程类型"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>课程设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delKecheng(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addKecheng('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">课程名称</div>
						<div class="layui-input-inline layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item manual-selection-item">
						<div class="layui-form-label">课程价格</div>
						<div class="layui-form-mid layui-input-inline"><span style="font-size: 16px;">￥{{good.price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getKecheng(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">课程分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getKecheng(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($kecheng_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getKecheng(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getKecheng(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getKecheng(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
									<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">课程分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getKecheng(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($kecheng_clist as $cv): ?>
									<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
									<?php foreach($cv['child'] as $v): ?>
									<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
									<?php endforeach; ?>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getKecheng(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getKecheng(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getKecheng(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">课程分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getKecheng(Edit.id)"/>
						<?php if(!$type): foreach($kecheng_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getKecheng(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getKecheng(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getKecheng(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getKecheng(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getKecheng(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getKecheng(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getKecheng(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getKecheng(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addKecheng('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php if(getcustom('car_hailing')): ?>
	<script type="text/ng-template" id="edit-carhailing.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">文本设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">日期筛选</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showdate" value="1" ng-model="Edit.params.showdate" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showdate" value="0" ng-model="Edit.params.showdate" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">选择分类</div>
		<div class="layui-input-inline">
			<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.cid">
				<option value="">全部分类</option>
				<?php if(!$type): foreach($carhailing_clist as $cv): ?>
						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php foreach($cv['child'] as $v): ?>
						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
						<?php endforeach; ?>
					<?php endforeach; ?>
				<?php endif; ?>
			</select>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php endif; if(getcustom('show_location') && ($sysset['mode']==2 || $sysset['mode']==3)): ?>
	<script type="text/ng-template" id="edit-location.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
	.dsn-panel-editor-relative{padding: 0px;margin-bottom: 10px;overflow: hidden;background: #fff;border: none;border-radius: 3px;width: 100%;height: auto;position: relative;box-sizing: border-box;}
	.dsn-panel-editor-line{overflow: hidden;background: #fff;border: none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-line .layui-form-item .layui-input-inline{width: 97%;box-sizing: border-box;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg {width: 88px;height:88px;overflow: hidden;border-radius: 5px;border: 1px solid #ccc;float: left;position: relative;background: #fff;cursor: pointer;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
	.dsn-panel-editor-line-right {width:100%;border-radius: 5px;display: flex;flex-direction: column;align-items: flex-start;justify-content: flex-end;margin-left: 10px;}
	.dsn-panel-editor-line-right .layui-input-inline{background: #F7F7F7;}
	.dsn-panel-editor-line-right .layui-input-inline .layui-input{border:none;background:none;width: 200px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
</style>
<?php if(getcustom('show_location')): ?>
<div class="dsn-panel-editor-title">定位设置</div>
<div class="dsn-panel-editor-content">
	<div style="color: #fe5b07">* 定位组件只在【定位模式】和【门店模式】下显示，切换其他模式则定位组件无效且不再显示！</div>
	<?php if($sysset['mode']==2 && $sysset['loc_range_type']==0): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示级别</div>
		<div class="layui-input-inline" style="width: 50%">
<!--			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="1" ng-model="Edit.params.showlevel" title="省"/>-->
			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="2" ng-model="Edit.params.showlevel" title="市"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showlevel" value="3" ng-model="Edit.params.showlevel" title="区"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示搜索框</div>
		<div class="layui-input-inline" style="width: 50%">
			<input class="radio" type="radio" name="{{Edit.id}}_showsearch" value="0" ng-model="Edit.params.showsearch" title="隐藏"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsearch" value="1" ng-model="Edit.params.showsearch" title="显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.showsearch==1">
		<div class="layui-form-label">提示文字</div>
		<div class="layui-input-inline">
		   <input class="layui-input" placeholder="搜索框默认提示文字" ng-model="Edit.params.placeholder" />
		</div>
	</div>
	<div class="layui-form-item" ng-if="Edit.params.showsearch==1">
		<div class="layui-form-label">跳转链接</div>
		<div class="layui-input-inline flex-y-center" style="background: #F7F7F7;">
			<input class="layui-input" value="{{Edit.id}}_hrefurl" ng-model="Edit.params.hrefurl" placeholder="选择链接" />
			<div class="icon-input" ng-click="chooseUrl(Edit.id, -1)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
		<div class="layui-form-mid">
			<span style="margin-left:10px">{{Edit.params.hrefname}}</span>
			</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">快速入口</div>
		<div class="layui-input-inline" style="width: 50%">
			<input class="radio" type="radio" name="{{Edit.id}}_showicon" value="0" ng-model="Edit.params.showicon" title="隐藏"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showicon" value="1" ng-model="Edit.params.showicon" title="显示"/>
		</div>
	</div>
	<div id="fasticon1" ng-show="Edit.params.showicon=='1'" style=''>
		<div ng-repeat="picture in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,picture.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id, picture.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-iconimg flex0 flex-x-center" ng-click="uploadImgChild(Edit.id, picture.id)" 
				ng-style="{'background':'url(' + picture.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
					<!-- <img ng-src="{{picture.imgurl}}" width="100%" ng-show="picture.imgurl" /> -->
					<div class="dsn-panel-editor-iconimg-t1" ng-show="!picture.imgurl"><i class="fa fa-plus-circle"></i> 选择图片</div>
					<div class="dsn-panel-editor-iconimg-t2" ng-show="picture.imgurl">重新选择图片</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-input-inline flex-y-center">
						<input class="layui-input"  value="" ng-model="picture.hrefurl" placeholder="请选择链接"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id, picture.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<span style="margin-left:10px">{{picture.hrefname}}</span>
				</div>
			</div>
		</div>
		<div class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addItemChild('location', Edit.id)">添加</div>
		<hr>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">文字颜色</div>
		<div class="layui-input-inline" style='width:180px'>
			<input class="layui-input" value="{{Edit.params.color}}" ng-model="Edit.params.color"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.color"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">边框颜色</div>
    <div class="layui-input-inline" style='width:180px'>
			<input class="layui-input" value="{{Edit.params.bordercolor}}" ng-model="Edit.params.bordercolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bordercolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style='width:180px'>
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<hr>
	<div class="layui-form-item">
    <div class="layui-form-label">左右外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下外边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="show-location.html"><?php if(getcustom('show_location')): ?>
<div class="dsn-mod dsn-search" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div ng-style="{'border-color':Item.params.bordercolor,'border-radius':Item.params.borderradius+'px','width':'100%','border-style':'solid','border-width':'1px','color':Item.params.color}">
        <div style="display: flex;justify-content: space-between;">
            <div  style="width: 80px;overflow: hidden;height: 36px;line-height: 36px;flex-shrink: 0;text-align: center;text-overflow: ellipsis;padding: 0 5px;">
                <?php if($sysset['mode']==2): if($sysset['loc_range_type']==0): ?>
                    <span ng-if="Item.params.showlevel == 1">北京</span>
                    <span ng-if="Item.params.showlevel == 2">北京市</span>
                    <span ng-if="Item.params.showlevel == 3">朝阳区</span>
                    <?php endif; if($sysset['loc_range_type']==1): ?>
                    <span>万达广场</span>
                    <?php endif; ?>
                <?php endif; if($sysset['mode']==3): ?>
                <span>xx总店</span>
                <?php endif; ?>
            </div>
            <div class="dp-search-search-noborder" ng-if="Item.params.showsearch == 1" >
                <div class="dp-search-search-f2">
                    <input class="dp-search-search-input" name="keyword" placeholder="{{Item.params.placeholder?Item.params.placeholder:'请输入关键字'}}" ng-style="{color:Item.params.color}" />
                </div>
                <div class="dp-search-search-f1"></div>
            </div>
            <div ng-if="Item.params.showicon == 1" class="dsn-mod" style="display: flex;align-items: center;flex-shrink: 0" ng-class="{'dsn-mod-select':Item.id == focus}">
                <div ng-repeat="d in Item.data" style="width: 20px;height: 20px">
                    <a href="javascript:void(0);">
                        <img ng-src="{{d.imgurl}}" ng-show="d.imgurl" height="20" width="20"/>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<?php endif; ?></script>
	<?php endif; ?>
	<script type="text/ng-template" id="edit-restaurant_product.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">餐饮菜品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">菜品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">菜品价格</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：原价+销售价，原价大于销售价才会显示原价</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">菜品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<!--<div class="layui-form-item" ng-show="Edit.params.showname == 1">
		<div class="layui-form-label">购买按钮</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="0" ng-model="Edit.params.showcart" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="1" ng-model="Edit.params.showcart" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="2" ng-model="Edit.params.showcart" title="自己上传"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showcart==2">
		<div class="layui-form-label">购买图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.cartimg" placeholder=""/>
		</div>
		<button class="layui-btn layui-btn-primary" ng-click="uploadImg(Edit.id,'cartimg')" style="float:left">上传图片</button>
		<img ng-show="Edit.params.cartimg!=''" ng-src="{{Edit.params.cartimg}}" style="width:30px;height:30px;margin-top:4px;margin-left:10px">
	</div>-->
	<div class="layui-form-item">
		<div class="layui-form-label">菜品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">展示类型</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtype" value="0" ng-model="Edit.params.showtype" title="外卖"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtype" value="1" ng-model="Edit.params.showtype" title="店内"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">菜品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>菜品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delRestaurantGood(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addRestaurantGood('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择菜品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">菜品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">菜品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getRestaurantGoods(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
<!--		<div class="layui-form-item">-->
<!--			<div class="layui-form-label">菜品分类</div>-->
<!--			<div class="layui-input-inline">-->
<!--				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getRestaurantGoods(Edit.id)">-->
<!--					<option value="">全部分类</option>-->
<!--					<?php foreach($clist as $cv): ?>-->
<!--						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>-->
<!--						<?php foreach($cv['child'] as $v): ?>-->
<!--						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>-->
<!--						<?php endforeach; ?>-->
<!--					<?php endforeach; ?>-->
<!--				</select>-->
<!--			</div>-->
<!--		</div>-->
		<?php else: if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getRestaurantGoods(Edit.id)" title="单选模式"/>
				<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getRestaurantGoods(Edit.id)" title="多选模式"/>
			</div>
		</div>
		<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'" class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getRestaurantGoods(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getRestaurantGoods(Edit.id)"/>
				<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getRestaurantGoods(Edit.id)"/>
				<?php if(!$type): foreach($bnlist as $bv): ?>
					<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getRestaurantGoods(Edit.id)"/>
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>
		<?php endif; ?>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getRestaurantGoods(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getRestaurantGoods(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getRestaurantGoods(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getRestaurantGoods(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getRestaurantGoods(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getRestaurantGoods(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addRestaurantGood('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-restaurant_product.html"><div class="dsn-mod dp-product" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个菜品都没有...</div>
	<!--123排-->
	<div class="dp-product-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
					<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
				</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></span></div>
			</div>
		</div>
	</div>
	<div class="dp-product-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="edit-classify2.html"><div class="dsn-panel-editor-title">分类页2设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="waterfall" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="瀑布流"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('product_field_buy')): ?>
	<div ng-show="Edit.params.style==2">
		<div class="layui-form-item" >
			<div class="layui-form-label">品牌</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_brand" value="1" ng-model="Edit.params.brand" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_brand" value="0" ng-model="Edit.params.brand" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">品牌为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">货号</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_barcode" value="1" ng-model="Edit.params.barcode" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_barcode" value="0" ng-model="Edit.params.barcode" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">货号为商品编码，为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">规格</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_guige" value="1" ng-model="Edit.params.guige" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_guige" value="0" ng-model="Edit.params.guige" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">规为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">单位</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_unit" value="1" ng-model="Edit.params.unit" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_unit" value="0" ng-model="Edit.params.unit" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">单位为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">库存</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_ggstock" value="1" ng-model="Edit.params.ggstock" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_ggstock" value="0" ng-model="Edit.params.ggstock" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">库存为商品第一个规格里的库存数量</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">有效期</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_valid_time" value="1" ng-model="Edit.params.valid_time" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_valid_time" value="0" ng-model="Edit.params.valid_time" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">有效期为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">备注</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_remark" value="1" ng-model="Edit.params.remark" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_remark" value="0" ng-model="Edit.params.remark" title="不显示"/>
			</div>
			<div class="layui-form-mid layui-word-aux">备注为空时不显示</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">立即购买</div>
			<div class="layui-input-inline" >
				<input class="radio" type="radio" name="{{Edit.id}}_nowbuy" value="1" ng-model="Edit.params.nowbuy" title="显示"/>
				<input class="radio" type="radio" name="{{Edit.id}}_nowbuy" value="0" ng-model="Edit.params.nowbuy" title="不显示"/>
			</div>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="销售价"/>
			<?php if(getcustom('product_nextmemberlevel_price_show')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="3" ng-model="Edit.params.showprice" title="销售价+会员价"/>
			<?php endif; if(getcustom('product_scoredk_price_show')): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="4" ng-model="Edit.params.showprice" title="销售价+积分抵扣价"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux">提示：原价+销售价，原价大于销售价才会显示原价</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall'">
		<div class="layui-form-label">商品库存</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showstock" value="1" ng-model="Edit.params.showstock" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showstock" value="0" ng-model="Edit.params.showstock" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('product_cost_show')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style!='line'">
		<div class="layui-form-label">商品成本</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showcost" value="1" ng-model="Edit.params.showcost" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcost" value="0" ng-model="Edit.params.showcost" title="不显示"/>
		</div>
	</div>
	<?php endif; if(getcustom('home_product_show_binfo')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'">
		<div class="layui-form-label">商家名称</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showbname" value="1" ng-model="Edit.params.showbname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showbname" value="0" ng-model="Edit.params.showbname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'">
		<div class="layui-form-label">商家距离</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showbdistance" value="1" ng-model="Edit.params.showbdistance" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showbdistance" value="0" ng-model="Edit.params.showbdistance" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall'">
		<div class="layui-form-label">优惠券</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showcoupon" value="1" ng-model="Edit.params.showcoupon" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcoupon" value="0" ng-model="Edit.params.showcoupon" title="不显示"/>
		</div>
	</div>
	<?php if(getcustom('design_product_commission') || getcustom('home_product_show_binfo')): ?>
	<div class="layui-form-item" ng-show="Edit.params.style=='waterfall' || Edit.params.style==1 || Edit.params.style==2 || Edit.params.style=='list'">
		<div class="layui-form-label">佣金</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showcommission" value="1" ng-model="Edit.params.showcommission" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcommission" value="0" ng-model="Edit.params.showcommission" title="不显示"/>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="Edit.params.showname == 1">
		<div class="layui-form-label">购买按钮</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="0" ng-model="Edit.params.showcart" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="1" ng-model="Edit.params.showcart" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="2" ng-model="Edit.params.showcart" title="自己上传"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showcart==2">
		<div class="layui-form-label">购买图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.cartimg" placeholder=""/>
		</div>
		<button class="layui-btn layui-btn-primary" ng-click="uploadImg(Edit.id,'cartimg')" style="float:left">上传图片</button>
		<img ng-show="Edit.params.cartimg!=''" ng-src="{{Edit.params.cartimg}}" style="width:30px;height:30px;margin-top:4px;margin-left:10px">
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
			<span class="dsn-panel-editor-btn" ng-click="uploadImg(Edit.id,'saleimg')">自己上传</span>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" ng-model="Edit.params.bgcolor"></span>
	</div>
	<?php if(getcustom('probgcolor')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商品背景颜色</div>
		<div class="layui-input-inline">
			<input class="layui-input" value="{{Edit.params.probgcolor}}" ng-model="Edit.params.probgcolor"/>
		</div>
		<span class="colorpicker" ng-model="Edit.params.probgcolor"></span>
	</div>
	<?php endif; if(getcustom('yx_invite_cashback')): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">仅邀请返现</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="radio" type="radio" name="{{Edit.id}}_icback" value="0" ng-model="Edit.params.icback" title="关闭" ng-change="getgoods(Edit.id)"/>
			<input class="radio" type="radio" name="{{Edit.id}}_icback" value="1" ng-model="Edit.params.icback" title="开启" ng-change="getgoods(Edit.id)"/>
		</div>
		<div class="layui-form-mid layui-word-aux">开启后，商品来源为分组分类的只显示邀请返现商品，关闭则都显示</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline" style="width:500px">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" ng-click="delGood(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addGood('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
		<div class="layui-btn layui-btn-primary" style="width:500px;margin-top:10px" ng-click="addGood('',Edit.id,'')"><i class="fa fa-plus-circle"></i> 添加一个商品</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getgoods(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline" style="width:500px">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category['all']" ng-change="getgoods(Edit.id)" title="所有分类">
				<?php if(!$type): foreach($clist as $cv): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category[<?php echo $cv['id']; ?>]" ng-change="getgoods(Edit.id)" title="<?php echo $cv['name']; ?>">
				<?php foreach($cv['child'] as $v): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category[<?php echo $v['id']; ?>]" ng-change="getgoods(Edit.id)" title="&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?>">
				<?php endforeach; ?>
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>
		<?php if($bid > 0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商家商品分类</div>
			<div class="layui-input-inline" style="width:500px">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category2['all']" ng-change="getgoods(Edit.id)" title="所有分类">
				<?php if(!$type): foreach($clist2 as $cv): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category2[<?php echo $cv['id']; ?>]" ng-change="getgoods(Edit.id)" title="<?php echo $cv['name']; ?>">
				<?php foreach($cv['child'] as $v): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.category2[<?php echo $v['id']; ?>]" ng-change="getgoods(Edit.id)" title="&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?>">
				<?php endforeach; ?>
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分组</div>
			<div class="layui-input-inline" style="width:500px">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group['all']" ng-change="getgoods(Edit.id)" title="所有分组">
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group[0]" ng-change="getgoods(Edit.id)" title="无分组">
				<?php if(!$type): foreach($glist as $g): ?>
				<input class="checkbox" type="checkbox" lay-skin="primary" ng-model="Edit.params.group[<?php echo $g['id']; ?>]" ng-change="getgoods(Edit.id)" title="<?php echo $g['name']; ?>">
				<?php endforeach; ?>
				<?php endif; ?>
			</div>
		</div>

		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline" style="width:500px">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="随机"/>
				<?php if(getcustom('prolist_showjuli')): ?>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="juli" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="距离"/>
				<?php endif; ?>
			</div>
		</div>
		<div class="layui-form-item">
		<div class="layui-form-label">显示数量</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getgoods(Edit.id)"/>
		</div>
	</div>
		<div class="layui-form-item">
			<div class="layui-form-label">分类页面</div>
			<div class="layui-input-inline" style="width:500px">
				<input class="radio" type="radio" name="{{Edit.id}}_classifypage" value="0" ng-model="Edit.params.classifypage" title="默认分类页"/>
				<input class="radio" type="radio" name="{{Edit.id}}_classifypage" value="1" ng-model="Edit.params.classifypage" title="分类页2"/>
			</div>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>

		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="width:500px">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline">
		<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>

	<script type="text/ng-template" id="edit-tuangou.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">团购商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="销售价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left">提示：原价+销售价，原价大于销售价才会显示原价</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showname == 1">
		<div class="layui-form-label">购买按钮</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="0" ng-model="Edit.params.showcart" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="1" ng-model="Edit.params.showcart" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showcart" value="2" ng-model="Edit.params.showcart" title="自己上传"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showcart==2">
		<div class="layui-form-label">购买图标</div>
		<div class="layui-input-inline">
			<input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.cartimg" placeholder=""/>
		</div>
		<button class="layui-btn layui-btn-primary" ng-click="uploadImg(Edit.id,'cartimg')" style="float:left">上传图片</button>
		<img ng-show="Edit.params.cartimg!=''" ng-src="{{Edit.params.cartimg}}" style="width:30px;height:30px;margin-top:4px;margin-left:10px">
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delTuangou(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addTuangou('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="gettuangou(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="gettuangou(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($tuangou_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="gettuangou(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="gettuangou(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="gettuangou(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
									<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="gettuangou(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($tuangou_clist as $cv): ?>
									<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
									<?php foreach($cv['child'] as $v): ?>
									<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
									<?php endforeach; ?>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="gettuangou(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="gettuangou(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="gettuangou(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div  class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="gettuangou(Edit.id)"/>
						<?php if(!$type): foreach($tuangou_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="gettuangou(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="gettuangou(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="gettuangou(Edit.id)" title="默认"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="gettuangou(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="gettuangou(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="gettuangou(Edit.id)" title="销量"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="gettuangou(Edit.id)" title="随机"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="gettuangou(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addTuangou('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>

	<script type="text/ng-template" id="show-topbar.html"><div class="dsn-mod dsn-topbar dsn-mod-nohover" style="color:#fff;background:<?php echo t('color1'); ?>;cursor:pointer;height:94px;">	<div class="flex-y-center" style="justify-content:space-between;height:47px;line-height:47px;padding:0px 30px;">		<div>12:00</div>		<div>100% <i class="fa fa-battery-full"></i>&nbsp;</div>	</div>	<div style="float:left;width:98%;margin:2px 1% 0 1%;">		<div style="float:left;width:30%">&nbsp;</div>		<div style="float:left;text-align:center;width:40%;font-size:16px;height:27px;line-height:27px">{{page.params.title || '默认标题'}}</div>		<div style="float:right;width:30%;border-radius:20px;width:70px;height: 25px;border:1px solid rgba(255,255,255,0.2);text;text-align:center;overflow:hidden;display:none">			<div style="float:left;width:49%;font-size:17px;height:27px;line-height:27px">				<div style="float:left;margin-left:2px">&nbsp;&bull;</div>				<div style="float:left;font-size:27px">&bull;</div>				<div style="float:left;">&bull;</div>			</div>			<div style="float:left;width:2%;"><span style="border-right:1px solid;opacity:0.2;"></span></div>			<div style="float:right;width:49%;"><i class="fa fa-dot-circle-o" style="font-size:19px;height:25px;line-height:25px"></i></div>		</div>	</div></div></script>
	<script type="text/ng-template" id="show-shop.html"><!-- 样式1 -->
<div class="dsn-mod dsn-shop1" ng-class="{'dsn-mod-select':Item.id == focus}" ng-show="Item.params.style == 1">
	<img class="img" ng-src="{{Item.params.bgimg}}"/>
	<div class="dsn-shop1-menu" ng-show="Item.params.menu == 1"  ng-style="{'color':Item.params.navcolor}">
		<a ng-repeat="menu in Item.data" href="javascript:void(0);"><div class="dsn-shop1-nav"><img ng-src="{{menu.imgurl}}" style="width:20px;height:20px"><br>{{menu.text}}</div></a>
	</div>
	<div class="dsn-shop1-shopname" ng-show="Item.params.name == 1" style="font-size: 18px;">
		<div class="dsn-shop1-name">{{system.name}}</div>
	</div>
	<div class="dsn-shop1-shoplogo" ng-show="Item.params.logo == 1"> 
		<div class="dsn-shop1-shoplogo-img">
			<img class="img" ng-src="{{system.logo || '<?php echo PRE_URL; ?>/imgsrc/picture-1.jpg'}}"/>
		</div>
	</div>
</div>
<!-- 样式2 -->
<div class="dsn-mod dsn-shop2" ng-class="{'dsn-mod-select':Item.id == focus}" ng-show="Item.params.style == 2">
	<img class="shop2-img" ng-src="{{Item.params.bgimg}}"/>
	<div class="shop2-shoplogo" ng-show="Item.params.logo == 1">
		<img class="shop2-shoplogo-img" ng-src="{{system.logo}}"/>
	</div>
	<div class="shop2-shopname" ng-show="Item.params.name == 1">{{system.name}}</div>
	<div class="shop2-menu" ng-show="Item.params.menu == 1" ng-style="{'color':Item.params.navcolor}">
		<div class="shop2-nav" ng-repeat="menu in Item.data">
			<img ng-src="{{menu.imgurl}}" style="width:18px;height:18px">
			<div style="font-size:12px;margin-top:3px">{{menu.text}}</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-notice.html"><div class="dsn-mod dsn-notice2" ng-class="{'dsn-mod-select':Item.id == focus}" style="color:{{Item.params.color}};background-color:{{Item.params.bgcolor}};margin:{{Item.params.margin_y}}px {{Item.params.margin_x}}px 0;padding:{{Item.params.padding_y}}px {{Item.params.padding_x}}px">
	<div class="left" ng-show="Item.params.showimg==1"><img class="image" ng-src="{{Item.params.img}}"/></div>
	<div class="right">
		<img class="ico" ng-src="{{Item.params.icon}}" ng-show="Item.params.showicon==1"/>
		<div class="itemlist" style="font-size:{{Item.params.fontsize}}px">
			<div class="item" ng-repeat="d in Item.data">{{d.title}}</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-menu.html"><div class="dsn-mod dsn-menu" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'font-size':Item.params.fontsize+'px','background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':(Item.params.padding_y*1+8)+'px '+Item.params.padding_x+'px '+Item.params.padding_y+'px '+Item.params.padding_x+'px','border-radius':Item.params.boxradius + 'px'}">
	<div class="dsn-menu-title" ng-if="Item.params.showtitle==1" style="color:{{Item.params.titlecolor}};font-size:{{Item.params.titlesize}}px">{{Item.params.title}}</div>
	<div class="dsn-menu-nav{{Item.params.num}} {{Item.params.showicon==0 && Item.params.showline==1?'showline':''}}" href="{{menu.hrefurl|| 'javascript:void(0);'}}" ng-repeat="menu in Item.data" ng-hide="$index >= Item.params.pernum">
		<img ng-show="Item.params.showicon==1" ng-src="{{menu.imgurl|| '/static/imgsrc/picture-1.jpg'}}" style="border-radius:{{Item.params.radius/2}}%;width:{{Item.params.iconsize}}px;height:{{Item.params.iconsize}}px"/>
		<div class="dsn-menu-text" ng-style="{'color':menu.color,'height':Item.params.fontheight+'px','line-height':Item.params.fontheight+'px'}">{{menu.text|| '按钮文字'}}</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-banner.html"><div class="dsn-mod dsn-banner" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px','font-size':Item.params.fontsize+'px'}">
		<div class="swipe" ng-style="{'border-radius':Item.params.borderradius+'px'}">
			<div class="swipe-wrap" ng-style="{'height':Item.params.height * 1.08 +'px'}">
				<li ng-repeat="d in Item.data">
					<a href="javascript:void(0);"><img ng-src="{{d.imgurl}}" /></a>
				</li>
			</div>
		</div>
		<div class='dsn-banner-dots' ng-show="Item.data.length > 1 && Item.params.indicatordots=='1'" ng-style="{'left':Item.params.padding_x+'px','bottom':Item.params.dotSite+'px','justify-content':Item.params.align=='center'?'center':(Item.params.align=='left'?'flex-start':'flex-end')}" indicatorcolor="{{Item.params.indicatorcolor}}" indicatoractivecolor="{{Item.params.indicatoractivecolor}}" dotactivewidth="{{Item.params.shape==''?'13px':'6px'}}" dotwidth="{{Item.params.shape==''?'3px':'6px'}}"> 
			<div ng-if="Item.params.shape==''" ng-repeat="d in Item.data" style="display:inline-block; list-style: none;display:flex">
				<a ng-if="$index==0" class="shape0" ng-style="{'background-color':Item.params.indicatoractivecolor,'width':'13px'}"></a>
				<a ng-if="$index!=0" class="shape0" ng-style="{'background-color':Item.params.indicatorcolor}"></a>
			</div>
			<div ng-if="Item.params.shape=='shape1'" ng-repeat="d in Item.data" style="display:inline-block; list-style: none;display:flex">
				<a ng-if="$index==0" class="shape1" ng-style="{'background-color':Item.params.indicatoractivecolor}"></a>
				<a ng-if="$index!=0" class="shape1" ng-style="{'background-color':Item.params.indicatorcolor}"></a>
			</div>
			<div ng-if="Item.params.shape=='shape2'" ng-repeat="d in Item.data" style="display:inline-block; list-style: none;display:flex">
				<a ng-if="$index==0" class="shape2" ng-style="{'background-color':Item.params.indicatoractivecolor}"></a>
				<a ng-if="$index!=0" class="shape2" ng-style="{'background-color':Item.params.indicatorcolor}"></a>
			</div>
			<div ng-if="Item.params.shape=='shape3'" ng-repeat="d in Item.data" style="display:inline-block; list-style: none;display:flex">
				<a ng-if="$index==0" class="shape3" ng-style="{'background-color':Item.params.indicatoractivecolor}"></a>
				<a ng-if="$index!=0" class="shape3" ng-style="{'background-color':Item.params.indicatorcolor}"></a>
			</div>
		</div>
</div></script>
	<script type="text/ng-template" id="show-picture.html"><div class="dsn-mod dsn-picture" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'height':Item.params.height,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">	<div ng-repeat="d in Item.data">		<a href="javascript:void(0);">			<img ng-src="{{d.imgurl}}" ng-show="d.imgurl" ng-style="{'border-radius':Item.params.borderradius+'px'}"/>		</a>	</div></div></script>
	<script type="text/ng-template" id="show-pictures.html"><div class="dsn-mod dsn-pictures" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0'}" style="overflow: hidden;">	<div ng-if="Item.params.style=='2'" class="listitem2">		<div ng-repeat="d in Item.data" class="item" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">			<img ng-src="{{d.imgurl}}"/>		</div>	</div>	<div ng-if="Item.params.style=='3'" class="listitem3">		<div ng-repeat="d in Item.data" class="item" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">			<img ng-src="{{d.imgurl}}"/>		</div>	</div>	<div ng-if="Item.params.style=='4'" class="listitem4">		<div ng-repeat="d in Item.data" class="item" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">			<img ng-src="{{d.imgurl}}"/>		</div>	</div>	<div ng-if="Item.params.style=='5'" class="listitem5">		<div class="left" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">			<img ng-src="{{Item.data[0].imgurl}}"/>		</div>		<div ng-if="Item.data.length > 2" class="right">			<div class="top" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">				<img ng-src="{{Item.data[1].imgurl}}"/>			</div>			<div ng-if="Item.data.length > 3" class="bottom">				<div class="left" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">					<img ng-src="{{Item.data[2].imgurl}}"/>				</div>				<div class="right" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">					<img ng-src="{{Item.data[3].imgurl}}"/>				</div>			</div>			<div ng-if="Item.data.length == 3" class="bottom" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">				<img ng-src="{{Item.data[2].imgurl}}"/>			</div>		</div>		<div ng-if="Item.data.length == 2" class="right" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">			<img ng-src="{{Item.data[1].imgurl}}"/>		</div>	</div>
	<div ng-if="Item.params.style=='6'" class="listitem6">
		<div ng-repeat="d in Item.data" class="item" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px','border-radius':Item.params.imageRadius+'px','width':Item.params.imageWidth * 372 * 0.01+'px','height':Item.params.imageHeight+'px',
		'margin-right':Item.params.imageRight* 372 * 0.01 +'px'}">
			<img ng-src="{{d.imgurl}}" />
		</div>
	</div></div></script>
	<script type="text/ng-template" id="show-title.html"><div class="dsn-mod dsn-title" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'text-align':Item.params.align,'color':Item.params.color,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div class="dsn-title-s1">
		<div class="dsn-title-s1-line" ng-style="{'border-color':Item.params.linecolor}"></div>
		<div class="dsn-title-s1-text">
			<div class="dsn-title-s1-text1" ng-style="{'font-size':Item.params.fontsize+'px','color':Item.params.color}">
				<img ng-src="{{Item.params.imgurl}}" ng-show="Item.params.showicon==1" style="width:{{Item.params.iconsize}}px"/>
				<span class="dsn-title-s1-title1" ng-show="Item.params.title!=''">{{Item.params.title}}</span>
			</div>
		</div>
		<div class="dsn-title-s1-line" ng-style="{'border-color':Item.params.linecolor}"></div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-dhlist.html"><div class="dsn-mod dsn-dhlist" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'color':Item.params.color,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0'}">
	<div style="line-height: 40px; text-align: center; color: #999; font-size: 16px;" ng-show="Item.data == ''">一个导航都没有...</div>
	<div class="dsn-dhlist-item" ng-repeat="d in Item.data" ng-style="{'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
		<div class="dsn-dhlist-text1" ng-style="{'font-size':Item.params.fontsize1+'px','color':Item.params.color1}">
			<img ng-src="{{d.imgurl}}" ng-show="d.showicon==1" style="width:{{d.iconsize}}px"/>
			<span class="dsn-dhlist-title1" ng-show="d.title1!=''" ng-style="{'margin-left':Item.params.titlemarginleft+'px'}">{{d.title1}}</span>
		</div>
		<div class="dsn-dhlist-text2" ng-style="{'font-size':Item.params.fontsize2+'px','color':Item.params.color2}">{{d.title2}}</div>
		<img src="/static/img/arrowright.png" style="width:16px;height:16px" ng-show="Item.params.arrowshow==1"/>
	</div>
</div></script>
	<script type="text/ng-template" id="show-text.html"><div class="dsn-mod dsn-text" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'text-align':Item.params.align,'color':Item.params.color,'background':Item.params.bgpic ? 'url('+Item.params.bgpic+')' : Item.params.bgcolor,'background-size':'100%','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="white-space:pre-wrap;" ng-style="{'font-size':Item.params.fontsize+'px','line-height':Item.params.lineheight+'px','letter-spacing':Item.params.letter_spacing+'px','font-weight':(Item.params.fontbold?'bold':'normal')}">{{Item.params.content}}</div>
</div></script>
	<script type="text/ng-template" id="show-search.html"><div class="dsn-mod dsn-search" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div ng-show="!Item.params.openmore || Item.params.openmore<=0" class="dp-search-search"
		ng-style="{'border-color':Item.params.bordercolor,'border-radius':Item.params.borderradius+'px'}" >
		<div class="dp-search-search-f1"></div>
		<div class="dp-search-search-f2">
			<input class="dp-search-search-input" name="keyword" placeholder="{{Item.params.placeholder}}" ng-style="{color:Item.params.color}" />
		</div>
        
        
	</div>
    
</div></script>
	<script type="text/ng-template" id="show-lbssearch.html"><?php if(getcustom('lbs_search')): ?>
<div class="dsn-mod dsn-search" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="display: flex;">
        <div  style="width: 80px;overflow: hidden;height: 36px;line-height: 36px;flex-shrink: 0">
            <select class="layui-input"  style="font-size: 13px;border: 0;height: 36px;line-height: 36px">
                <option>北京</option>
            </select>
        </div>
        <div class="dp-search-search"
            ng-style="{'border-color':Item.params.bordercolor,'border-radius':Item.params.borderradius+'px','width':'100%'}">
            <div class="dp-search-search-f1"></div>
            <div class="dp-search-search-f2">
                <input class="dp-search-search-input" name="keyword" placeholder="{{Item.data?Item.data[0]['title2']:Item.params.placeholder}}" ng-style="{color:Item.params.color}" />
            </div>
        </div>
        <div ng-show="Item.params.btn==1">
            <div style="width: 50px;text-align: center;float: right;line-height:36px;background: #f0f0f0;">
                搜索
            </div>
        </div>
    </div>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="show-line.html"><div class="dsn-mod dsn-line" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">    <div class="dsn-line-line" ng-style="{'border-top-width':Item.params.height+'px','border-top-style':Item.params.style,'border-top-color':Item.params.color,'margin-left':Item.params.margin1+'px','margin-right':Item.params.margin1+'px','margin-top':Item.params.margin2+'px','margin-bottom':Item.params.margin2+'px'}"></div></div></script>
	<script type="text/ng-template" id="show-blank.html"><div class="dsn-mod dsn-blank" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'height':Item.params.height+'px','background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px'}"></div></script>
	<script type="text/ng-template" id="show-product.html"><div class="dsn-mod dp-product" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-product-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3' || Item.params.style=='waterfall'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 || Item.params.style=='waterfall'  ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}" ng-style="{'background-color':Item.params.probgcolor}">
			<div class="product-pic" ng-style="{'background-color':Item.params.probgcolor}">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info" ng-style="{'background-color':Item.params.probgcolor}" ng-if="Item.params.showname != '0' || Item.params.showprice != '0' || Item.params.showsales!='0'">
				<div class="p1" ng-if="Item.params.showname == 1" ng-click="gotoProductList(item)">{{item.name}}</div>
				<?php if(getcustom('home_product_show_binfo')): ?>
				<div class="couponitem" ng-if="(Item.params.style!='3' && Item.params.style!='line') && (Item.params.showbname == 1 || Item.params.showbdistance == 1)" style="color: #0a87c0;font-size: 11px">
					<div class="f1" style="justify-content: space-between">
						<div class="t">
							<span ng-if="Item.params.showbname == 1">商城名称</span>
							<span ng-if="!Item.params.showbname">&nbsp;</span>
						</div>
						<div class="t" ng-if="Item.params.showbdistance == 1" >
							8.6km
						</div>
					</div>
				</div>
				<?php endif; if(getcustom('product_field_buy')): ?>
				<div ng-if="Item.params.style=='2'">
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.brand == 1 && item.brand">
						<span style="width: 50px">品牌：</span>
						<span>{{item.brand}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.barcode == 1 && item.barcode">
						<span style="width: 50px">货号：</span>
						<span>{{item.barcode}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.guige == 1 && item.ggname">
						<span style="width: 50px"> 规格：</span>
						<span>{{item.ggname}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.unit == 1 && item.unit">
						<span style="width: 50px"> 单位：</span>
						<span>{{item.unit}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.ggstock == 1">
						<span style="width: 50px"> 库存：</span>
						<span>{{item.ggstock}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.valid_time == 1 && item.valid_time">
						<span style="width: 50px"> 有效期：</span>
						<span>{{item.valid_time}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.remark == 1 && item.remark">
						<span style="width: 50px"> 备注：</span>
						<span>{{item.remark}}</span>
					</div>
				</div>
				<?php endif; if((getcustom('product_cost_show'))): ?>
				<div ng-if="Item.params.showcost == '1'">
					<p style="color: #999;font-size: 12px;padding-left: 3px">成本价：￥10</p>
				</div>
				<?php endif; ?>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p2-1" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0" style="height: 25px;line-height: 22px;">
						<span ng-if="Item.params.style!='1'" class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</span>
						<span ng-if="Item.params.style=='1'" class="t1" style="color:<?php echo t('color1'); ?>">询价</span>
						<?php if((getcustom('shop_other_infor'))): ?>
							<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
							</div>
						<?php endif; ?>
					</div>
				</div>
				<?php if(getcustom('design_product_commission') || getcustom('home_product_show_binfo')): ?>
				<div class="couponitem" ng-if="Item.params.showcommission == 1">
					<div class="f1">
						<div class="t" style="background:rgba(<?php echo t('color2rgb'); ?>,0.1);color:<?php echo t('color2'); ?>">
							<span><?php echo t('佣金'); ?>0.99元</span>
						</div>
					</div>
				</div>
				<?php endif; if((getcustom('shop_other_infor'))): ?>
					<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;">
						<span>{{item.merchant_name}}</span>
					</div>
                	<div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;">
                		<span>{{item.main_business}}</span>
                	</div>
				<?php endif; ?>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<!-- <div ng-if="Item.params.showsales=='1' && item.sales>0" style="height: 22px;"></div> -->
				<?php if(getcustom('product_field_buy')): ?>
				<div ng-if="Item.params.style=='2' && Item.params.nowbuy == 1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>;width:80px;line-height:30px;text-align: center;border-radius: 2px;margin-top: 5px;" >
					立即购买
				</div>
				<?php endif; ?>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='list'">
		<div ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}">
			<div class="item">
				<div class="product-pic" ng-style="{'background-color':Item.params.probgcolor}">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<?php if((getcustom('product_cost_show'))): ?>
					<div ng-if="Item.params.showcost == 1" class="t" style="color: #999;font-size: 12px;padding-left: 3px">
						<span>成本价：￥10</span>
					</div>
					<?php endif; ?>
					<div class="p2" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)" style="height: 25px;line-height: 22px;">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p2" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0">
						<span class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</span>
						<?php if((getcustom('shop_other_infor'))): ?>
							<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
							</div>
						<?php endif; ?>
					</div>
					<?php if((getcustom('home_product_show_binfo'))): ?>
					<div ng-if="Item.params.showcommission == 1" class="t" style="background:rgba(<?php echo t('color2rgb'); ?>,0.1);color:<?php echo t('color2'); ?>">
						<span><?php echo t('佣金'); ?>0.99元</span>
					</div>
					<?php endif; if((getcustom('shop_other_infor'))): ?>
					<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;"><span>{{item.merchant_name}}</span></div>
					<div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;"><span>{{item.main_business}}</span></div>
					<?php endif; ?>
					<div class="p3">
						<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
					</div>
					<div ng-if="Item.params.showsales!='1' || item.sales<=0" style="height: 22px;"></div>
					<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
					<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></span></div>
				</div>
			</div>
			<?php if(getcustom('home_product_show_binfo')): ?>
			<div ng-if="Item.params.showbname == 1 || Item.params.showbdistance == 1" style="display: flex;justify-content: space-between;color: #0a87c0;font-size: 11px">
				<div class="t">
					<span ng-if="Item.params.showbname == 1">商城名称</span>
					<span ng-if="!Item.params.showbname">&nbsp;</span>
				</div>
				<div class="t" ng-if="Item.params.showbdistance == 1" >
					8.6km
				</div>
			</div>
			<?php endif; ?>
		</div>
	</div>
	<div class="dp-product-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}" >
			<div class="product-pic" ng-style="{'background-color':Item.params.probgcolor}">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)" style="height: 25px;line-height: 22px;">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p2-1" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0">
						<span class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</span>
						<?php if((getcustom('shop_other_infor'))): ?>
							<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
							</div>
						<?php endif; ?>
					</div>
				</div>
				<?php if((getcustom('shop_other_infor'))): ?>
				<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;"><span>{{item.merchant_name}}</span></div>
                <div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;"><span>{{item.main_business}}</span></div>
				<?php endif; ?>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div ng-if="Item.params.showsales!='1' || item.sales<=0" style="height: 22px;"></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
				
			</div>
		</div>
	</div>
	<?php if(getcustom('shop_yingxiao_tag')): ?>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='yxlist'">
		<div ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}">
			<div class="item">
				<div class="product-pic" ng-style="{'background-color':Item.params.probgcolor}">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<?php if((getcustom('product_cost_show'))): ?>
					<div ng-if="Item.params.showcost == 1" class="t" style="color: #999;font-size: 12px;padding-left: 3px">
						<span>成本价：￥10</span>
					</div>
					<?php endif; ?>
					<div class="p2 flex-y-center " ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)" style="height: 25px;line-height: 22px;justify-content: space-between">
						<div>
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
						<div>
							<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已返{{item.sales}}人</span></div>
						</div>

					</div>
					<div class="p2" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0">
						<span class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</span>
						<?php if((getcustom('shop_other_infor'))): ?>
						<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
						</div>
						<?php endif; ?>
					</div>
					<?php if((getcustom('home_product_show_binfo'))): ?>
					<div ng-if="Item.params.showcommission == 1" class="t" style="background:rgba(<?php echo t('color2rgb'); ?>,0.1);color:<?php echo t('color2'); ?>">
						<span><?php echo t('佣金'); ?>0.99元</span>
					</div>
					<?php endif; if((getcustom('shop_other_infor'))): ?>
					<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;"><span>{{item.merchant_name}}</span></div>
					<div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;"><span>{{item.main_business}}</span></div>
					<?php endif; ?>

					<div class="p3 flex-y-center">
						<div class="left" style=";">参与活动，免费拿产品</div>
						
						<div class="right" ">
							<div class="yuandian" ></div>
							立即参与
						</div>
					</div>
					
				</div>
			</div>
			<?php if(getcustom('home_product_show_binfo')): ?>
			<div ng-if="Item.params.showbname == 1 || Item.params.showbdistance == 1" style="display: flex;justify-content: space-between;color: #0a87c0;font-size: 11px">
				<div class="t">
					<span ng-if="Item.params.showbname == 1">商城名称</span>
					<span ng-if="!Item.params.showbname">&nbsp;</span>
				</div>
				<div class="t" ng-if="Item.params.showbdistance == 1" >
					8.6km
				</div>
			</div>
			<?php endif; ?>
		</div>
	</div>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-classify2.html"><div class="dsn-mod dp-product" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-product-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3' || Item.params.style=='waterfall'">
		<div class="item" ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor,'margin-right:'+(Item.params.style==2 ? (Item.params.style==2 && $index%2==0 ? '2%' : '0') : (Item.params.style==3 ? (Item.params.style==3 && $index%3!=2 ? '2%' : '0') : '0'))}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info" ng-if="Item.params.showname == 1 || Item.params.showprice != '0' || Item.params.showsales!='0'">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<?php if(getcustom('home_product_show_binfo')): ?>
				<div class="couponitem" ng-if="(Item.params.style!='3' && Item.params.style!='line') && (Item.params.showbname == 1 || Item.params.showbdistance == 1)" style="color: #0a87c0;font-size: 11px">
					<div class="f1" style="justify-content: space-between">
						<div class="t">
							<span ng-if="Item.params.showbname == 1">商城名称</span>
							<span ng-if="!Item.params.showbname">&nbsp;</span>
						</div>
						<div class="t" ng-if="Item.params.showbdistance == 1" >
							8.6km
						</div>
					</div>
				</div>
				<?php endif; if(getcustom('product_field_buy')): ?>
				<div ng-if="Item.params.style=='2'">
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.brand == 1 && item.brand">
						<span style="width: 50px">品牌：</span>
						<span>{{item.brand}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.barcode == 1 && item.barcode">
						<span style="width: 50px">货号：</span>
						<span>{{item.barcode}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.guige == 1 && item.ggname">
						<span style="width: 50px"> 规格：</span>
						<span>{{item.ggname}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.unit == 1 && item.unit">
						<span style="width: 50px"> 单位：</span>
						<span>{{item.unit}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.ggstock == 1">
						<span style="width: 50px"> 库存：</span>
						<span>{{item.ggstock}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.valid_time == 1 && item.valid_time">
						<span style="width: 50px"> 有效期：</span>
						<span>{{item.valid_time}}</span>
					</div>
					<div  style="line-height: 20px;border-bottom: 0;word-break: break-all;padding: 2px 0;" ng-if="Item.params.remark == 1 && item.remark">
						<span style="width: 50px"> 备注：</span>
						<span>{{item.remark}}</span>
					</div>
				</div>
				<?php endif; if((getcustom('product_cost_show'))): ?>
				<div ng-if="Item.params.showcost == '1'">
					<p style="color: #999;font-size: 12px;padding-left: 3px">成本价：￥10</p>
				</div>
				<?php endif; ?>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p2-1" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0" style="height: 25px;line-height: 22px;">
						<span ng-if="Item.params.style!='1'" class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</span>
						<span ng-if="Item.params.style=='1'" class="t1" style="color:<?php echo t('color1'); ?>">询价</span>
						<?php if((getcustom('shop_other_infor'))): ?>
							<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
							</div>
						<?php endif; ?>
					</div>
				</div>
				<?php if(getcustom('design_product_commission') || getcustom('home_product_show_binfo')): ?>
				<div class="couponitem" ng-if="Item.params.showcommission == 1">
					<div class="f1">
						<div class="t" style="background:rgba(<?php echo t('color2rgb'); ?>,0.1);color:<?php echo t('color2'); ?>">
							<span><?php echo t('佣金'); ?>0.99元</span>
						</div>
					</div>
				</div>
				<?php endif; if((getcustom('shop_other_infor'))): ?>
					<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;">
						<span>{{item.merchant_name}}</span>
					</div>
					<div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;">
						<span>{{item.main_business}}</span>
					</div>
				<?php endif; ?>
				<div class="p3" ng-if="Item.params.showsales=='1'">已售{{item.sales}}件</div>
				<!-- <div ng-if="Item.params.showsales=='1' && item.sales>0" style="height: 22px;"></div> -->
				<?php if(getcustom('product_field_buy')): ?>
				<div ng-if="Item.params.style=='2' && Item.params.nowbuy == 1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>;width:80px;line-height:30px;text-align: center;border-radius: 2px;margin-top: 5px;" >
					立即购买
				</div>
				<?php endif; ?>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='list'">
		<div ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}">
			<div class="item">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''" mode="widthFix"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<?php if((getcustom('product_cost_show'))): ?>
					<div ng-if="Item.params.showcost == '1'" class="t" style="color: #999;font-size: 12px;padding-left: 3px">
						<span>成本价：￥10</span>
					</div>
					<?php endif; ?>
					<div class="p2" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)">
						<text class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</text>
						<text class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</text>
						<text class="t3" ng-if="item.juli" style="color:#888;">{{item.juli}}</text> 
					</div>
					<div class="p2" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0">
						<text class="t1" style="color:<?php echo t('color1'); ?>;font-size: 14px">询价</text>
						<?php if((getcustom('shop_other_infor'))): ?>
							<div ng-if="item.price_type == 1" style="background:<?php echo t('color1'); ?>;color: #fff;border-radius: 25px 25px;line-height: 25px;text-align: center;font-size: 10px;padding: 0 5px;display: inline-block;float: right;" >
							{{item.xunjia_text?item.xunjia_text:'联系TA'}}
							</div>
						<?php endif; ?>
					</div>
					<?php if((getcustom('home_product_show_binfo'))): ?>
					<div ng-if="Item.params.showcommission == 1" class="t" style="background:rgba(<?php echo t('color2rgb'); ?>,0.1);color:<?php echo t('color2'); ?>">
						<span><?php echo t('佣金'); ?>0.99元</span>
					</div>
					<?php endif; if((getcustom('shop_other_infor'))): ?>
					<div class="p1" ng-if="item.merchant_name" style="color: #666;font-size: 12px;white-space: nowrap;text-overflow: ellipsis;margin-top: 3px;height: 15px;font-weight: normal;"><span>{{item.merchant_name}}</span></div>
					<div class="p1" ng-if="item.main_business" style="color: #666;font-size: 12px;margin-top: 2px;font-weight: normal;"><span>{{item.main_business}}</span></div>
				<?php endif; ?>
					<div class="p3">
						<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
					</div>
					<div ng-if="Item.params.showsales !='1'" style="height: 22px;"></div>
					<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
					<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></text></div>
				</div>
			</div>
			<?php if(getcustom('home_product_show_binfo')): ?>
			<div ng-if="Item.params.showbname == 1 || Item.params.showbdistance == 1" style="display: flex;justify-content: space-between;color: #0a87c0;font-size: 11px">
				<div class="t">
					<span ng-if="Item.params.showbname == 1">商城名称</span>
					<span ng-if="!Item.params.showbname">&nbsp;</span>
				</div>
				<div class="t" ng-if="Item.params.showbdistance == 1" >
					8.6km
				</div>
			</div>
			<?php endif; ?>
		</div>
	</div>
	<div class="dp-product-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}" >
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p2-1" ng-if="item.xunjia_text && item.price_type == 1 && item.sell_price <= 0" style="height: 50rpx;line-height: 44rpx;">
						<text ng-if="Item.params.style!='1'" class="t1" style="color:{:t('color1');font-size: 14px">询价</text>
						<text ng-if="Item.params.style=='1'" class="t1" style="color:<?php echo t('color1'); ?>">询价</text>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div ng-if="Item.params.showsales !='1'" style="height: 22px;"></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1 && !item.price_type"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2 && !item.price_type"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
	<?php if(getcustom('shop_yingxiao_tag')): ?>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='yxlist'">
		<div ng-repeat="item in Item.data" ng-style="{'background-color':Item.params.probgcolor}">
			<div class="item">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''" mode="widthFix"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2" ng-if="Item.params.showprice != '0' && ( item.price_type != 1 || item.sell_price > 0)">
						<text class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</text>
						<text class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</text>
						<text class="t3" ng-if="item.juli" style="color:#888;">{{item.juli}}</text> 
					</div>
					<div class="p3">
						<div class="left">限量低价，先到先得</div>
						<div class="right">
							<div class="yuandian"></div>
							立即抢购
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-cycle.html"><div class="dsn-mod dp-collage" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-collage-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">{{item.pspl}}</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-collage-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
					<span class="t2" v-if="showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">{{item.pspl}}</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-collage-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>
</script>
	<script type="text/ng-template" id="show-collage.html"><div class="dsn-mod dp-collage" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div ng-show="Item.params.shopstyle=='1' || !Item.params.shopstyle" style="width: 100%;">
		<div class="dp-collage-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
			<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2">
						<div class="p2-1" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
					</div>
					<div class="p3">
						<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">{{item.teamnum}}人团</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已拼成{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemlist" ng-show="Item.params.style=='list'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p3">
						<div class="p3-1">{{item.teamnum}}人团</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已拼成{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemline" ng-show="Item.params.style=='line'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2">
						<div class="p2-1" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
					</div>
					<div class="p3">
						<div class="p3-1">{{item.teamnum}}人团</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已拼成{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div></script>
	<script type="text/ng-template" id="show-kanjia.html"><div class="dsn-mod dp-collage" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-collage-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.min_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1'">￥{{item.sell_price}}</span>
					</div>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">砍价</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已砍走{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-collage-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.min_price}}</span>
					<span class="t2" ng-if="Item.params.showprice == '1'">￥{{item.sell_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">砍价</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已砍走{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-collage-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.min_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1'">￥{{item.sell_price}}</span>
					</div>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">砍价</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已砍走{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-seckill.html"><div class="dsn-mod dp-collage" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<?php if(getcustom('design_seckill')): ?>
	<div ng-show="Item.params.shopstyle=='2'" style="width: 100%;">
		<div ng-show="Item.params.showtitle=='1'" style="width: 100%;">
			<div ng-show="Item.params.titlestyle=='1'" class="dp-time">
				<img src="<?php echo PRE_URL; ?>/static/imgsrc/decoration_crush.png" alt="" class="dp-time-back"/>
				<div class="dp-time-content">
					<div class="dp-time-title">限时秒杀</div>
					<div class="dp-time-text">
						距离结束<div class="dp-time-time">09</div>:<div class="dp-time-time">09</div>:<div class="dp-time-time">09</div>
					</div>
				</div>
			</div>
			<div ng-show="Item.params.titlestyle=='2'" class="dp-bTime">
				<img src="<?php echo PRE_URL; ?>/static/imgsrc/decoration_crush.png" alt="" class="dp-bTime-back"/>
				<div class="dp-bTime-content">
					<div class="dp-bTime-title">限时秒杀</div>
					<div class="dp-bTime-text">
						距离结束<div class="dp-bTime-time">09</div>:<div class="dp-bTime-time">09</div>:<div class="dp-bTime-time">09</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<?php endif; ?>
	
	<div ng-show="Item.params.shopstyle=='1' || !Item.params.shopstyle" style="width: 100%;">
		<div class="dp-collage-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
			<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2">
						<div class="p2-1" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
					</div>
					<div class="p4" ng-if="Item.params.showtime == 1 && Item.params.style!='3'">
						<div ng-if="item.seckill_status == 2">活动已结束</div>
						<div ng-if="item.seckill_status == 1" class="flex-row"><div class="h24">还剩余</div><div class="flex1"></div><div><span>{{item.hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div></div>
						<div ng-if="item.seckill_status == 0" class="flex-row"><div class="h24">距开抢</div><div class="flex1"></div><div><span>{{item.hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div></div>
					</div>
					<div class="p3">
						<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">秒杀</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已抢{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemlist" ng-show="Item.params.style=='list'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
					<div class="p4" ng-if="Item.params.showtime == 1">
						<div ng-if="item.seckill_status == 2">活动已结束</div>
						<div ng-if="item.seckill_status == 1" class="flex-row"><div class="h24">距活动结束</div><div class="flex1"></div>
							<div ng-if="item.day > 0"><span>{{item.day}}</span>天<span>{{item.day_hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div>
							<div ng-else><span>{{item.hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div>
						</div>
						<div ng-if="item.seckill_status == 0" class="flex-row"><div class="h24">距活动开始</div><div class="flex1"></div>
							<div ng-if="item.day > 0"><span>{{item.day}}</span>天<span>{{item.day_hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div>
							<div ng-else><span>{{item.hour}}</span>:<span>{{item.minute}}</span>:<span>{{item.second}}</span></div>
						</div>
					</div>
					<div class="p3">
						<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">秒杀</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已抢{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemline" ng-show="Item.params.style=='line'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="p2">
						<div class="p2-1" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
					</div>
					<div class="p3">
						<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">秒杀</div>
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已抢{{item.sales}}件</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- 
		shopstyle商品风格 风格一(1) 风格二(2)
		showtitle标题倒计时 显示(1) 不显示(2)
		titlestyle标题风格 风格一(1) 风格二(2)
	-->
	<?php if(getcustom('design_seckill')): ?>
	<div ng-show="Item.params.shopstyle=='2'" style="width: 100%;">
		<div class="dp-collage-item" ng-show="Item.params.style=='2'">
			<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="rate" ng-if="Item.params.style=='2'">
						<img src="<?php echo PRE_URL; ?>/static/imgsrc/decoration_rate.png"/>
						<span class="text">仅剩1件</span>
					</div>
					<div class="p5">原价:<span class="text">￥{{item.market_price}}</span></div>
					<div class="price" style="color:<?php echo t('color1'); ?>">
						<span class="price_text">￥{{item.sell_price}}</span>
						<div class="price_add" style="background:<?php echo t('color1'); ?>">+</div>
					</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemlist" ng-show="Item.params.style=='list'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic product-pic1">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>
				<div class="product-info">
					<div class="p5" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<!-- <div class="p6">平价实用</div> -->
					<div class="rate"><img width="100" src="<?php echo PRE_URL; ?>/static/imgsrc/decoration_rate.png"/><span>仅剩1件</span></div>
					<div ng-if="Item.params.showprice != '0'">
						<div class="p7">原价:<span>{{item.market_price}}</span></div>
						<div ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1" style="color:<?php echo t('color1'); ?>" class="p8">￥{{item.sell_price}}</div>
					</div>
					<div style="background:<?php echo t('color1'); ?>" class="btn">马上抢</div>
				</div>
			</div>
		</div>
		<div class="dp-collage-itemline1" ng-show="Item.params.style=='line'">
			<div class="item" ng-repeat="item in Item.data">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}"/>
					<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
					<div class="tag" style="background:<?php echo t('color1'); ?>">秒杀</div>
				</div>
				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>" class="surplus">剩余1件</div>
					<div class="price" style="color:<?php echo t('color1'); ?>">
						<span class="price_text">￥{{item.sell_price}}</span>
						<div class="price_add" style="background:<?php echo t('color1'); ?>">+</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-scoreshop.html"><div class="dsn-mod dp-socreshop" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-socreshop-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.score_price}}<?php echo t('积分'); ?><text ng-if="item.money_price>0 && Item.params.showprice == '1'">+{{item.money_price}}元</text></span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已兑换{{item.sales}}件</div>
			</div>
		</div>
	</div>
	<div class="dp-socreshop-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.score_price}}<?php echo t('积分'); ?><text ng-if="item.money_price>0 && Item.params.showprice == '1'">+{{item.money_price}}元</text></span>
					<span class="t2" ng-if="showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已兑换{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-socreshop-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.score_price}}<?php echo t('积分'); ?><text ng-if="item.money_price>0 && Item.params.showprice == '1'">+{{item.money_price}}元</text></span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已兑换{{item.sales}}件</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-coupon.html"><div class="dsn-mod dsn-coupon" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">	<div style="line-height:60px; text-align: center; color: #999; font-size: 16px;" ng-show="Item.data == ''">暂无<?php echo t('优惠券'); ?>...</div>	<div class="couponlist">		<div class="coupon" ng-repeat="item in Item.data" style="background:url('{{Item.params.bgpic}}');background-size:100%">			<div class="f1" ng-show="item.type==1" style="color:{{Item.params.titlecolor}}"><span style="font-size:10px">￥</span>{{item.money}}<span style="font-size:12px"> <?php echo t('优惠券'); ?></span></div>			<div class="f1" ng-show="item.type!=1" style="color:{{Item.params.titlecolor}}"><span style="font-size:14px">{{item.name}}</span></div>			<div class="f2" style="color:{{Item.params.remarkcolor}}" ng-show="item.type==1 && item.minprice!=0">满{{item.minprice}}元可用</div>			<div class="f2" style="color:{{Item.params.remarkcolor}}" ng-show="item.type==1 && item.minprice==0">无门槛</div>			<div class="f2" style="color:{{Item.params.remarkcolor}}" ng-show="item.type==2">礼品券</div>			<div class="f2" style="color:{{Item.params.remarkcolor}}" ng-show="item.type==3">计次券</div>			<div class="f2" style="color:{{Item.params.remarkcolor}}" ng-show="item.type==4">运费抵扣券</div>		</div>	</div></div></script>
	<script type="text/ng-template" id="show-richtext.html"><div class="dsn-mod dsn-richtext" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div string-html="Item.content"></div>
	<div ng-show="!Item.content">
		<p><span style="font-size: 20px;">这里是『富文本』区域</span></p>
		<p>你可以对文字进行<strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline;">下划线</span>、<span style="text-decoration: line-through;">删除线</span>、文字<span style="color: rgb(0, 176, 240);">颜色</span>、<span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255);">背景色</span>、以及字号<span style="font-size: 20px;">大</span><span style="font-size: 14px;">小</span>等简单排版操作。
		</p>
		<p>也可在这里插入图片</p>
		<p></p>
		<p></p>
		<p></p>
	</div>
</div></script>
	<script type="text/ng-template" id="show-cube.html"><!-- <div class="dsn-mod dsn-cube" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor}">
    <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-if="!hasCube(Item)">未设置魔方</div>
    <div class="inner">
        <table>
            <tr ng-repeat="row in Item.params.layout" ng-init="rowindex = $index">
                <td ng-init="colindex = $index" ng-repeat="col in row" class="{{col.classname}} rows-{{col.rows}} cols-{{col.cols}}" 
                    ng-class="{'empty' : col.isempty, 'not-empty' : !col.isempty}" 
                    rowspan="{{col.rows}}" 
                    colspan="{{col.cols}}">
                    <div ng-if="!col.isempty && col.imgurl"><a href="{{col.hrefurl}}"><img ng-src="{{col.imgurl}}" style="width: 100%;height: auto;" /></a></div>
                </td>
            </tr> 
        </table>
    </div>
</div>
 -->

<div class="dsn-mod dsn-cube" ng-class="{'dsn-mod-select':Item.id == focus}" style="display:block;position:relative;background:{{Item.params.bgcolor}};height:{{Item.params.maxheight*85 - Item.params.margin_y*2}}px;margin:{{Item.params.margin_y}}px {{Item.params.margin_x}}px 0;padding:{{Item.params.padding_y}}px {{Item.params.padding_x}}px">
  <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-if="!hasCube(Item)">未设置魔方</div>
	<div ng-if="!show">
		<span ng-repeat="(idx,row) in Item.params.layout">
			<span ng-repeat="(idx2,col) in row">
				<div ng-show="!col.isempty" style="position:absolute;top:{{idx*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4-3+Item.params.padding_y*1}}px;left:{{idx2*(372-Item.params.margin_x*2-Item.params.padding_x*2)/4-2+Item.params.padding_x*1}}px;width:{{col.cols*(372-Item.params.margin_x*2-Item.params.padding_x*2)/4}}px;height:{{col.rows*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4}}px;line-height:{{col.rows*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4}}px;"><img ng-src="{{col.imgurl}}" style="width:100%;max-height:100%;"/></div>
			</span>
		</span>
	</div>
	<div ng-if="show">
		<span ng-repeat="(idx,row) in Item.params.layout">
			<span ng-repeat="(idx2,col) in row">
				<div ng-show="!col.isempty" style="position:absolute;top:{{idx*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4+Item.params.padding_y*1}}px;left:{{idx2*(372-Item.params.margin_x*2-Item.params.padding_x*2)/4+Item.params.padding_x*1}}px;width:{{col.cols*(372-Item.params.margin_x*2-Item.params.padding_x*2)/4}}px;height:{{col.rows*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4}}px;line-height:{{col.rows*(340-Item.params.margin_y*2-Item.params.padding_y*2)/4}}px;"><img ng-src="{{col.imgurl}}" style="width:100%;max-height:100%;"/></div>
			</span>
		</span>
	</div>
</div>
 </script>
	<script type="text/ng-template" id="show-video.html"><div class="dsn-mod dsn-video" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'height':Item.params.height,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">		<a href="{{Item.params.src|| 'javascript:void(0);'}}">				<div style="position:relative;width:100%;height:auto;display:flex;flex-direction:column;align-items:center;justify-content:center" ng-style="{'height':560*(Item.params.videoheight)/100 +'px'}">					<img ng-src="{{Item.params.pic}}" style="min-height:168px;background:#999"/>					<div style="position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7)"><div style=";width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;"><i class="fa fa-play" style="font-size:20px"></i><div style="margin-top:5px;font-size:16px">00:00</div></div></div>				</div>		</a></div></script>
	<script type="text/ng-template" id="show-article.html"><div class="dsn-mod dp-article" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-show="Item.data == ''">一篇文章都没有...</div>
	<!--单排-->
	<div ng-show="Item.params.style=='1'" ng-repeat="item in Item.data" class="article-item1" style="{{Item.params.showline==1?'border-bottom: 1px solid '+Item.params.linecolor:''}};border-radius:{{Item.params.borderradius}}px">
		<div class="article-pic" ng-if="Item.params.showpic==1">
			<img class="image" ng-src="{{item.pic}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
		</div>
		<div class="article-info" >
			<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
			
			<div class="p2">
				<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
				<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
			</div>
		</div>
	</div>
	<!--双排-->
	<div ng-show="Item.params.style=='2' || Item.params.style=='6'" ng-repeat="item in Item.data" class="article-item2" ng-init="index = $index" style="margin-right:{{index%2==0?'2%':'0'}}">
		<div class="article-pic" ng-if="Item.params.style=='6' || Item.params.showpic==1">
			<img class="image" ng-src="{{item.pic}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
		</div>
		<div class="article-info" >
			<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
			
			<div class="p2">
				<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
				<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
			</div>
		</div>
	</div>
	<!--左图-->
	<div ng-show="Item.params.style=='4'" ng-repeat="item in Item.data" class="article-itemlist" style="{{Item.params.showline==1?'border-bottom: 1px solid '+Item.params.linecolor:''}};border-radius:{{Item.params.borderradius}}px">
		<div class="article-pic" ng-if="Item.params.showpic==1">
			<img class="image" ng-src="{{item.pic}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
		</div>
		<div class="article-info" >
			<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
			
			<div class="p2">
				<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
				<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
			</div>
		</div>
	</div>
	<!--右图-->
	<div ng-show="Item.params.style=='5'" ng-repeat="item in Item.data" class="article-itemlist" style="{{Item.params.showline==1?'border-bottom: 1px solid '+Item.params.linecolor:''}};border-radius:{{Item.params.borderradius}}px">
		<div class="article-info" style="padding-left:5px;">
			<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
			
			<div class="p2">
				<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
				<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
			</div>
		</div>
		<div class="article-pic" ng-if="Item.params.showpic==1">
			<img class="image" ng-src="{{item.pic}}"/>
		</div>
	</div>
	<!--三排-->
	<div ng-show="Item.params.style=='7'" ng-repeat="item in Item.data" class="article-item2" ng-init="index = $index" style="margin-right:{{(index+1)%3==0?'0':'2%'}};width: 32%;">
		<div class="article-info">
    		<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
    	</div>
    	
		<div class="article-pic" ng-if="Item.params.showpic==1">
			<img class="image" ng-src="{{item.pic}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
		</div>
		<div class="article-info">
			<div class="p2">
				<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
				<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
			</div>
		</div>
	</div>
	
	<!--左右滑动-->
	<div style="width: 100%;overflow-x: scroll;white-space: nowrap;">
		<div ng-show="Item.params.style=='9'" ng-repeat="item in Item.data" class="article-item2" ng-init="index = $index" style="display: inline-block;margin-right: 10px;">
			<div class="article-info">
				<div class="p1" style="{{Item.params.title_size>0?'font-size: '+Item.params.title_size+'px':''}}">{{item.name}}</div>
			</div>
			
			<div class="article-pic" ng-if="Item.params.showpic==1">
				<img class="image" ng-src="{{item.pic}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
			</div>
			<div class="article-info">
				<div class="p2">
					<span style="overflow:hidden" class="flex1" ng-if="Item.params.showtime==1">{{item.createtime}}</span>
					<span style="overflow:hidden" ng-if="Item.params.showreadcount==1">阅读 {{item.readcount}}</span>
				</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-form.html"><div class="dsn-mod dsn-form" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'color':Item.params.color,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','margin-top':Item.params.margin_top*1+Item.params.margin_y*1+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px','font-size':Item.params.fontsize+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-if="Item.data == ''">没有表单信息...</div>
	
	<div class="{{Item.params.style==1?'item':'item2'}}" ng-repeat="(idx,item) in Item.data.content" style="border-color:{{Item.params.linecolor}}" ng-if="Item.params.isquery!=1 || item.query == 1">
    <span class='label' style="height: auto">{{item.val1}}<span ng-if="item.val3==1 && Item.params.showmuststar && Item.params.isquery!=1" style="color:red"> *</span></span>
		<input ng-if="item.key=='input'" type="text" name="form{{idx}}" class="input" placeholder="{{item.val2}}" style="background-color:{{Item.params.inputbgcolor}};border-color:{{Item.params.inputbordercolor}}"/>
		<textarea ng-if="item.key=='textarea'" name="form{{idx}}" class='textarea' placeholder="{{item.val2}}" style="background-color:{{Item.params.inputbgcolor}};border-color:{{Item.params.inputbordercolor}}"></textarea>
		<div class="radio1" ng-if="item.key=='radio'" style="flex-wrap:wrap;height: auto;">
			<div ng-repeat="item1 in item.val2" class="radio2">
				<div class="myradio"></div>{{item1}}<span style="padding-left:10px"></span>
			</div>
		</div>
		<div class="checkbox1" ng-if="item.key=='checkbox'" style="flex-wrap:wrap">
			<div ng-repeat="item1 in item.val2" class='checkbox2'>
				<div class="mycheckbox"></div>{{item1}}<span style="padding-left:10px"></span>
			</div>
		</div>
		<div ng-if="item.key=='switch'" class="layui-unselect layui-form-switch" lay-skin="_switch"><em></em><i></i></div>
	
		<picker ng-if="item.key=='selector'" mode="selector" name="form{{idx}}" value="" class='xyy-pic' range="{{item.val2}}" bindchange="bindPickerChange" data-idx="{{idx}}">
			<div class="picker" ng-if="item.val2[formdata[idx]]">当前选择: {{item.val2[formdata[idx]]}}</div>
			<div wx:else>请选择</div>
		</picker>
		<picker ng-if="item.key=='time'" mode="time" name="form{{idx}}" value="" start="{{item.val2[0]}}" end="{{item.val2[1]}}" class="xyy-pic" range="{{item.val2}}" bindchange="bindPickerChange" data-idx="{{idx}}">
			<div class="picker" ng-if="formdata[idx]">当前选择: {{formdata[idx]}}</div>
			<div wx:else>请选择</div>
		</picker>
		<picker ng-if="item.key=='date'" mode="date" name="form{{idx}}" value="" start="{{item.val2[0]}}" end="{{item.val2[1]}}" class="xyy-pic" range="{{item.val2}}" bindchange="bindPickerChange" data-idx="{{idx}}">
			<div class="picker" ng-if="formdata[idx]">当前选择: {{formdata[idx]}}</div>
			<div wx:else>请选择</div>
		</picker>
		<picker ng-if="item.key=='region'" mode="region" name="form{{idx}}" value="" class="xyy-pic" bindchange="bindPickerChange" data-idx="{{idx}}">
			<div class="picker" ng-if="formdata[idx]">当前选择: {{formdata[idx]}}</div>
			<div wx:else>请选择省市区</div>
		</picker>
		<div ng-if="item.key=='upload'" style="margin-left:10px">
			<img src="/static/imgsrc/upload.png" style="width:60px;height:60px"/>
		</div>
		<div ng-if="item.key=='upload_file'" style="margin-left:10px">
			<img src="/static/imgsrc/upload.png" style="width:60px;height:60px"/>
		</div>
		<div ng-if="item.key=='upload_video'" style="margin-left:10px">
			<img src="/static/imgsrc/upload.png" style="width:60px;height:60px"/>
		</div>
	</div>
	<div class="item" ng-if="Item.data.payset==1 && Item.params.isquery!=1" style="border: none;padding-left: 16px;">
		<span class='label' style="font-weight: bold;width:100px ;">支付金额：</span>
		<input type="text" class="input" name="money" value='{{Item.data.price}}' ng-if="Item.data.priceedit==1" style="font-weight: bold;"/>
		<span class="" ng-if="Item.data.priceedit==0" style="font-weight: bold;">{{Item.data.price}}</span>
		<span style="font-weight: bold;" >元</span>
	</div>
	<div ng-if="Item.data != ''" class="form-btn" style="background-color:{{Item.params.btnbgcolor}};border:1px solid {{Item.params.btnbordercolor}};font-size:{{Item.params.btnfontsize}}px;color:{{Item.params.btncolor}};width:{{Item.params.btnwidth}}px;height:{{Item.params.btnheight}}px;line-height:{{Item.params.btnheight}}px;border-radius:{{Item.params.btnradius}}px">{{Item.params.btntext}}</div>
</div></script>
	<script type="text/ng-template" id="show-map.html"><div class="dsn-mod dsn-map" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">    <div id="showmp_{{Item.id}}" style="width:100%;height:{{Item.params.height}}px"></div></div></script>
	<script type="text/ng-template" id="show-button.html"><div class="dsn-mod dsn-button" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px','font-size':Item.params.fontsize+'px'}">
	<div class="form-btn" style="background-color:{{Item.params.btnbgcolor}};border:1px solid {{Item.params.btnbordercolor}};font-size:{{Item.params.btnfontsize}}px;color:{{Item.params.btncolor}};width:{{Item.params.btnwidth}}px;height:{{Item.params.btnheight}}px;line-height:{{Item.params.btnheight}}px;border-radius:{{Item.params.btnradius}}px;margin: 0 auto;">{{Item.params.btntext}}</div>
</div></script>
	<script type="text/ng-template" id="show-cover.html"><div ng-if="!show">
	<div class="dsn-mod dsn-cover" ng-click="setfocus(Item.id,$event)" style="cursor:move;color:{{Item.params.color}};background-color:{{Item.params.bgcolor}};width:{{Item.params.width}}px;height:{{Item.params.height}}px;margin:{{Item.params.margin_y}}px {{Item.params.margin_x}}px;padding:{{Item.params.padding_y}}px {{Item.params.padding_x}}px;font-size:{{Item.params.fontsize}}px;border:{{Item.params.border}}px solid {{Item.params.bordercolor}};border-radius:{{Item.params.radius}}px;">
		<span ng-show="Item.params.style==1" style="padding:0 2px">{{Item.params.text}}</span>
		<img ng-show="Item.params.style==2" ng-src="{{Item.params.pic}}" style="width:{{Item.params.picwidth}}px;height:{{Item.params.picheight}}px;"/>
	</div>
</div>

<div ng-if="show">
	<div class="dsn-mod dsn-cover" style="position:fixed;z-index:99999;top:{{Item.params.top*5.6}}px;left:{{Item.params.left*3.4}}px;color:{{Item.params.color}};background-color:{{Item.params.bgcolor}};width:{{Item.params.width}}px;height:{{Item.params.height}}px;margin:{{Item.params.margin_y}}px {{Item.params.margin_x}}px;padding:{{Item.params.padding_y}}px {{Item.params.padding_x}}px;font-size:{{Item.params.fontsize}}px;border:{{Item.params.border}}px solid {{Item.params.bordercolor}};border-radius:{{Item.params.radius}}px;">
		<span ng-show="Item.params.style==1" style="padding:0 2px">{{Item.params.text}}</span>
		<img ng-show="Item.params.style==2" ng-src="{{Item.params.pic}}" style="width:{{Item.params.picwidth}}px;height:{{Item.params.picheight}}px;"/>
	</div>
</div></script>
	<script type="text/ng-template" id="show-business.html"><div class="dsn-mod dsn-business" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商家都没有...</div>

	<div ng-show="Item.params.showstyle==1 || !Item.params.showstyle" style="background: linear-gradient(180deg, <?php echo t('color1'); ?> 0%, rgba(<?php echo t('color1rgb'); ?>,0) 100%);">
		<div class="buslist">
			<div ng-repeat="item in Item.data" ng-init="idx = $index" class="busbox">
				<div class="businfo">
					<div class="f1"><img ng-src="{{item.logo}}"/></div>
					<div class="f2">
						<div class="title">{{item.name}}</div>
						<div class="score" ng-show="Item.params.showpingfen == 1"><img ng-src="/static/img/star{{item.commentscore}}.png"/>{{item.comment_score}}分</div>
						
						
						<div class="sales" ng-show="Item.params.showsales == 1"><span>销量：</span>{{item.sales}}</div>
						<div class="address" ng-show="Item.params.showjianjie == 1">{{item.content}}</div>
						<div class="address flex"><div class="flex1"><span ng-show="Item.params.showaddress == 1">{{item.address}}</span></div><div ng-show="Item.params.showdistance == 1" style="color:<?php echo t('color1'); ?>">200m</div></div>
						
						
						
					</div>
				</div>
				<div class="buspro" ng-show="Item.params.showproduct == 1">
					<div class="item" ng-repeat="item2 in item.prolist" ng-init="index = $index" style="{{'width:23%;margin-right:'+(index%4!=3?'2%':0)}}">
						<div class="product-pic">
							<img class="image" ng-src="{{item2.pic}}"/>
						</div>
						<div class="product-info">
							<div class="p1">{{item2.name}}</div>
							<div class="p2">
								<div class="p2-1">
									<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item2.sell_price}}</span>
									<!-- <span class="t2" ng-if="item2.market_price*1 > item2.sell_price*1">￥{{item2.market_price}}</span> -->
								</div>
							</div>
							<!-- <div class="p3" ng-if="item.sales>0">已售{{item2.sales}}件</div> -->
							<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>"><span class="iconfont icon_gouwuche"></span></div>
						</div>
					</div>
				</div>
				
			</div>
		</div>
	</div>
	</script>
	<script type="text/ng-template" id="show-shortvideo.html"><div class="dsn-mod dsn-shortvideolist" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个短视频都没有...</div>
	<div class="shortvideolist">
		<div class="dsn-shortvideolist-item" ng-repeat="item in Item.data" ng-init="idx = $index" style="margin-right:{{idx%2==0?'2%':'0'}};">
			<img class="ff" ng-src="{{item.coverimg}}"/>
			<div class="f2">
				<div class="t1" ng-if="Item.params.showlogo==1"><img class="touxiang" ng-src="{{item.logo}}"/></div>
				<div class="t2" ng-if="Item.params.showviewnum==1"><img class="tubiao" src="/static/img/shortvideo_playnum.png"/>{{item.view_num}}</div>
				<div class="t3" ng-if="Item.params.showzannum==1"><img class="tubiao" src="/static/img/shortvideo_likenum.png"/>{{item.zan_num}}</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-liveroom.html"><div class="dsn-mod dsn-livelist" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个直播间都没有...</div>
	<div class="livelist">
		<div class="livebox" ng-repeat="item in Item.data" ng-init="idx = $index" style="margin-right:{{idx%2==0?'2%':'0'}};">
			<div class="bgpic">
				<img ng-src="{{item.coverImg}}"/>
			</div>
			<div class="f1" ng-if="item.status=='0'"><div class="t1">预告</div><div class="t2">{{item.showtime}}</div></div>
			<div class="f2" ng-if="item.status=='1'"><img src="/static/img/liveing.gif" class="t1"/><div class="t2">直播中</div></div>
			<div class="f3" ng-if="item.status=='2'"><div class="t1">已结束</div></div>
			<div class="f10">
				 <div class="title">{{item.name}}</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-channelslive.html"><div class="dsn-mod dsn-channelslive" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="background-color: black">
		<div style="width:50%;margin: 0 auto;" ng-style="{'width':Item.params.live_height +'%'}">
			<div style="position: relative; display: inline-block;">
				<div style="overflow: hidden; position: relative;">
					<img ng-src="/static/img/logo.jpg" style="width:100%;height:auto;display: block; filter: blur(10px);object-fit: fill;">
				</div>
				<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.3);">
					<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 14px;">
						⦿ 直播未开始
					</div>
				</div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-hotspot.html"><div class="dsn-mod dsn-hotspot" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'height':Item.params.height,'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0'}">	<div>		<img ng-src="{{Item.params.imgurl}}"/>		<div ng-repeat="d in Item.data" ng-style="{'width':d.width*1.08+'px','height':d.height*1.08+'px','left':d.left*1.08+'px','top':d.top*1.08+'px'}" class="hotarea">{{d.hrefname}}</div>	</div></div></script>
	<script type="text/ng-template" id="show-userinfo.html"><div class="dsn-mod" ng-class="{'dsn-mod-select':Item.id == focus}">
	<div ng-show="Item.params.style==1" style="background: linear-gradient(180deg, <?php echo t('color1'); ?> 0%, rgba(<?php echo t('color1rgb'); ?>,0) 100%);">
		<div class="dp-userinfo" ng-style="{'background':'url('+Item.params.bgimg+') no-repeat', 'background-size':'cover','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px '+ '0px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px '+'0px','overflow':'hidden'}">
			<div class="banner">
				<div class="info">
					<div class="f1">
						<img src="/static/img/touxiang.png" background-size="cover" class="headimg"/>
						<div class="flex-y-center">
							<div class="nickname">昵称</div>
							<div class='user-level' ng-show="Item.params.levelshow==1">
								<img class="level-img" src="/static/imgsrc/level_1.png" />
								<div class='level-name'>普通<?php echo t('会员'); ?></div>
							</div>
						</div>
					</div>
					<div class='usercard' ng-show="Item.params.cardshow==1">
						<img src="/static/img/ico-card.png" class="img"/>
						<span class="t1">会员卡</span>
					</div>
				</div>
				<div class="custom_field" ng-show="Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1 || Item.params.overdraftmoneyshow==1 || Item.params.freezecreditshow==1">
					<div class='item' ng-show="Item.params.moneyshow==1">
						<span class='t2'>0.00</span>
						<span class="t1"><?php echo t('余额'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.commissionshow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('佣金'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.scoreshow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('积分'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.bscoreshow==1">
						<span class='t2'>0</span>
						<span class="t1">总<?php echo t('积分'); ?></span>
					</div>
					
					<div class='item' ng-show="Item.params.couponshow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('优惠券'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.xiaofeishow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('冻结佣金'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.bonuspoolshow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('贡献值'); ?></span>
					</div>
					<div class='item' ng-show="Item.params.overdraftmoneyshow==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('信用额度'); ?></span>
					</div>
					
					
					
					
					
					
					<?php if($canshowsilvermoney): ?>
					<div class='item' ng-show="Item.params.showsilvermoney==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('银值'); ?></span>
					</div>
					<?php endif; if($canshowgoldmoney): ?>
					<div class='item' ng-show="Item.params.showgoldmoney==1">
						<span class='t2'>0</span>
						<span class="t1"><?php echo t('金值'); ?></span>
					</div>
					<?php endif; ?>
					
					
					
				</div>
			</div>
			<div ng-if="Item.params.seticonsize && Item.params.seticonsize>0">
				<div class="userset usersetl" ng-show="Item.params.membercodeshow=='1'" style="right: {{(Item.params.seticonsize) * 2.8}}px">
					<img ng-src="/static/img/qrcode.png" class="img" style="width: {{Item.params.seticonsize}}px;height: {{Item.params.seticonsize}}px;" />
				</div>
			</div>
			<div ng-if="Item.params.seticonsize && Item.params.seticonsize>0">
				<div class="userset" ng-show="Item.params.seticonshow!=='0'" style="right: {{Item.params.seticonsize}}px">
					<img ng-src="{{Item.params.seticon?Item.params.seticon:'/static/img/set.png'}}" class="img" style="width: {{Item.params.seticonsize}}px;height: {{Item.params.seticonsize}}px;"/>
				</div>
			</div>
			<div ng-if="!Item.params.seticonsize">
				<div class="userset" ng-show="Item.params.seticonshow!=='0'">
					<img ng-src="{{Item.params.seticon?Item.params.seticon:'/static/img/set.png'}}" class="img"/>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Item.params.style==2" style="background: linear-gradient(45deg, <?php echo t('color1'); ?> 0%, rgba(<?php echo t('color1rgb'); ?>, 0.8) 100%);">
		<div class="dp-userinfo2" ng-style="{'background':'url('+Item.params.bgimg+') no-repeat', 'background-size':'cover','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px '+'0px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
			<div class="info">
				<img src="/static/img/touxiang.png" background-size="cover" class="headimg"/>
				<div class="nickname">
					<div class="nick">昵称</div>
					<div class='user-level' ng-show="Item.params.levelshow==1">
						<img class="level-img" src="/static/imgsrc/level_1.png" />
						<div class='level-name'>普通<?php echo t('会员'); ?></div>
					</div>
				</div>
			</div>
			<div class='usercard' ng-show="Item.params.cardshow==1">
				<img src="/static/img/ico-card2.png" class="img"/>
				<span class="t1">会员卡</span>
			</div>
			<div class="custom_field" ng-show="Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1 || Item.params.freezecreditshow==1">
				<div class='item' ng-show="Item.params.moneyshow==1">
					<span class='t2'>0.00</span>
					<span class="t1"><?php echo t('余额'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.commissionshow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('佣金'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.scoreshow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('积分'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.bscoreshow==1">
					<span class='t2'>0</span>
					<span class="t1">总<?php echo t('积分'); ?></span>
				</div>
				
				<div class='item' ng-show="Item.params.couponshow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('优惠券'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.xiaofeishow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('冻结佣金'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.bonuspoolshow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('贡献值'); ?></span>
				</div>
				<div class='item' ng-show="Item.params.overdraftmoneyshow==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('信用额度'); ?></span>
				</div>
				
				
				
				
				
				
				<?php if($canshowsilvermoney): ?>
				<div class='item' ng-show="Item.params.showsilvermoney==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('银值'); ?></span>
				</div>
				<?php endif; if($canshowgoldmoney): ?>
				<div class='item' ng-show="Item.params.showgoldmoney==1">
					<span class='t2'>0</span>
					<span class="t1"><?php echo t('金值'); ?></span>
				</div>
				<?php endif; ?>
				
				
				
			</div>
			<div ng-if="Item.params.seticonsize && Item.params.seticonsize>0">
				<div class="userset usersetl" ng-show="Item.params.membercodeshow=='1'" style="right: {{(Item.params.seticonsize) * 2.8}}px">
					<img ng-src="/static/img/qrcode.png" class="img" style="width: {{Item.params.seticonsize}}px;height: {{Item.params.seticonsize}}px;" />
				</div>
			</div>
			<div ng-if="Item.params.seticonsize && Item.params.seticonsize>0">
				<div class="userset" ng-show="Item.params.seticonshow!=='0'" style="right: {{Item.params.seticonsize}}px">
					<img ng-src="{{Item.params.seticon?Item.params.seticon:'/static/img/set.png'}}" class="img" style="width: {{Item.params.seticonsize}}px;height: {{Item.params.seticonsize}}px;" />
				</div>
			</div>
			<div ng-if="!Item.params.seticonsize" >
				<div class="userset" ng-show="Item.params.seticonshow!=='0'">
					<img ng-src="{{Item.params.seticon?Item.params.seticon:'/static/img/set.png'}}" class="img"/>
				</div>
			</div>
		</div>
	</div>
	<!-- ,'margin-top': Item.params.style==2 ? (Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1) ? (Item.params.padding_y ==0 && ) ? '-30px':Item.params.padding_y+'px':'-128px' : Item.params.padding_y ? Item.params.padding_y+'px':'10px'  -->
	<div class="dp-userinfo-order" ng-style="{'margin':(Item.params.padding_y || 10)+'px '+Item.params.padding_x+'px','margin-top':Item.params.style==2 ? (((Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1) ? -75 : -110 )+ Item.params.padding_y*2.2)+'px':(Item.params.padding_y || 10)+'px'}" 
	ng-show="Item.params.ordershow==1 && Item.params.showtype == 0">
		<div class="head">
			<span class="f1">我的订单</span>
			<div class="f2"><span>查看全部订单</span><img src="/static/img/arrowright.png" class="image"/></div>
		</div>
		<div class="content">
			<div class="item">
				<span class="iconfont icondaifukuan" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待付款</span>
			</div>
			<div class="item">
				<span class="iconfont icondaifahuo" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待发货</span>
			</div>
			<div class="item">
				<span class="iconfont icondaishouhuo" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待收货</span>
			</div>
			<div class="item">
				<span class="iconfont iconyiwancheng" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">已完成</span>
			</div>
			<div class="item">
				<span class="iconfont icontuikuandingdan" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">退款/售后</span>
			</div>
		</div>
	</div>
	<div class="dp-userinfo-order" ng-style="{'margin':(Item.params.padding_y || 10)+'px '+Item.params.padding_x+'px','margin-top':Item.params.style==2 ? (((Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1) ? -75 : -110 )+ Item.params.padding_y*2.2)+'px':(Item.params.padding_y || 10)+'px'}" 
	ng-show="Item.params.ordershow==1 && Item.params.showtype == 1">
		<div class="head">
			<span class="f1">{{Item.params.ordertitle}}</span>
			<div class="f2"><span>查看全部订单</span><img src="/static/img/arrowright.png" class="image"/></div>
		</div>
		<div class="content">
			 <div class="item" ng-repeat="menu in Item.params.orderData" ng-if='menu.show == 1'>
				 <div style="width: 30px;height: 24px;display: flex;align-items: center;justify-content: center;">
					 <img ng-src="{{menu.imgurl|| '/static/imgsrc/picture-1.jpg'}}" style="width:120%;height: 125%;"/>
				 </div>
					<span class="t3">{{menu.text}}</span>
			 </div>
		</div>
	</div>
	<div class="dp-userinfo-order" 
	ng-style="{'margin':Item.params.padding_y+'px '+Item.params.padding_x+'px','margin-top':Item.params.style==2 ? (Item.params.ordershow==1 ? (Item.params.padding_y || 10)+'px':((Item.params.moneyshow==1 || Item.params.scoreshow==1 || Item.params.couponshow==1 || Item.params.commissionshow==1) ? -75 + Item.params.padding_y*2.2+'px':-110 + Item.params.padding_y*2.2+'px')):(Item.params.padding_y || 10)+'px'}" ng-show="Item.params.scoreshopordershow==1">
		<div class="head">
			<span class="f1">积分兑换订单</span>
			<div class="f2"><span>查看全部订单</span><img src="/static/img/arrowright.png" class="image"/></div>
		</div>
		<div class="content">
			<div class="item">
				<span class="iconfont icondaifukuan" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待付款</span>
			</div>
			<div class="item">
				<span class="iconfont icondaifahuo" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待发货</span>
			</div>
			<div class="item">
				<span class="iconfont icondaishouhuo" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">待收货</span>
			</div>
			<div class="item" ng-show="Item.params.scoreshowrefund==1">
				<span class="iconfont iconyiwancheng" style="font-size:30px;color:<?php echo t('color1'); ?>;"></span>
				<span class="t3">退款/售后</span>
			</div>
		</div>
	</div>
</div></script>
	<!--预约服务-->
	<script type="text/ng-template" id="edit-yuyue.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">预约服务设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="line" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="左右滑动"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">服务名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	
	<div class="layui-form-item">
		<div class="layui-form-label">价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getyylist(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delcollage(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addyuyue('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">服务价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> </div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getyuyue(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
							<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">服务类型</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getyuyue(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($yuyue_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
							<?php foreach($cv['child'] as $v): ?>
							<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
							<?php endforeach; ?>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getyuyue(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getyuyue(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getyuyue(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
									<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">服务类型</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getyuyue(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($yuyue_clist as $cv): ?>
									<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
									<?php foreach($cv['child'] as $v): ?>
									<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
									<?php endforeach; ?>
								<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getyuyue(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getyuyue(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getyuyue(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div  class="layui-form-item">
					<div class="layui-form-label">服务类型</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getyuyue(Edit.id)"/>
						<?php if(!$type): foreach($yuyue_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getyuyue(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getyuyue(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getyuyue(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getyuyue(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getyuyue(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getyuyue(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getyuyue(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addyuyue('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-yuyue.html"><style type="text/css">
.fuwu:before {
	content: "";
    display: inline-block;
    vertical-align: middle;
    margin-top: -3px;
    margin-right: 3px;
    width:12px;
    height: 12px;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUdwTOU5O+Q5POU5POQ4O+U4PN80P+M4O+Q4O+Q4POQ5POQ4OuQ4O+Q4O+I4PuQ5PJxkAycAAAAPdFJOUwAf+VSoeAvzws7ka7miLboUzckAAADJSURBVBjTY2BgYGCMWVR5VIABDBid/gPBFwjP/JOzQKKtfjGIzf3fEUSJ/N8AJO21Iao3fQbqqA+AcLi/CzCwfGGAAn8HBnlFMIttBoP4R4b4C2BOzk8G3q8M5w3AnPsLGZj/MKwHW8b6/QED4y8G/QQQx14ZSHwCcWYkMOtvAHOAyvqnPf8KcuMvkAGZP9eDjAQaEO/AwDb/D0gj0GiQpRnTQIYIfUR1DopDGexVIZygz8ieC4B6WyzRBOJtBkZ/pAABBZUWOKgAispF5e7ibycAAAAASUVORK5CYII=) no-repeat;
    background-size: 12px auto;
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUdwTOU5O+Q5POU5POQ4O+U4PN80P+M4O+Q4O+Q4POQ5POQ4OuQ4O+Q4O+I4PuQ5PJxkAycAAAAPdFJOUwAf+VSoeAvzws7ka7miLboUzckAAADJSURBVBjTY2BgYGCMWVR5VIABDBid/gPBFwjP/JOzQKKtfjGIzf3fEUSJ/N8AJO21Iao3fQbqqA+AcLi/CzCwfGGAAn8HBnlFMIttBoP4R4b4C2BOzk8G3q8M5w3AnPsLGZj/MKwHW8b6/QED4y8G/QQQx14ZSHwCcWYkMOtvAHOAyvqnPf8KcuMvkAGZP9eDjAQaEO/AwDb/D0gj0GiQpRnTQIYIfUR1DopDGexVIZygz8ieC4B6WyzRBOJtBkZ/pAABBZUWOKgAispF5e7ibycAAAAASUVORK5CYII=);
    background-repeat-x: no-repeat;
    background-repeat-y: no-repeat;
}
</style>
<div class="dsn-mod dp-yuyue" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 14px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-yuyue-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic" style="position: relative;">
				<img class="image" ng-src="{{item.pic}}"/>
				<div ng-if="Item.params.showisopen == 1" style="position: absolute;width: 100%;bottom: 0; left:0;background: {{item.is_open?item.color1:'#CCC'}};color: #fff;text-align: center;line-height: 20px;font-size: 12px;">
					{{item.is_open?item.opentip:item.noopentip}}
				</div>
				<div ng-if="Item.params.showfwtype == 1" >
					<div ng-if="item.fwtype.indexOf('1')>=0" style="position: absolute;width: auto;top: 0; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						到店服务
					</div>
					<div ng-if="item.fwtype.indexOf('2')>=0" style="position: absolute;width: auto;top: {{item.fwtypetop2}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						上门服务
					</div>
					<div ng-if="item.fwtype.indexOf('3')>=0" style="position: absolute;width: auto;top: {{item.fwtypetop3}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;opacity: 0.7">
						到商家服务
					</div>
				</div>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1 || Item.params.showcat == 1"><span ng-if="Item.params.showcat == 1" style="font-size:14px;color:red">{{item.catnames}}</span><span ng-if="Item.params.showname == 1">{{item.name}}</span></div>
				<div ng-if="Item.params.showsellpoint == 1" style="line-height: 18px;word-break: break-all;white-space: pre-wrap;">{{item.sellpoint}}</div>
				<div ng-if="Item.params.showfuwu== 1" style="line-height: 18px;display: flex;overflow: hidden;flex-wrap:wrap;font-size: 13px;">
					<div ng-repeat="item2 in item.fuwulist" style="margin-right: 5px;">
						<div class="fuwu">{{item2}}</div>
					</div>
				</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.sell_price}}<span style="font-size:12px;padding-left:2px">元/{{item.danwei}}</span></span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales != '0'">已售{{item.sales}}</div>
				
			</div>
		</div>
	</div>
	<div class="dp-yuyue-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic" style="position: relative;">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<div ng-if="Item.params.showisopen == 1" style="position: absolute;width: 100%;bottom: 0; left:0;background: {{item.is_open?item.color1:'#CCC'}};color: #fff;text-align: center;line-height: 20px;font-size: 12px;">
					{{item.is_open?item.opentip:item.noopentip}}
				</div>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1 || Item.params.showcat == 1"><span ng-if="Item.params.showcat == 1" style="font-size:14px;color:red">{{item.catnames}}</span><span ng-if="Item.params.showname == 1">{{item.name}}</span></div>
				<div ng-if="Item.params.showsellpoint == 1" style="line-height: 18px;word-break: break-all;white-space: pre-wrap;">{{item.sellpoint}}</div>
				<div ng-if="Item.params.showfuwu== 1" style="line-height: 18px;display: flex;overflow: hidden;flex-wrap:wrap;font-size: 13px;">
					<div ng-repeat="item2 in item.fuwulist" style="margin-right: 5px;">
						<div class="fuwu">{{item2}}</div>
					</div>
				</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.sell_price}}<span style="font-size:12px;padding-left:2px">元/{{item.danwei}}</span></span>
				</div>
				<div class="p3" ng-if="Item.params.showsales != '0'">已售{{item.sales}}</div>
				<div ng-if="Item.params.showfwtype == 1" >
					<div ng-if="item.fwtype.indexOf('1')>=0" style="position: absolute;width: auto;top: 0; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						到店服务
					</div>
					<div ng-if="item.fwtype.indexOf('2')>=0" style="position: absolute;width: auto;top:{{item.fwtypetop2}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						上门服务
					</div>
					<div ng-if="item.fwtype.indexOf('3')>=0" style="position: absolute;width: auto;top: {{item.fwtypetop3}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;opacity: 0.7">
						到商家服务
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-yuyue-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic" style="position: relative;">
				<img class="image" ng-src="{{item.pic}}"/>
				<div ng-if="Item.params.showisopen == 1" style="position: absolute;width: 100%;bottom: 0; left:0;background: {{item.is_open?item.color1:'#CCC'}};color: #fff;text-align: center;line-height: 20px;font-size: 12px;">
					{{item.is_open?item.opentip:item.noopentip}}
				</div>
				<div ng-if="Item.params.showfwtype == 1" >
					<div ng-if="item.fwtype.indexOf('1')>=0" style="position: absolute;width: auto;top: 0; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						到店服务
					</div>
					<div ng-if="item.fwtype.indexOf('2')>=0" style="position: absolute;width: auto;top: {{item.fwtypetop2}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;margin-bottom: 5px;opacity: 0.7">
						上门服务
					</div>
					<div ng-if="item.fwtype.indexOf('3')>=0" style="position: absolute;width: auto;top: {{item.fwtypetop3}}px; right:0px;background: #EC9100;color: #fff;text-align: center;line-height: 18px;font-size: 12px;padding:0 10px;border-radius: 2px;opacity: 0.7">
						到商家服务
					</div>
				</div>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1 || Item.params.showcat== 1"><span ng-if="Item.params.showcat== 1" style="font-size:14px;color:red">{{item.catnames}}</span><span ng-if="Item.params.showname == 1">{{item.name}}</span></div>
				<div ng-if="Item.params.showsellpoint == 1" style="line-height: 18px;word-break: break-all;white-space: pre-wrap;">{{item.sellpoint}}</div>
				<div ng-if="Item.params.showfuwu== 1" style="line-height: 18px;display: flex;overflow: hidden;flex-wrap:wrap;font-size: 13px;">
					<div ng-repeat="item2 in item.fuwulist" style="margin-right: 5px;">
						<div class="fuwu">{{item2}}</div>
					</div>
				</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>">{{item.sell_price}}<span style="font-size:12px;padding-left:2px">元/{{item.danwei}}</span></span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales != '0'">已售{{item.sales}}</div>
				
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-tuangou.html"><div class="dsn-mod dp-tuangou" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-tuangou-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">低至￥</span>{{item.min_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
	<div class="dp-tuangou-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">低至￥</span>{{item.min_price}}</span>
					<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已售{{item.sales}}件</span></div>
				</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></span></div>
			</div>
		</div>
	</div>
	<div class="dp-tuangou-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">低至￥</span>{{item.min_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
				<div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="edit-luckycollage.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border-radius: 5px;overflow: hidden;}
	.editor-goodimg{height: 22px;width: 89px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;
		border-radius: 0px 0px 5px 5px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">幸运拼团商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="list" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="横排"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="原价+拼团价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="2" ng-model="Edit.params.showprice" title="只显示拼团价"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品属性</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="" ng-model="Edit.params.saleimg" title="无"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-tj.png" ng-model="Edit.params.saleimg" title="推荐"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-rx.png" ng-model="Edit.params.saleimg" title="热销"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xp.png" ng-model="Edit.params.saleimg" title="新上"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-xs.png" ng-model="Edit.params.saleimg" title="限时"/>
			<input class="radio" type="radio" name="{{Edit.id}}_saleimg" value="<?php echo PRE_URL; ?>/static/imgsrc/sale-cx.png" ng-model="Edit.params.saleimg" title="促销"/>
		</div>
		<div class="layui-input-inline" style="float:right">
			<div class="img-div" ng-click="uploadImg(Edit.id,'saleimg')">
				<img width="100%" ng-show="Edit.params.saleimg" ng-src="{{Edit.params.saleimg}}">
				<img ng-show="!Edit.params.saleimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png" style="width:88px;height:88px" />
				<div class="editor-goodimg">自己上传</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">商品来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="分组分类" ng-change="getluckycollage(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>商品设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delcollage(Edit.id,good.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addluckycollage('replace',Edit.id, good.id)">
					<img ng-src="{{good.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择商品</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">商品名称</div>
						<div class="layui-form-mid">{{good.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">商品价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '1'">
		<?php if(!$categroy_selmore): if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属商家</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getluckycollage(Edit.id)">
					<option value="0">自营</option>
					<option value="">全部</option>
					<?php if(!$type): foreach($bnlist as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">商品分类</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getluckycollage(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($luckycollage_clist as $cv): ?>
						<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php foreach($cv['child'] as $v): ?>
						<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
						<?php endforeach; ?>
					<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<?php else: ?>
			<div class="layui-form-item">
				<div class="layui-form-label" style="width:180px">分类模式(默认单选模式)</div>
				<div class="layui-input-inline">
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="0" ng-model="Edit.params.categoryseltype" ng-checked="!Edit.params.categoryseltype || Edit.params.categoryseltype == '0'" ng-change="getluckycollage(Edit.id)" title="单选模式"/>
					<input class="radio" type="radio" name="{{Edit.id}}_categoryseltype" value="1" ng-model="Edit.params.categoryseltype" ng-checked="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'" ng-change="getluckycollage(Edit.id)" title="多选模式"/>
				</div>
			</div>
			<div ng-show="!Edit.params.categoryseltype || Edit.params.categoryseltype != '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.bid" ng-change="getluckycollage(Edit.id)">
							<option value="0">自营</option>
							<option value="">全部</option>
							<?php if(!$type): foreach($bnlist as $bv): ?>
								<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getluckycollage(Edit.id)">
							<option value="">全部分类</option>
							<?php if(!$type): foreach($luckycollage_clist as $cv): ?>
								<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
								<?php foreach($cv['child'] as $v): ?>
								<option value="<?php echo $v['id']; ?>">&nbsp;&nbsp;&nbsp;<?php echo $v['name']; ?></option>
								<?php endforeach; ?>
							<?php endforeach; ?>
							<?php endif; ?>
						</select>
					</div>
				</div>
			</div>
			<div ng-show="Edit.params.categoryseltype && Edit.params.categoryseltype == '1'">
				<?php if($bid==0): ?>
				<div class="layui-form-item">
					<div class="layui-form-label">所属商家</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="-1" title="全部" ng-model="Edit.params.bidmore[-1]" ng-change="getluckycollage(Edit.id)"/>
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="自营" ng-model="Edit.params.bidmore[0]" ng-change="getluckycollage(Edit.id)"/>
						<?php if(!$type): foreach($bnlist as $bv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $bv['id']; ?>" title="<?php echo $bv['name']; ?>" ng-model="Edit.params.bidmore[<?php echo $bv['id']; ?>]" ng-change="getluckycollage(Edit.id)"/>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
				<?php endif; ?>
				<div class="layui-form-item">
					<div class="layui-form-label">商品分类</div>
					<div class="layui-input-inline">
						<input class="checkbox" type="checkbox" lay-skin="primary" value="0" title="全部分类" ng-model="Edit.params.categorymore[0]" ng-change="getluckycollage(Edit.id)"/>
						<?php if(!$type): foreach($luckycollage_clist as $cv): ?>
							<input class="checkbox" type="checkbox" lay-skin="primary" value="<?php echo $cv['id']; ?>" title="<?php echo $cv['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $cv['id']; ?>]" ng-change="getluckycollage(Edit.id)"/>
							<?php foreach($cv['child'] as $v): ?>
								<input class="checkbox" type="checkbox" value="<?php echo $v['id']; ?>" lay-skin="primary" title="<?php echo $v['name']; ?>" ng-model="Edit.params.categorymore[<?php echo $v['id']; ?>]" ng-change="getluckycollage(Edit.id)"/>
							<?php endforeach; ?>
						<?php endforeach; ?>
						<?php endif; ?>
					</div>
				</div>
			</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getluckycollage(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getluckycollage(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getluckycollage(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getluckycollage(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getluckycollage(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addluckycollage('',Edit.id,'')" >添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-luckycollage.html"><div class="dsn-mod dp-luckycollage" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个商品都没有...</div>
	<!--123排-->
	<div class="dp-collage-item" ng-show="Item.params.style=='2'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
				<div class="desc">
					<span>{{item.teamnum}}人拼团 {{item.gua_num}}人得商品</span>
					<span>{{item.teamnum-item.gua_num}}人各得{{item.money}}元参与奖</span>
				</div>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3">
					<div class="p3-1" style="background:rgba(<?php echo t('color1rgb'); ?>,0.12);color:<?php echo t('color1'); ?>">{{item.teamnum}}人团</div>
					<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"><span style="overflow:hidden">已拼成{{item.sales}}件</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="dp-collage-itemlist lucky_itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data" style="display:inline-block">
			<div class="flex">
				<div class="product-pic">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
					<img class="saleimg" ng-src="{{saleimg}}" ng-if="Item.params.saleimg!=''"/>
				</div>

				<div class="product-info">
					<div class="p1" ng-if="Item.params.showname == 1">	<span class="team_text">{{item.teamnum}}人团</span>{{item.name}}</div>
					<div class="box_2 flex" style="justify-content: space-between;">
						<div class="p2" ng-if="Item.params.showprice != '0'">
							<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px">￥</span>{{item.sell_price}}</span>
							<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.sell_price*1">￥{{item.market_price}}</span>
						</div>
						<div ng-if="Item.params.showsales=='1' && item.sales>0" style="overflow:hidden;float:right;line-height:30px">已拼成{{item.sales}}件</div>
					</div>
					<div class="p3">
						<div class="p3-2" ng-if="Item.params.showsales=='1' && item.sales>0"> </div>
					</div>
				</div>
			</div>
			<div class="desc"><span>{{item.teamnum}}人拼团 {{item.gua_num}}人得商品</span><span v-if="item.gua_num>0">{{item.teamnum-item.gua_num}}人各得{{item.money}}元参与奖</span></div>
			
		</div>
	</div>
</div></script>

	<script type="text/ng-template" id="show-wxad.html"><div class="dsn-mod dsn-wxad" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">	<img src="/static/imgsrc/wxad.png" style="width:100%;height:auto"></div></script>
	<script type="text/ng-template" id="show-adset.html"><div class="dsn-mod dsn-adset" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">	<img src="/static/imgsrc/adset.png" style="width:100%;height:auto"></div></script>
	<script type="text/ng-template" id="show-jidian.html"><div class="dsn-mod dsn-jidian-warp" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'border-radius':Item.params.borderradius+'px','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div class="dp-jidian"
		ng-style="{}">
		<div class="dp-jidian-f1"></div>
		<div class="dp-jidian-f2">
			<p class="text-big">集满5单返券</p>
			<p>再下<span>4单</span>得<span>4元无门槛</span>优惠券</p>
		</div>
		<div class="dp-jidian-f3">
			<span class="circle circleCheck"><i></i></span>
			<span class="circle"></span>
			<span class="circle"></span>
			<span class="circle"></span>
			<span class="circle"></span>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-tab.html"><div class="dsn-mod dsn-tab" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'color':Item.params.color,'border-radius':Item.params.borderradius+'px','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0'}">	<div class="dsn-tab-box" ng-style="{'background-color':Item.params.bgcolor,'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">		<div ng-repeat="d in Item.data" class="dsn-tab-item" ng-style="{'color':Item.params.selectindex==$index?Item.params.color2:Item.params.color1,'font-size':Item.params.fontsize1+'px'}">{{d.name}}<div class="dsn-tab-item-after" ng-style="{background:Item.params.arrowcolor}" ng-show="Item.params.arrowshow==1 && Item.params.selectindex==$index"></div></div>	</div>	<div style="height:200px;line-height:200px; text-align: center; color: #999; font-size: 16px;" ng-style="{'background-color':Item.params.bgcolor2,'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">选项卡内容区域</div></div></script>
	<script type="text/ng-template" id="show-kecheng.html"><style>
	.product-details{position: absolute;right: 10px;bottom: 10px;font-size: 13px;}
</style>
<div class="dsn-mod dp-product" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个课程都没有...</div>
	<!--123排-->
	<div class="dp-product-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3'">
		<div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px" ng-if="item.price>0">￥</span>{{item.price==0?'免费':item.price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3">共{{item.count}}节<span ng-if="Item.params.showsales=='1'"> | {{item.join_num}}人已加入学习</span></div>
			</div>
		</div>
	</div>
	<div class="dp-product-itemlist" ng-show="Item.params.style=='list'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic" ng-if="Item.params.showpic == 1">
				<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info" style="{{Item.params.showpic == 0 ? 'width:100%':''}}">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2" ng-if="Item.params.showprice != '0'">
					<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px;padding-right:1px" ng-if="item.price>0">￥</span>{{item.price==0?'免费':item.price}}</span>
					<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.price*1">￥{{item.market_price}}</span>
				</div>
				<div class="p3">
					<div class="p3-1">共{{item.count}}节<span ng-if="Item.params.showsales=='1'"> | {{item.join_num}}人已加入学习</span></div>
				</div>
			</div>
			<div class="product-details" style="color:<?php echo t('color1'); ?>">
				查看详情
			</div>
		</div>
	</div>
	<div class="dp-product-itemline" ng-show="Item.params.style=='line'">
		<div class="item" ng-repeat="item in Item.data">
			<div class="product-pic">
				<img class="image" ng-src="{{item.pic}}"/>
				<img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
			</div>
			<div class="product-info">
				<div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="p2">
					<div class="p2-1" ng-if="Item.params.showprice != '0'">
						<span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px" ng-if="item.price>0">￥</span>{{item.price==0?'免费':item.price}}</span>
						<span class="t2" ng-if="Item.params.showprice == '1' && item.market_price*1 > item.price*1">￥{{item.market_price}}</span>
					</div>
				</div>
				<div class="p3">共{{item.count}}节<span ng-if="Item.params.showsales=='1'"> | {{item.join_num}}人已加入学习</span></div>
			</div>
		</div>
	</div>
</div></script>
	<script type="text/ng-template" id="show-zhaopin.html"><?php if(getcustom('zhaopin')): ?>
<div class="dsn-mod dp-article" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-show="Item.data == ''">一条招聘都没有...</div>
    <!--单排-->
    <div ng-show="Item.params.style=='1'" ng-repeat="item in Item.data" class="article-itemlist">
        <div class="article-pic">
            <img class="image" ng-src="{{item.thumb}}" style="{{Item.params.pic_width>0&&Item.params.pic_height>0?'width: '+Item.params.pic_width+'px;height: '+Item.params.pic_height+'px':''}}"/>
        </div>
        <div class="article-info">
        <div class="p1">{{item.title}}</div>
        <div class="p2">
            <span style="overflow:hidden" class="flex1">{{item.num}}人</span>
            <span style="overflow:hidden">{{item.salary}}</span>
        </div>
        <div class="p3" style="color: #666666">
            {{item.welfare}}
        </div>
        <div class="p3" style="color: #666666">
            {{item.address}}
        </div>
    </div>
</div>
    <!--双排-->
    <div ng-show="Item.params.style=='2'" ng-repeat="item in Item.data" class="article-item2" ng-init="index = $index" style="margin-right:{{index%2==0?'2%':'0'}}">
        <div class="article-pic">
            <img class="image" ng-src="{{item.thumb}}"/>
        </div>
        <div class="article-info">
            <div class="p1">{{item.title}}</div>
            <div class="p2">
                <span style="overflow:hidden" class="flex1" >{{item.num}}人</span>
                <span style="overflow:hidden" >{{item.salary}}</span>
            </div>
        </div>
    </div>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="edit-zhaopin.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
</style>
<?php if(getcustom('zhaopin')): ?>
<div class="dsn-panel-editor-title">招聘设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span">{{Edit.params.margin_y}} px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">排序方式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getZhaopin(Edit.id)" title="按排序"/>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getZhaopin(Edit.id)" title="发布时间↓"/></i>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getZhaopin(Edit.id)" title="发布时间↑"/></i>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getZhaopin(Edit.id)" title="随机"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">显示数量</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getZhaopin(Edit.id)"/>
		</div>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span">{{Edit.params.margin_x}} px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span">{{Edit.params.padding_x}} px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span">{{Edit.params.padding_y}} px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
		</div>
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="show-qiuzhi.html"><?php if(getcustom('zhaopin')): ?>
<div class="dsn-mod dp-article" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;" ng-show="Item.data == ''">一条求职都没有...</div>
    <!--单排-->
    <div ng-show="Item.params.style=='1'" ng-repeat="item in Item.data" class="article-itemlist">
        <div class="article-pic">
            <img class="image" ng-src="{{item.thumb}}" style="{{(item.secret_type==2 || item.secret_type==3)?('filter: blur('+item.mohu+'px);-webkit-filter: blur('+item.mohu+'px);-moz-filter: blur('+item.mohu+'px)'):''}}"/>
        </div>
        <div class="article-info">
            <div class="p1">{{item.title}}</div>
            <div class="p2">
                <span style="overflow:hidden" class="flex1">{{item.name}}
                    <span ng-if="item.sex=='1'">/男</span>
                    <span ng-if="item.sex=='2'">/女</span>
                    /{{item.age}}岁</span>
                <span style="overflow:hidden">{{item.salary}}</span>
            </div>
            <div class="p3" style="color: #666666">
                {{item.cnames}}
            </div>
<!--            <div class="p3" style="color: #666666">-->
<!--                {{item.area}}-->
<!--            </div>-->
        </div>
    </div>
    <!--双排-->
    <div ng-show="Item.params.style=='2'" ng-repeat="item in Item.data" class="article-item2" ng-init="index = $index" style="margin-right:{{index%2==0?'2%':'0'}}">
        <div class="article-pic">
            <img class="image" ng-src="{{item.thumb}}"/>
        </div>
        <div class="article-info">
            <div class="p1">{{item.name}}</div>
            <div class="p2">
<!--                <span style="overflow:hidden" class="flex1" >-->
<!--                    <span ng-if="item.sex=='1'">/男</span>-->
<!--                    <span ng-if="item.sex=='2'">/女</span>-->
<!--                    /{{item.age}}岁</span>-->
<!--                </span>-->
                <span style="overflow:hidden" >{{item.cnames}}</span>
            </div>
        </div>
    </div>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="edit-qiuzhi.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
</style>
<?php if(getcustom('zhaopin')): ?>
<div class="dsn-panel-editor-title">求职设置</div>
<div class="dsn-panel-editor-content">
  <div class="layui-form-item">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
    <span class="slider-span">{{Edit.params.margin_y}} px</span>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">样式选择</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
      <input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
    <span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
  </div>
  <div class="layui-form-item">
		<div class="layui-form-label">排序方式</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getzhaopin(Edit.id)" title="按排序"/>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getzhaopin(Edit.id)" title="发布时间↓"/></i>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getzhaopin(Edit.id)" title="发布时间↑"/></i>
			<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="rand" ng-model="Edit.params.sortby" ng-change="getzhaopin(Edit.id)" title="随机"/>
		</div>
  </div>
  <div class="layui-form-item">
		<div class="layui-form-label">显示数量</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getzhaopin(Edit.id)"/>
		</div>
  </div>
  <hr>
  <div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span">{{Edit.params.margin_x}} px</span>
  </div>
  <div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span">{{Edit.params.padding_x}} px</span>
  </div>
  <div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span">{{Edit.params.padding_y}} px</span>
  </div>
  <?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">显示门店</div>
		<div class="layui-input-inline">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
			<?php foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">显示类型</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
			<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		</div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
		<div class="layui-form-label">显示范围</div>
		<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
		<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
	</div>
	<hr>
	<?php endif; ?>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
		</div>
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div>
<?php endif; ?></script>
	<script type="text/ng-template" id="edit-form-log.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title">表单动态设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">选择表单</div>
		<div class="layui-input-inline flex-y-center" style="background:#F7F7F7">
			<input class="layui-input" value="" ng-model="Edit.params.hrefurl"/>
			<div class="icon-input" ng-click="addform(Edit.id)">
				<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
			</div>
		</div>
		<div class="layui-form-mid">
			<span>{{Edit.data.name}}</span>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题名称</div>
		<div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.title" />
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
				<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">圆角度</div>
		<div class="slider" min="0" max="50" ng-model="Edit.params.borderradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.borderradius"/> px</span>
	</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右外边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; ?>>
	<?php if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
		<div class="layui-form-label">显示用户</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
				<input class="layui-input" ng-model="Edit.params.showmids"/>
		</div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<script type="text/ng-template" id="show-form-log.html"><div class="dsn-mod dsn-form-log-warp" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'border-radius':Item.params.borderradius+'px','margin':Item.params.margin_y+'px '+Item.params.margin_x+'px','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div class="dp-form-log" ng-style="{}">
		<div class="flex head">
			<div class="left">{{Item.params.title}}</div>
			<div class="right">全部xx条<img src="/static/img/arrowright.png" style="width:16px;height:16px"/></div>
		</div>
		<div class="text">
			<div class="title">昵称xx 填写了{{Item.data.name}}</div>
			<div>2020-11-11 10:00</div>
		</div>
	</div>
</div></script>
	<?php if(getcustom('extend_chongzhi')): ?>
	<script type="text/ng-template" id="show-livepay.html"><style>
	.dsn-menu-title{display:flex;align-items:center;justify-content: space-between;padding: 0 12px 16px 12px;}
	.positioning-class{font-weight:none;color: #666;font-size: 13px;display:flex;align-items:center;}
	.dsn-menu-nav6{width: 31%;display: flex;align-items: center;justify-content: center;flex-direction: column;padding:30px 0px 24px;margin: 1.1%;}
	.dsn-menu-text{margin-top: 0px !important;}
</style>
<div class="dsn-mod dsn-menu" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'font-size':Item.params.fontsize+'px','background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':(Item.params.padding_y*1+8)+'px '+Item.params.padding_x+'px '+Item.params.padding_y+'px '+Item.params.padding_x+'px','border-radius':Item.params.boxradius + 'px'}">
	<div class="dsn-menu-title">
		<div style="color:{{Item.params.titlecolor}};font-size:{{Item.params.titlesize}}px">{{Item.params.title}}</div>
		<div class='positioning-class'>北京市<img style='width: 12px;height: 12px;margin-left: 3px;' src='/static/admin/img/down-icon.png' /></div>
	</div>
	<div class="dsn-menu-nav6" ng-repeat="menu in Item.data" ng-style="{'backgroundColor':'#fafafa','border-radius':Item.params.radius + 'px'}">
		<img ng-show="Item.params.showicon==1" ng-src="{{menu.imgurl|| '/static/imgsrc/picture-1.jpg'}}" style="border-radius:{{Item.params.radius/2}}%;width:{{Item.params.iconsize}}px;height:{{Item.params.iconsize}}px"/>
		<div class="dsn-menu-text" ng-style="{'color':menu.color,'height':Item.params.fontheight+'px','line-height':Item.params.fontheight+'px'}">{{menu.text|| '按钮文字'}}</div>
	</div>
</div></script>
	<script type="text/ng-template" id="edit-livepay.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width:100%;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;margin-bottom:5px;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 0px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width:88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
	.dsn-panel-editor-line-right{margin-left: 10px;}
	.layui-form-item .layui-input-inline .layui-input{background: #F7F7F7;border:none;font-size:12px;color: #3D3D3D;}
	.icon-input img{width: 12px;height: 12px;margin-right:10px;cursor: pointer;padding-left: 10px;}
</style>
<div class="dsn-panel-editor-title">按钮导航设置</div>
<div class="dsn-panel-editor-content">
	<!-- <div class="layui-form-item">
    <div class="layui-form-label">图标样式</div>
    <div class="layui-input-inline">
        <input class="radio" type="radio" name="{{Edit.id}}_style" value="0" ng-model="Edit.params.style"> 正方形
        <input class="radio" type="radio" name="{{Edit.id}}_style" value="100%" ng-model="Edit.params.style"> 圆形
    </div>
	</div> -->
	<div class="layui-form-item" style="margin-top: 15px;">
    <div class="layui-form-label">与上方距离</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">图标</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="1" ng-model="Edit.params.showicon" title="显示">
      <input class="radio" type="radio" name="{{Edit.id}}_showicon" value="0" ng-model="Edit.params.showicon" title="不显示">
    </div>
	</div>
	<div class="layui-form-item" ng-show="Edit.params.showicon==1">
		<div class="layui-form-label">图标大小</div>
		<div class="slider" min="10" max="60" ng-model="Edit.params.iconsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.iconsize"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">选项圆角度数</div>
		<div class="slider" max="40" ng-model="Edit.params.radius"></div>
		<span class="slider-span"><input ng-model="Edit.params.radius"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标题内容</div>
    <div class="layui-input-inline">
			<input class="layui-input" ng-model="Edit.params.title"/>
    </div>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">标题大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.titlesize"></div>
		<span class="slider-span"><input ng-model="Edit.params.titlesize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label" ng-model="Edit.params.bgcolor">标题颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.titlecolor}}" ng-model="Edit.params.titlecolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.titlecolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label" ng-model="Edit.params.bgcolor">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">字体大小</div>
    <div class="slider" min="10" max="40" ng-model="Edit.params.fontsize"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontsize"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">字体行高</div>
    <div class="slider" min="20" max="60" ng-model="Edit.params.fontheight"></div>
		<span class="slider-span"><input ng-model="Edit.params.fontheight"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">圆角度</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.boxradius"></div>
		<span class="slider-span"><input ng-model="Edit.params.boxradius"/> px</span>
	</div>
	<div class="title-div flex-box">
		<div>按钮设置</div>
		<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
	</div>
	<div ng-repeat="menu in Edit.data" class="dsn-panel-editor-relative">
    <div class="dsn-panel-editor-del" style="font-size:12px" title="上移" ng-click="upItemChild(Edit.id,menu.id)"><i class="fa fa-arrow-up"></i></div>
    <!-- <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delItemChild(Edit.id,menu.id)">×</div> -->
    <div class="dsn-panel-editor-line flex">
			<div class="dsn-panel-editor-goodimg flex0" ng-click="uploadImgChild(Edit.id, menu.id)"
			ng-style="{'background':'url(' + menu.imgurl + ')','backgroundRepeat':'no-repeat','backgroundPosition':'center','backgroundSize': 'contain'}">
				<!-- <img ng-src="{{menu.imgurl}}" width="100%" ng-show="menu.imgurl" /> -->
				<div class="dsn-panel-editor-goodimg-t1" ng-show="!menu.imgurl" style="line-height:120px;"><i class="fa fa-plus-circle"></i> 选择图片</div>
				<div class="dsn-panel-editor-goodimg-t2" ng-show="menu.imgurl">重新选择图片</div>
			</div>
			<div class="dsn-panel-editor-line-right ">
				<div class="layui-form-item">
					<div class="layui-form-label">按钮文字</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="" ng-model="menu.text" placeholder="请填写按钮文字" />
          </div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">文字颜色</div>
					<div class="layui-input-inline">
						<input class="layui-input" value="{{menu.color}}" ng-model="menu.color" style="width:180px;display: inline;" />
						<span class="colorpicker" coloralpha="1" ng-model="menu.color" style="float: right;margin: 0px 0px;"></span>
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-label">跳转链接</div>
					<div class="layui-input-inline flex-y-center" style="background: #F7F7F7">
						<input class="layui-input" value="" ng-model="menu.hrefurl" placeholder="跳转链接"/>
						<div class="icon-input" ng-click="chooseUrl(Edit.id,menu.id)">
							<img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"/>
						</div>
					</div>
					<div class="layui-form-mid layui-word-aux" style="float: left">{{menu.hrefname}}</div>
				</div>
			</div>
    </div>
	</div>
	<!-- <div ng-show="Edit.data.length < 6" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addItemChild('menu', Edit.id)")">添加按钮</div> -->
	<hr ng-show="Edit.data.length < 6">
	<div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
	<?php endif; ?>
</div></script>
	<?php endif; if(getcustom('car_hailing')): ?>
	<script type="text/ng-template" id="show-carhailing.html"><div class="dsn-mod dsn-carhailing" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'color':Item.params.color,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0'}">	<div style="height:200px;line-height:200px; text-align: center; color: #999; font-size: 16px;" ng-style="{'background-color':Item.params.bgcolor,'padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">约车列表内容区域</div></div></script>
	<?php endif; if(getcustom('extend_tour')): ?>
		<script type="text/ng-template" id="edit-tour.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.img-div{width: 88px;height:88px;cursor: pointer;border: 1px solid #e5e5e5;}
	.editor-goodimg{height: 22px;width:88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.img-div img{width: 88px;height:88px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<?php if(getcustom('extend_tour')): ?>
<div class="dsn-panel-editor-title">活动商品设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">样式选择</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="1" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="单排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="2" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="双排"/>
			<input class="radio" type="radio" name="{{Edit.id}}_style" value="3" ng-model="Edit.params.style" ng-change="changeImg(Edit.id, Edit.params.style)" title="三排"/>
		</div>
	</div>
  <div class="layui-form-item">
    <div class="layui-form-label">名称</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">价格</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">销量</div>
    <div class="layui-input-inline" style="padding: 3px 0px;">
      <input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
    </div>
    <span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
  </div>
  <div class="layui-form-item" ng-show="Edit.params.showname == 1">
    <div class="layui-form-label">购买按钮</div>
    <div class="layui-input-inline">
      <input class="radio" type="radio" name="{{Edit.id}}_showcart" value="0" ng-model="Edit.params.showcart" title="不显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showcart" value="1" ng-model="Edit.params.showcart" title="显示"/>
      <input class="radio" type="radio" name="{{Edit.id}}_showcart" value="2" ng-model="Edit.params.showcart" title="自己上传"/>
    </div>
  </div>
  <div class="layui-form-item" ng-show="Edit.params.showcart==2">
    <div class="layui-form-label">购买图标</div>
    <div class="layui-input-inline">
      <input class="dsn-panel-editor-input3 hide"  value="" ng-model="Edit.params.cartimg" placeholder=""/>
    </div>
		<div class="layui-input-inline">
			<div class="img-div" ng-click="uploadImg(Edit.id,'cartimg')">
				<img ng-show="Edit.params.cartimg" ng-src="{{Edit.params.cartimg}}">
				<img ng-show="!Edit.params.cartimg" src="<?php echo PRE_URL; ?>/static/admin/img/uploadimg.png"/>
				<div ng-show="Edit.params.cartimg" class="editor-goodimg">重新选择图片</div>
			</div>
		</div>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">背景颜色</div>
    <div class="layui-input-inline" style="width:180px">
      <input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
    </div>
    <span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">活动来源</div>
    <div class="layui-input-inline">
      <?php if(!$type): ?>
      <input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="0" ng-model="Edit.params.productfrom" title="手动选择"/>
      <?php endif; ?>
      <input class="radio" type="radio" name="{{Edit.id}}_productfrom" value="1" ng-model="Edit.params.productfrom" title="全部"/>
    </div>
  </div>
  <div ng-show="Edit.params.productfrom == '0'">
		<div class="title-div flex-box">
			<div>活动设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png"  /></div> -->
		</div>
      <div ng-repeat="good in Edit.data" class="dsn-panel-editor-relative">
        <div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,good.id)"><i class="fa fa-arrow-up"></i></div>
        <div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delGood(Edit.id,good.id)">×</div>
        <div class="dsn-panel-editor-line flex">
          <div class="dsn-panel-editor-goodimg flex0" ng-click="addtour('replace',Edit.id, good.id)">
            <img ng-src="{{good.pic}}" width="100%"/>
            <div class="dsn-panel-editor-goodimg-t2">重新选择活动</div>
          </div>
          <div class="dsn-panel-editor-line-right">
            <div class="layui-form-item">
                <div class="layui-form-label">活动名称</div>
                <div class="layui-form-mid">{{good.name}}</div>
            </div>
            <div class="layui-form-item">
                <div class="layui-form-label">活动价格</div>
                <div class="layui-form-mid"><span style="font-size: 16px;">￥{{good.sell_price}}</span> <span style="text-decoration: line-through;">￥{{good.market_price}}</span></div>
            </div>
          </div>
        </div>
      </div>
  </div>
  <div>
    <div class="layui-form-item" ng-show="Edit.params.productfrom == '1'">
      <div class="layui-form-label">排序方式</div>
      <div class="layui-input-inline">
        <input class="radio" type="radio" name="{{Edit.id}}_sortby" value="id" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="默认"/>
        <input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↓"/></i>
        <input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="创建时间↑"/></i>
        <input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getgoods(Edit.id)" title="销量"/>
      </div>
    </div>
    <div class="layui-form-item" style="margin-top:10px">
      <div class="layui-form-label">显示数量</div>
      <div class="layui-input-inline">
        <input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getgoods(Edit.id)"/>
      </div>
    </div>
  </div>
	<div ng-show="Edit.params.productfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;" ng-click="addtour('',Edit.id,'')">添加</div>
  <hr>
  <div class="layui-form-item">
    <div class="layui-form-label">左右边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
    <span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">左右内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
    <span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
  </div>
  <div class="layui-form-item">
    <div class="layui-form-label">上下内边距</div>
    <div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
    <span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
  </div>
  <?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
  <div class="layui-form-item">
    <div class="layui-form-label">显示平台</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
      <input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
      <?php foreach($platform as $pl): ?>
      <input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
      <?php endforeach; ?>
    </div>
  </div>
  <?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
  <div class="layui-form-item">
    <div class="layui-form-label">显示范围</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
      <input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
      <?php foreach($memberlevelList as $lv): ?>
      <input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
      <?php endforeach; ?>
    </div>
  </div>
  <?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
  <div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
  <div class="layui-form-label">显示用户</div>
  <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="layui-input" ng-model="Edit.params.showmids"/>
  </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
  </div>
  <?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div>
<?php endif; ?></script>
		<script type="text/ng-template" id="show-tour.html"><?php if(getcustom('extend_tour')): ?>
<div class="dsn-mod dp-product" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一个活动都没有...</div>
    <!--123排-->
    <div class="dp-product-item" ng-show="Item.params.style=='1' || Item.params.style=='2' || Item.params.style=='3' || Item.params.style=='waterfall'">
        <div class="item" ng-repeat="item in Item.data" ng-init="index = $index" style="{{Item.params.style==2 || Item.params.style=='waterfall'  ? 'width:49%;margin-right:'+(index%2==0?'2%':0) : (Item.params.style==3 ? 'width:32%;margin-right:'+(index%3!=2?'2%':0) :'width:100%')}}" ng-style="{'background-color':Item.params.probgcolor}">
            <div class="product-pic" ng-style="{'background-color':Item.params.probgcolor}">
                <img class="image" ng-src="{{item.pic}}"/>
                <img class="saleimg" ng-src="{{Item.params.saleimg}}" ng-if="Item.params.saleimg!=''"/>
            </div>
            <div class="product-info" ng-style="{'background-color':Item.params.probgcolor}" ng-if="Item.params.showname != '0' || Item.params.showprice != '0' || Item.params.showsales!='0'">
                <div class="p1" ng-if="Item.params.showname == 1">{{item.name}}</div>
                <div class="p2">
                    <div class="p2-1" ng-if="Item.params.showprice == 1">
                        <span class="t1" style="color:<?php echo t('color1'); ?>"><span style="font-size:12px">￥</span>{{item.sell_price}}</span>
                    </div>
                </div>
                <div class="p3" ng-if="Item.params.showsales=='1' && item.sales>0">已售{{item.sales}}件</div>
                <div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==1"><span class="iconfont icon_gouwuche"></span></div>
                <div class="p4" style="background:rgba(<?php echo t('color1rgb'); ?>,0.1);color:<?php echo t('color1'); ?>" ng-if="Item.params.showcart==2"><img ng-src="{{Item.params.cartimg}}" class="img"/></div>
            </div>
        </div>
    </div>
</div>
<?php endif; ?></script>
	<?php endif; if(getcustom('form_data')): ?>
		<script type="text/ng-template" id="edit-formdata.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<?php if(getcustom('form_data')): ?>
<div class="dsn-panel-editor-title">表单列表设置</div>
<div class="dsn-panel-editor-content">
    <div class="layui-form-item" style="margin-top: 15px;">
      <div class="layui-form-label">与上方距离</div>
      <div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
      <span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">背景颜色</div>
      <div class="layui-input-inline" style="width: 180px;">
          <input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
      </div>
      <span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">选择表单</div>
      <div class="layui-btn layui-btn-primary" ng-click="addformdata(Edit.id)" style="float:left">选 择</div>
      <div class="layui-form-mid">
          <input class="hide" value="" ng-model="Edit.params.formid"/>
          <span style="margin-left:10px">{{Edit.params.name}}</span>
      </div>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">显示数量</div>
      <div class="layui-input-inline">
          <input class="layui-input" ng-model="Edit.params.proshownum" ng-blur="getformdata(Edit.id)"/>
      </div>
    </div>
    <hr>
    <div class="layui-form-item">
      <div class="layui-form-label">左右边距</div>
      <div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
      <span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">左右内边距</div>
      <div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
      <span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
    </div>
    <div class="layui-form-item">
      <div class="layui-form-label">上下内边距</div>
      <div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
      <span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
    </div>
    <?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
    <div class="layui-form-item">
      <div class="layui-form-label">显示平台</div>
      <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
        <input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
        <?php foreach($platform as $pl): ?>
        <input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
        <?php endforeach; ?>
      </div>
    </div>
    <?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
    <div class="layui-form-item">
      <div class="layui-form-label">显示范围</div>
      <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
        <input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
        <?php foreach($memberlevelList as $lv): ?>
        <input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
        <?php endforeach; ?>
      </div>
    </div>
    <?php endif; if(getcustom('show_location')): if($sysset['mode']==3): ?>
<hr>
<div class="layui-form-item">
	<div class="layui-form-label">显示门店</div>
	<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
		<input class="checkbox" type="checkbox" lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
		<?php if(!$type): foreach($mendianlist as $md): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $md['name']; ?>" name="{{Edit.id}}_mendian['md_<?php echo $md['id']; ?>']" ng-model="Edit.params.mendian['md_<?php echo $md['id']; ?>']"/>
			<?php endforeach; ?>
		<?php endif; ?>
	</div>
</div>
<!--<div class="layui-form-item">
	<div class="layui-form-label">显示类型</div>
	<div class="layui-input-inline" style="width:500px">
		<input class="radio" type="radio"  title="全部" name="{{Edit.id}}_mendian_sort" value="sort" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
		<input class="radio" type="radio"  title="按距离" name="{{Edit.id}}_mendian_sort" value="juli" ng-model="Edit.params.mendian_sort" ng-change="getMendianSort(Edit.id)"/>
	</div>
</div>
<div class="layui-form-item" ng-show="Edit.params.mendian_sort == 'juli'">
	<div class="layui-form-label">显示范围</div>
	<div class="slider" min="1" max="100" ng-model="Edit.params.mendian_distance"></div>
	<span class="slider-span"><input ng-model="Edit.params.mendian_distance"/> km</span>
</div>-->
<hr>
<?php endif; ?>
<?php endif; ?>
    <div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
			<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
    </div>
    <?php else: ?>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
		<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
    <?php endif; ?>
</div>
<?php endif; ?></script>
		<script type="text/ng-template" id="show-formdata.html"><?php if(getcustom('form_data')): ?>
<div class="dsn-mod dsn-business" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
    <div style="line-height: 170px; text-align: center; color: #999; font-size: 16px;width:100%" ng-show="Item.data == ''">一条数据都没有...</div>
    <div class="buslist">
        <div ng-repeat="item in Item.data" ng-init="idx = $index" class="busbox">
            <div class="businfo">
                <div class="f1" style="width: 70px;height: 70px;"><img ng-src="{{item.logo}}" style="border-radius:6px" /></div>
                <div class="f2">
                     <div class="title">{{item.name}}</div>
                     <div class="address">
                        <img src="/static/admin/img/b_addr.png" style="width:13px;height: 13px;margin-right: 10px;">{{item.address}}
                    </div>
                     <div class="address">
                        <img src="/static/admin/img/b_tel.png" style="width:13px;height: 13px;margin-right: 10px;">{{item.tel}}
                    </div>
                </div>
            </div>
    </div>
</div>
<?php endif; ?></script>
	<?php endif; if(getcustom('hotel')): ?>
		<script type="text/ng-template" id="edit-hotel.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title"><?php echo $text['酒店']; ?>设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo $text['酒店']; ?>名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标签</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtag" value="1" ng-model="Edit.params.showtag" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtag" value="0" ng-model="Edit.params.showtag" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label"><?php echo $text['酒店']; ?>来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_hotelfrom" value="0" ng-model="Edit.params.hotelfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_hotelfrom" value="1" ng-model="Edit.params.hotelfrom" title="分组分类" ng-change="getHotel(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.hotelfrom == '0'">
		<div class="title-div flex-box">
			<div><?php echo $text['酒店']; ?>设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="hotel in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,hotel.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delHotel(Edit.id,hotel.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addHotel('replace',Edit.id, hotel.id)">
					<img ng-src="{{hotel.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择<?php echo $text['酒店']; ?></div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">名称</div>
						<div class="layui-form-mid">{{hotel.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{hotel.sell_price}}</span> </div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.hotelfrom == '1'">
		<div class="layui-form-item">
			<div class="layui-form-label">酒店类型</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.category" ng-change="getHotel(Edit.id)">
					<option value="">全部分类</option>
					<?php if(!$type): foreach($hotel_clist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getHotel(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getHotel(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getHotel(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getHotel(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getHotel(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.hotelfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addHotel('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div></script>
		<script type="text/ng-template" id="show-hotel.html">
<div class="dsn-mod dp-hotel" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 14px;width:100%" ng-show="Item.data == ''">一个<?php echo $text['酒店']; ?>都没有...</div>
	<div class="dp-hotel-item" >
		<div class='hotel_item'  ng-repeat="item in Item.data">
			<div class="hotels-options">
				<div class="hotel-img">
					<img class="image" ng-src="{{item.pic}}" mode="widthFix"/>
				</div>
				<div class="hotel-info">
					<div class="hotel-title"  ng-if="Item.params.showname == 1">{{item.name}}</div>
					<div class="hotel-address">{{item.address}}</div>
					<div class="hotel-characteristic" ng-if="Item.params.showtag == 1">
						<div class="characteristic-options"  ng-repeat="tag in item.tag" style="background:rgba(<?php echo t('color1rgb'); ?>,0.05);color:<?php echo t('color1'); ?>" >{{tag}}</div>
					</div>
					<div class="hotel-but">
						<div class="make-info">
							<div class="hotel-price" style="color:<?php echo t('color1'); ?>" ng-if="Item.params.showprice != '0'">
								<div>￥</div>
								<div class="hotel-price-num">{{item.sell_price}}</div>
								<div>起</div>
							</div>
							<div class="hotel-text" ng-if="Item.params.showsales != '0'">{{item.sales}}人预定</div>
						</div>
						<div class="hotel-make" style="background:rgba(<?php echo t('color1rgb'); ?>,0.8);color:#FFF">预约</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div></script>

		<script type="text/ng-template" id="edit-hotelroom.html"><style>
	.slider .layui-slider .layui-slider-bar{background: rgb(55, 114, 232) !important;}
	.slider .layui-slider .layui-slider-wrap .layui-slider-wrap-btn{border: 2px solid #3772E8 !important;}
	.dsn-panel-editor-relative {width: auto;height: auto;position: relative;border-bottom: 1px solid #e5e5e5;}
	.dsn-panel-editor-line {overflow: hidden;background: #fff;border:none;border-radius: 3px;margin-top: 5px;padding: 0px;}
	.dsn-panel-editor-goodimg {overflow: hidden;width: 88px;height:88px;border: none;float: left;position: relative;background: #fff;cursor: pointer;border-radius:3px;}
	.dsn-panel-editor-goodimg-t2{height: 22px;width: 88px;background: rgba(0,0,0,0.5);position: absolute;left: 0px;bottom: 0px;font-size: 12px;text-align: center;line-height: 22px;color: #fff;}
	.title-div{font-size: 14px;font-weight: bold;color: #2D2D2D;width: 100%;padding: 9px 0;box-sizing: border-box;}
	.title-div .icon-div {cursor: pointer;}
	.title-div .icon-div img{width: 10px;height: 10px;}
	.dsn-panel .slider-span input{border-radius: 5px;height: 30px;line-height: 30px;}
	.dsn-panel .slider{width: 150px;}
	.layui-btn-primary:hover {border-color: #3772E8;color: #333}
</style>
<div class="dsn-panel-editor-title"><?php echo $text['酒店']; ?>房型设置</div>
<div class="dsn-panel-editor-content">
	<div class="layui-form-item" style="margin-top: 15px;">
		<div class="layui-form-label">与上方距离</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_y"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">房型名称</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="1" ng-model="Edit.params.showname" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showname" value="0" ng-model="Edit.params.showname" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">标签</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showtag" value="1" ng-model="Edit.params.showtag" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showtag" value="0" ng-model="Edit.params.showtag" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">价格</div>
		<div class="layui-input-inline">
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="1" ng-model="Edit.params.showprice" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showprice" value="0" ng-model="Edit.params.showprice" title="不显示"/>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">销量</div>
		<div class="layui-input-inline" style="padding: 3px 0px;">
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="1" ng-model="Edit.params.showsales" title="显示"/>
			<input class="radio" type="radio" name="{{Edit.id}}_showsales" value="0" ng-model="Edit.params.showsales" title="不显示"/>
		</div>
		<span class="layui-form-mid layui-word-aux" style="float: left;">提示：显示销量时，销量大于0才会显示</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">背景颜色</div>
		<div class="layui-input-inline" style="width:180px">
			<input class="layui-input" value="{{Edit.params.bgcolor}}" ng-model="Edit.params.bgcolor"/>
		</div>
		<span class="colorpicker" coloralpha="1" ng-model="Edit.params.bgcolor"></span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">房型来源</div>
		<div class="layui-input-inline">
			<?php if(!$type): ?>
			<input class="radio" type="radio" name="{{Edit.id}}_roomfrom" value="0" ng-model="Edit.params.roomfrom" title="手动选择"/>
			<?php endif; ?>
			<input class="radio" type="radio" name="{{Edit.id}}_roomfrom" value="1" ng-model="Edit.params.roomfrom" title="房型分组" ng-change="getHotelRoom(Edit.id)"/>
		</div>
	</div>
	<div ng-show="Edit.params.roomfrom == '0'">
		<div class="title-div flex-box">
			<div>房型设置</div>
			<!-- <div class="icon-div"><img src="<?php echo PRE_URL; ?>/static/admin/img/diyadd.png" /></div> -->
		</div>
		<div ng-repeat="room in Edit.data" class="dsn-panel-editor-relative">
			<div class="dsn-panel-editor-del" style="right:30px;font-size:12px" title="上移" ng-click="upItemChild(Edit.id,room.id)"><i class="fa fa-arrow-up"></i></div>
			<div class="dsn-panel-editor-del" title="移除" style="top:6px" ng-click="delHotel(Edit.id,room.id)">×</div>
			<div class="dsn-panel-editor-line flex">
				<div class="dsn-panel-editor-goodimg flex0" ng-click="addHotelRoom('replace',Edit.id, room.id)">
					<img ng-src="{{room.pic}}" width="100%"/>
					<div class="dsn-panel-editor-goodimg-t2">重新选择房型</div>
				</div>
				<div class="dsn-panel-editor-line-right">
					<div class="layui-form-item">
						<div class="layui-form-label">名称</div>
						<div class="layui-form-mid">{{room.name}}</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-form-label">价格</div>
						<div class="layui-form-mid"><span style="font-size: 16px;">￥{{room.sell_price}}</span> </div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.roomfrom == '1'">
		<?php if($bid==0): ?>
		<div class="layui-form-item">
			<div class="layui-form-label">所属酒店</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.hotelid" ng-change="getHotelRoom(Edit.id)">
					<option value="">全部</option>
					<?php foreach($hotel_list as $bv): ?>
						<option value="<?php echo $bv['id']; ?>"><?php echo $bv['name']; ?></option>
					<?php endforeach; ?>
				</select>
			</div>
		</div>
		<?php endif; ?>
		<div class="layui-form-item">
			<div class="layui-form-label">房型分组</div>
			<div class="layui-input-inline">
				<select class="layui-input" style="width:200px;-webkit-appearance:menulist" lay-ignore ng-model="Edit.params.group" ng-change="getHotelRoom(Edit.id)">
					<option value="">全部分组</option>
					<?php if(!$type): foreach($room_glist as $cv): ?>
							<option value="<?php echo $cv['id']; ?>"><?php echo $cv['name']; ?></option>
						<?php endforeach; ?>
					<?php endif; ?>
				</select>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">排序方式</div>
			<div class="layui-input-inline">
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sort" ng-model="Edit.params.sortby" ng-change="getHotelRoom(Edit.id)" title="按排序"/>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtimedesc" ng-model="Edit.params.sortby" ng-change="getHotelRoom(Edit.id)" title="创建时间↓"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="createtime" ng-model="Edit.params.sortby" ng-change="getHotelRoom(Edit.id)" title="创建时间↑"/></i>
				<input class="radio" type="radio" name="{{Edit.id}}_sortby" value="sales" ng-model="Edit.params.sortby" ng-change="getHotelRoom(Edit.id)" title="销量"/>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-form-label">显示数量</div>
			<div class="layui-input-inline">
				<input class="layui-input" ng-model="Edit.params.shownum" ng-blur="getHotelRoom(Edit.id)"/>
			</div>
		</div>
	</div>
	<div ng-show="Edit.params.roomfrom == '0'" class="layui-btn layui-btn-primary" style="display: block;margin-top: 5px;border-radius:5px ;"  ng-click="addHotelRoom('',Edit.id,'')">添加</div>
	<hr>
	<div class="layui-form-item">
		<div class="layui-form-label">左右边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.margin_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.margin_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">左右内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_x"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_x"/> px</span>
	</div>
	<div class="layui-form-item">
		<div class="layui-form-label">上下内边距</div>
		<div class="slider" min="0" max="40" ng-model="Edit.params.padding_y"></div>
		<span class="slider-span"><input ng-model="Edit.params.padding_y"/> px</span>
	</div>
	<?php if(!$type): if(!$noshow_modules || !in_array('ModulePlatform',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示平台</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
			<?php foreach($platform as $pl): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo getplatformname($pl); ?>" name="{{Edit.id}}_platform['<?php echo $pl; ?>']" ng-model="Edit.params.platform['<?php echo $pl; ?>']"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; if(!$noshow_modules || !in_array('ModuleQuanxian',$noshow_modules)): ?>
	<div class="layui-form-item">
		<div class="layui-form-label">显示范围</div>
		<div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="checkbox" type="checkbox" lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
			<?php foreach($memberlevelList as $lv): ?>
			<input class="checkbox" type="checkbox" lay-skin="primary" title="<?php echo $lv['name']; ?>" name="{{Edit.id}}_quanxian[<?php echo $lv['id']; ?>]" ng-model="Edit.params.quanxian[<?php echo $lv['id']; ?>]"/>
			<?php endforeach; ?>
		</div>
	</div>
	<?php endif; ?>
	<div class="layui-form-item" ng-show="!Edit.params.quanxian['all']">
    <div class="layui-form-label">显示用户</div>
    <div class="layui-input-inline" style="border-radius: 0;padding: 2px;">
			<input class="layui-input" ng-model="Edit.params.showmids"/>
    </div>
		<div class="layui-form-mid layui-word-aux">填写用户ID，多个用英文标点逗号(,)分割
	</div>
	<?php else: ?>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有平台" name="{{Edit.id}}_platform['all']" ng-model="Edit.params.platform['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有人" name="{{Edit.id}}_quanxian['all']" ng-model="Edit.params.quanxian['all']"/>
	<input class="checkbox" type="hidden" checked='true' lay-skin="primary" title="所有门店" name="{{Edit.id}}_mendian['all']" ng-model="Edit.params.mendian['all']"/>
  <?php endif; ?>
</div></script>
		<script type="text/ng-template" id="show-hotelroom.html">
<div class="dsn-mod dp-hotel" ng-class="{'dsn-mod-select':Item.id == focus}" ng-style="{'background-color':Item.params.bgcolor,'margin':Item.params.margin_y+'px '+Item.params.margin_x+'px 0','padding':Item.params.padding_y+'px '+Item.params.padding_x+'px'}">
	<div style="line-height: 170px; text-align: center; color: #999; font-size: 14px;width:100%" ng-show="Item.data == ''">一个房型都没有...</div>

	<div class="time-view">
		<div class="time-options">
			<div class="month-tetx">2024-08-14</div>
			<div class="day-tetx">周三入住</div>
		</div>
		<div class="content-text">共1晚</div>
		<div class="time-options">
			<div class="month-tetx">2024-08-15</div>
			<div class="day-tetx">周四离店</div>
		</div>
	</div>

	<div class="db-hotels-list">
		<div class="hotels-options" ng-repeat="item in Item.data">
			<div class="hotel-img">
				<img ng-src="{{item.pic}}"></img>
			</div>
			<div class="hotel-info">
				<div class="hotel-title"  ng-if="Item.params.showname == 1">{{item.name}}</div>
				<div class="hotel-characteristic" ng-if="Item.params.showtag == 1">
					<div class="characteristic-options"  ng-repeat="tag in item.tag" style="background:rgba(<?php echo t('color1rgb'); ?>,0.05);color:<?php echo t('color1'); ?>" >{{tag}}</div>
				</div>
				<div class="hotel-but-view">
					<div class="make-info" >
						<div class="hotel-price" style="color:<?php echo t('color1'); ?>" ng-if="Item.params.showprice != '0'">
							<div>￥</div>
							<div class="hotel-price-num">{{item.sell_price}}</div>
							<div>起</div>
						</div>
						<div class="hotel-text" ng-if="Item.params.showsales != '0'">{{item.sales}}人已预定 | 剩{{item.stock}}{{text['间']}}可订</div>
					</div>
					<div class="hotel-make" style="background:rgba(<?php echo t('color1rgb'); ?>,0.8);color:#FFF">预约</div>
				</div>
			</div>
		</div>
	</div>
</div></script>
	<?php endif; ?>
	

</div>

<script>var ngisfinish = 0;</script>
<script type="text/javascript" src="/static/admin/layui/layui.all.js?v=20210226"></script>
<script type="text/javascript" src="/static/admin/layui/lay/modules/flow.js?v=1"></script>
<script type="text/javascript" src="/static/admin/layui/lay/modules/formSelects-v4.js"></script>
<script type="text/javascript" src="/static/admin/js/jquery-ui.min.js?v=20200228"></script>
<script type="text/javascript" src="/static/admin/ueditor/ueditor.js?v=20220707"></script>
<script type="text/javascript" src="/static/admin/ueditor/135editor.js?v=20200228"></script>
<script type="text/javascript" src="/static/admin/webuploader/webuploader.js?v=2024"></script>
<script type="text/javascript" src="/static/admin/js/qrcode.min.js?v=20200228"></script>
<script type="text/javascript" src="/static/admin/js/dianda.js?v=2022"></script>
<script type="text/javascript" src="/static/admin/js/inputTags.js?v=2026"></script>

<div id="NewsToolBox"></div>
<script type="text/javascript">
		// 解释文字浮层展示
		$('.layui-text-popover').mouseenter(function(){
			let pageHeight = $(window).height() + $(document).scrollTop();
			let bottom = pageHeight - $(this).offset().top
			let topNum = ($(this).offset().top - $(document).scrollTop()).toFixed(2);
			let Height = $(this).find('.layui-textpopover-div').outerHeight();
			$(this).find('.layui-textpopover-div').show()
			let that = this;
			setTimeout(function(){
				if(topNum < (Height/2-15)){
					$(that).find('.layui-textpopover-div').css({'top':-topNum+10+'px','opacity':1,'transition':'opacity .3s'})	
				}else if(bottom < (Height/2-15)){
					$(that).find('.layui-textpopover-div').css({'top': bottom-Height-10 +'px','opacity':1,'transition':'opacity .3s'})	
				}else{
					$(that).find('.layui-textpopover-div').css({'top':-(Height/2-15)+'px','opacity':1,'transition':'opacity .3s'})	
				}
			},100)
		}) 
		$('.layui-text-popover').mouseleave(function(){
			$(this).find('.layui-textpopover-div').css({'opacity':0})	
			$(this).find('.layui-textpopover-div').hide()
		}) 
		$('.layui-textpopover-div').mouseenter(function(){
			$(this).find('.layui-textpopover-div').show()
		})
		$('.layui-textpopover-div').mouseleave(function(){
			$(this).find('.layui-textpopover-div').css({'opacity':0})
			$(this).find('.layui-textpopover-div').hide()
		})
		// 图片浮层展示 示例
		$('.layui-popover').mouseenter(function(){
			let pageHeight = $(window).height() + $(document).scrollTop();
			let bottom = pageHeight - $(this).offset().top
			let topNum = ($(this).offset().top - $(document).scrollTop()).toFixed(2);
			let Height = $(this).find('.layui-popover-div').outerHeight();
			$(this).find('.layui-popover-div').show()
			let that = this;
			setTimeout(function(){
				if(topNum < (Height/2-15)){
					$(that).find('.layui-popover-div').css({'top':-topNum+10+'px','opacity':1,'transition':'opacity .3s'})	
				}else if(bottom < (Height/2-15)){
					$(that).find('.layui-popover-div').css({'top': bottom-Height-10 +'px','opacity':1,'transition':'opacity .3s'})	
				}else{
					$(that).find('.layui-popover-div').css({'top':-(Height/2-15)+'px','opacity':1,'transition':'opacity .3s'})	
				}
			},100)
		}) 
		$('.layui-popover').mouseleave(function(){
			$(this).find('.layui-popover-div').css({'opacity':0})	
			$(this).find('.layui-popover-div').hide()
		}) 
    function copyText(text) {
        var top = document.documentElement.scrollTop;
        var textarea = document.createElement("textarea"); //创建input对象
        var currentFocus = document.activeElement; //当前获得焦点的元素
        var toolBoxwrap = document.getElementById('NewsToolBox'); //将文本框插入到NewsToolBox这个之后
        toolBoxwrap.appendChild(textarea); //添加元素
        textarea.value = text;
        textarea.focus();
        document.documentElement.scrollTop = top;
        if (textarea.setSelectionRange) {
            textarea.setSelectionRange(0, textarea.value.length); //获取光标起始位置到结束位置
        } else {
            textarea.select();
        }
        try {
            var flag = document.execCommand("copy"); //执行复制
        } catch (eo) {
            var flag = false;
        }
        toolBoxwrap.removeChild(textarea); //删除元素
        currentFocus.focus();
        if(flag) layer.msg('复制成功');
        return flag;
    }
		// 查看链接
		function viewLink(path,url=''){
			var pagepath = path;
			if(!url){
				var url = "<?php echo m_url('"+pagepath+"'); ?>"; //拼接 H5 链接
			}
			<?php if(!in_array('mp',$platform)): ?>
				showwxqrcode(pagepath);
				return;
			<?php endif; ?>
			var html = '';
			html+='<div style="margin:20px">';
			html+='	<div style="width:100%;margin:10px 0" id="urlqr"></div>';
			<?php if(in_array('wx',$platform)): ?>
			html+='	<div style="width:100%;text-align:center"><button class="layui-btn layui-btn-sm layui-btn-primary" onclick="showwxqrcode(\''+pagepath+'\')">查看小程序码</button></div>';
			<?php endif; ?>
			html+='	<div style="line-height:25px;"><div><span style="width: 70px;display: inline-block;">链接地址：</span><button class="layui-btn layui-btn-xs layui-btn-primary" onclick="copyText(\''+url+'\')">复制</button></div><div>'+url+'</div></div>';
			html+='	<div style="height:50px;line-height:25px;"><div><span style="width: 70px;display: inline-block;">页面路径：</span><button style="box-sizing: border-box;" class="layui-btn layui-btn-xs layui-btn-primary" onclick="copyText(\'/'+pagepath+'\')">复制</button></div><div>/'+pagepath+'</div></div>';
			html+='</div>';
			layer.open({type:1,'title':'查看链接',area:['500px','430px'],shadeClose:true,'content':html})
			var qrcode = new QRCode('urlqr', {
					text: 'your content',
					width: 200,
					height: 200,
					colorDark : '#000000',
					colorLight : '#ffffff',
					correctLevel : QRCode.CorrectLevel.L
				});
				qrcode.clear();
				qrcode.makeCode(url);
		}
		// 查看小程序码
		function showwxqrcode(pagepath){
			var index = layer.load();
			$.post("<?php echo url('DesignerPage/getwxqrcode'); ?>",{path:pagepath},function(res){
				layer.close(index);
				if(res.status==0){
					layer.open({type:1,area:['300px','350px'],content:'<div style="margin:auto auto;text-align:center"><div style="color:red;width:280px;height:180px;margin-top:100px">'+res.msg+'</div><div style="height:25px;line-height:25px;">'+'/'+pagepath+'</div></div>',title:false,shadeClose:true})
				}else{
					layer.open({type:1,area:['300px','350px'],content:'<div style="margin:auto auto;text-align:center"><img src="'+res.url+'" style="margin-top:20px;max-width:280px;max-height:280px"/><div style="height:25px;line-height:25px;">'+'/'+pagepath+'</div></div>',title:false,shadeClose:true})
				}
			})
		}
</script>
<!-------使用js导出excel文件--------->
<script src="/static/admin/excel/excel.js?v=2024"></script>
<script src="/static/admin/excel/layui_exts/excel.js"></script>
<script>

    var excel = new Excel();
    var excel_name = '<?php echo $excel_name; ?>';
    excel.bind(function (data,title) {
        var excel_field = JSON.parse('<?php echo $excel_field; ?>');
        if(title && title!=undefined){
            //接口返回的title
            var excel_title = title;
        }else{
            //excel_field.php 配置的title
            var excel_title = JSON.parse('<?php echo $excel_title; ?>');
        }
        if(!excel_title || excel_title.length<=0){
            //上面两种都没有title,读取table表格cols中的title，同时filed也更新为table表格cols中的field
            excel_title = [];
            excel_field = [];
            var cols = tableIns.config.cols;
            cols.forEach(function (cols_item, cols_index) {
                console.log(cols_item);
                cols_item.forEach(function (cols_item2, cols_index2) {
                    console.log(cols_item2);
                    if(cols_item2.title){
                        excel_title.push(cols_item2.title)
                        excel_field.push(cols_item2.field)
                    }
                })
            })
        }
        // if(!excel_title || excel_title.length<=0){
        //     layer.msg('未设置标题');
        //     return;
        // }

        // 设置表格内容
        data.forEach(function (item, index) {
            var _data = [];
            excel_title.forEach(function (title, index2) {
                var field = excel_field[index2];
                if(item[field] && item[field]!=undefined){
                    //有filed 匹配field
                    var field_val = item[field];
                    //是整数 长度为10 字段名包含time 判定为时间戳
                    if(parseInt(field_val) == field_val && (field_val.toString()).length==10 && field.includes('time')){
                        field_val = date('Y-m-d H:i:s',field_val);
                    }
                }else{
                    //没有filed 根据顺序来
                    var field_val = item[index2];
                }
                _data.push(field_val);
            })
            data[index] = _data;
        });
        // 设置表头内容
        if(excel_title && excel_title.length>0){
            data.unshift(excel_title);
        }
        // 应用表格样式
        return this.withStyle(data);

    }, excel_name+layui.util.toDateString(Date.now(), '_yyyyMMdd_HHmmss'));

</script>
<script type="text/javascript" src="<?php echo PRE_URL; ?>/static/admin/js/bootstrap.min.js"></script>
<script type="text/javascript" src="<?php echo PRE_URL; ?>/static/admin/js/angular.min.js"></script>
<script type="text/javascript" src="<?php echo PRE_URL; ?>/static/admin/js/angular-ueditor.js?v=0329"></script>
<script type="text/javascript" src="<?php echo PRE_URL; ?>/static/admin/js/hhSwipe.js"></script>
<script type="text/javascript" src="<?php echo PRE_URL; ?>/static/admin/js/iconpicker.js"></script>
<script type="text/javascript" charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=<?php echo $sysset_webinfo['map_key_qq']; ?>"></script>

<script>
$( "#editor-content" ).sortable({ stop:function(event,ui){
		var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
		var arr = [];
		$(".dsn-repeat").find(".dsn-parent").each(function(i, val) {
			arr[i] = val.id;
		});
		var newarr = [];
		angular.forEach(arr, function(aid) {
			angular.forEach($scope.Items, function(obj) {
				if (obj.id == aid) {
					newarr.push(obj);
					return false;
				}
			});
		});
		console.log(newarr)
		$scope.Items = newarr;
		$scope.$apply();
	}})
var ItemID = '';
var ItemObj = '';
var SortPosition = '';
// 拖动什么
function ondragstartChange(ev,obj){
	ev.dataTransfer.setData("item_id",$(obj).attr('id'));
}
// 结束拖动
function dragend(ev){
		ItemObj = '';
		ItemID = '';
}
// 目标元素释放
function drop(ev){
	ev.preventDefault();
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	var item_id=ev.dataTransfer.getData("item_id");
	$(ItemObj).find(".occupying-box").css({'height':'0px','border': 'none'});
	setTimeout(() =>{
		$(ItemObj).find('.dsn-mod-move').prev().remove();
	},200)
	if(ItemID){
		if(SortPosition){
			$scope.addItem(item_id,1)
		}else{
			$scope.addItem(item_id,2)
		}
	}else{
		$scope.addItem(item_id,0)
	}
	ItemObj = '';
	ItemID = '';
}
// 在目标元素上，经过某个元素触发
function dragenter(ev,obj){
	//判断是否为跨层级组件，禁止此方法 
	if(Number($(obj).find('.dsn-mod-move').attr('ItemP')) < 0) return;
	$(obj).find('.dsn-mod-move').before('<div class="occupying-box">释放鼠标将组件添加到此处</div>');
	ItemObj = obj;
	ItemID = $(obj).find(".dsn-parent").attr('id');
	setTimeout(() =>{
		$(obj).find(".occupying-box").css({'height':'50px','border': '1px dashed #00a0e9'});
	})
}	
// 在目标元素上，离开某个元素触发
function dragleave(ev,obj){
	$(obj).find(".occupying-box").css({'height':'0px','border': 'none'});
	setTimeout(() =>{
		$(obj).find('.dsn-mod-move').prev().remove();
	},200)
}
	// 放到何处
function allowDrop(ev,obj){
	ev.preventDefault();
	if(!$(ItemObj).height()) return;
	if(ev.offsetY < ($(ItemObj).height() / 2)){
		// console.log('上盒子')
		let transparency = (8 -(Math.trunc(ev.offsetY/Math.trunc($(ItemObj).height() / 2 /8))))/10;
		SortPosition = true;
		$(ItemObj).find(".occupying-box").eq(0).css("background-color","rgba("+162+","+220+","+247+","+transparency+")");
		$(ItemObj).find(".occupying-box").eq(1).css("background-color",'none');
	}else if(ev.offsetY > ($(ItemObj).height() / 2)){
		// console.log('下盒子')
		let transparency = (Math.trunc((ev.offsetY - $(ItemObj).height() / 2)/Math.trunc($(ItemObj).height() / 2 /8)))/10;
		SortPosition = false;
		$(ItemObj).find(".occupying-box").eq(0).css("background-color",'none');
		$(ItemObj).find(".occupying-box").eq(1).css("background-color","rgba("+162+","+220+","+247+","+transparency+")");
	
	}else{
		ItemID = '';
	}
}

function clone(myObj) {
	if (typeof(myObj) != 'object' || myObj == null) return myObj;
	var newObj = new Object();
	for (var i in myObj) {
		newObj[i] = clone(myObj[i]);
	}
	return newObj;
}
function cloneArr(arr) {
	var newArr = [];
	$(arr).each(function(i, val) {
		newArr.push(clone(val));
	});
	return newArr;
}

function initswipe(jobj) {
	var bullets = jobj.next().get(0).getElementsByTagName('a');
	var banner = Swipe(jobj.get(0), {
		auto: 2000,
		continuous: true,
		disableScroll: false,
		callback: function(pos) {
			var i = bullets.length;
			while (i--) {
				$(bullets[i]).css({'background-color':$(jobj.next()).attr('indicatorcolor'),'width':$(jobj.next()).attr('dotwidth')});
			}
			//console.log($(jobj.next()).attr('indicatorcolor'))
			//console.log($(jobj.next()).attr('indicatoractivecolor'))
			$(bullets[pos]).css({'background-color':$(jobj.next()).attr('indicatoractivecolor'),'width':$(jobj.next()).attr('dotactivewidth')});
		}
	})
}

function isUndefined(n) {
	return void 0 === n
}

function toIndex(){
	$('.toIndex').click();
}

var myModel = angular.module('FoxEditor', ['ng.ueditor']);
myModel.filter('price', function() {
    return function(text){
        return parseFloat(text).toString().split('.')[0];
    }
});
myModel.filter('price_dot', function() {
    return function(text){
        var pricearr = parseFloat(text).toString().split('.');
				if(pricearr[1]) return '.'+pricearr[1];
				else return '';
    }
});
myModel.controller('FoxController', ['$scope', function($scope) {
	$scope.navsCopy = [
		{subletName:'基础组件',children:[
			<?php if(!$noshow_modules || !in_array('ModuleNotice',$noshow_modules)): ?>
			{id:'notice',name:'公告',params:{showimg:0,img:'<?php echo PRE_URL; ?>/static/imgsrc/hotdot3.png',showicon:1,icon:'<?php echo PRE_URL; ?>/static/imgsrc/notice2.png',color:'#666666',bgcolor:'#000000',scroll:3,fontsize:'14',padding_x:'5',padding_y:'7',margin_x:'0',margin_y:'0',borderradius:0,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[{id:'N001',title:'这里是第一条自定义公告的标题',hrefurl:''},{id:'N002',title:'这里是第二条自定义公告的标题',hrefurl:''}],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/notice.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleBanner',$noshow_modules)): ?>
			{id:'banner',name:'轮播图',params:{shape:'',align:'center',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',height:'200',borderradius:'0',dotSite:'8',indicatordots:'1',indicatorcolor:'#EDEEF0',indicatoractivecolor:'#3DB51E',interval:5,previous_margin:0,next_margin:0,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[
						{id:'B0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',hrefurl:''},
						{id:'B0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-2.jpg',hrefurl:''}
				],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/banner.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleSearch',$noshow_modules)): ?>
			{id:'search',name:'搜索框',params:{placeholder:'输入关键字搜索您感兴趣的商品','color':'#666666','bgcolor':'#F6F6F6',borderradius:5,'bordercolor':'#FFFFFF',hrefurl:'/pages/shop/search<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'基础功能>商品搜索',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','openmore':false,'scan_code':false,bid:'<?php echo $bid; ?>'},
				data:[
						{id:'S001',title1:'列表1',title2:'输入搜索信息',hrefurl:''},
						{id:'S002',title1:'列表2',title2:'输入搜索信息',hrefurl:''},
						{id:'S003',title1:'列表3',title2:'输入搜索信息',hrefurl:''},
					],
					logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/search.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleShop',$noshow_modules)): ?>
			{id:'shop',name:'店招',params:{style:'1',bgimg:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',logo:'1',name:'1',menu:'1',navcolor:'#FFFFFF',bid:'<?php echo $bid; ?>',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[
				{id:'S001',text:'首页',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-home.png',color:'#FFFFFF',hrefurl:''},
				{id:'S002',text:'全部商品',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-proall.png',color:'#FFFFFF',hrefurl:''},
				{id:'S003',text:'促销商品',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-procx.png',color:'#FFFFFF',hrefurl:''},
				{id:'S004',text:'店铺公告',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-notice.png',color:'#FFFFFF',hrefurl:''}],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/shop2.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleVideo',$noshow_modules)): ?>
			{id:'video',name:'视频',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',type:0,'pic':'','src':'http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',autoplay:'0',loop:'0',muted:'0',controls:'1',fullscreen:'1',butposition:'center',objectfit:'contain',videoheight:'30'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/video.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModulePicture',$noshow_modules)): ?>
			{id:'picture',name:'单图',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',borderradius:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[{id:'P0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',hrefurl:'',option:'0'}],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/picture.png'
			},
			<?php endif; ?>
			{id:'classify2',name:'分类页2',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',classifypage:1},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/product.png'},
			<?php if(!$noshow_modules || !in_array('ModulePictures',$noshow_modules)): ?>
			{id:'pictures',name:'多图',params:{style:'2',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',imageRadius:'5',imageWidth:'24',imageHeight:'140',imageRight:'2'},
				data:[
					{id:'PS000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-2.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-3.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-4.jpg',hrefurl:'',option:'0',gototype:'0'}
				],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/pictures.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleCube',$noshow_modules)): ?>
			{id: "cube",name: "图片魔方",params: {bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',layout: {},showIndex: 0,selection: {},currentPos: {},currentLayout: {isempty: 1},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/cube.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleHotspot',$noshow_modules)): ?>
			{id:'hotspot',name:'热区',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',lookquanxian:{'all':true},tip:''},data:[
				{id:'H0000000000001',hrefurl:'',hrefname:'',left:'0',top:'0',width:'50',height:'50'}
			],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/hotspot.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleTitle',$noshow_modules)): ?>
			{id:'title',name:'标题',params:{bgcolor:'#F6F6F6',title:'猜你喜欢',fontsize:'14',color:'#333',showicon:1,iconsize:'14',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png',linecolor:'#DDDDDD',margin_x:'0',margin_y:'0',padding_x:'30',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/title.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleText',$noshow_modules)): ?>
			{id:'text',name:'文本',params:{content:'文本内容',bgcolor:'#FFFFFF',fontsize:'14',lineheight:'20',letter_spacing:'0',bgpic:'',align:'left',color:'#000',margin_x:'0',margin_y:'0',padding_x:'5',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',hrefurl:''},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/text.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleRichtext',$noshow_modules)): ?>
			{id:'richtext',name:'富文本',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},content:'',logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/richtext.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleButton',$noshow_modules)): ?>
			{id:'button',name:'按钮',params:{bgcolor:'#FFFFFF',btntext:'按钮文字',btnbgcolor:'<?php echo t('color1'); ?>',btnbordercolor:'<?php echo t('color1'); ?>',btnfontsize:'14',btncolor:'#FFFFFF',btnwidth:'300',btnheight:'40',btnradius:'20',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},hrefurl:'',logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/button.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleMenu',$noshow_modules)): ?>
			{id:'menu',name:'按钮导航',params:{num:'5',radius:'0',fontsize:'14',fontheight:'30',pernum:'10',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'5',iconsize:'40',showicon:'1',showline:'0',showtitle:'0','title':'导航标题','titlesize':'16','titlecolor':'#333333','boxradius':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
					data:[
						{id:'F0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',text:'按钮1',hrefurl:'',color:'#666666'},
						{id:'F0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-2.jpg',text:'按钮2',hrefurl:'',color:'#666666'},
						{id:'F0000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-3.jpg',text:'按钮3',hrefurl:'',color:'#666666'},
						{id:'F0000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-4.jpg',text:'按钮4',hrefurl:'',color:'#666666'},
						{id:'F0000000000005',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',text:'按钮5',hrefurl:'',color:'#666666'}
					],
					logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/menu.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleDhlist',$noshow_modules)): ?>
			{id:'dhlist',name:'列表导航',params:{titlemarginleft:'8',bgcolor:'#FFFFFF',fontsize1:'16',fontsize2:'12',color1:'#333',color2:'#999',margin_x:'0',margin_y:'8',padding_x:'5',padding_y:'10',arrowshow:1,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[
					{id:'D001',title1:'列表1',title2:'备注信息',showicon:1,iconcolor:'#CB5858',iconsize:'16',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png'},
					{id:'D002',title1:'列表2',title2:'备注信息',showicon:1,iconcolor:'#CB5858',iconsize:'16',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png'}
				],
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/dhlist.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleCover',$noshow_modules)): ?>
			{id:'cover',name:'悬浮按钮',params:{style:'1',text:'咨询',fontsize:'14',bgcolor:'rgba(51, 136, 255, 0.7)',color:'#FFFFFF',border:0,bordercolor:'rgba(255, 255, 255, 0.7)',top:80,left:80,width:'50',height:'50',radius:'25',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',hrefurl:'/pages/kefu/index<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'功能>在线客服',pic:'<?php echo PRE_URL; ?>/static/img/zixun.png',picwidth:50,picheight:50,'alignstyle':'1',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/cover.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleLine',$noshow_modules)): ?>
			{id:'line',name:'辅助线',params:{height:'2',style:'dashed',color:'#666666','bgcolor':'#F6F6F6',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/line.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleBlank',$noshow_modules)): ?>
			{id:'blank',name:'辅助空白',params:{height:'50',bgcolor:'#F6F6F6',margin_x:'0',margin_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/blank.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleTab',$noshow_modules)): if(!$type): ?>
			{id:'tab',name:'选项卡',params:{bgcolor:'#F7F7F8',bgcolor2:'#FFFFFF',selectindex:0,fontsize1:'14',color1:'#333',color2:'<?php echo t('color1'); ?>',arrowshow:'1',arrowcolor:'<?php echo t('color1'); ?>',borderradius:'0',fixedtop:'0',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[
				{id:'T0000000000001',name:'选项一',tabid:''},
				{id:'T0000000000002',name:'选项二',tabid:''},
				{id:'T0000000000003',name:'选项三',tabid:''}
			],
			logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/tab.png'},
			<?php endif; ?>
			<?php endif; if(!$noshow_modules || !in_array('ModuleMap',$noshow_modules)): ?>
			{id:'map',name:'地图',params:{height:'300','bgcolor':'#F6F6F6',address:'天安门广场',longitude:'116.397827',latitude:'39.90374',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/map.png'},
			<?php endif; ?>
		]},
		{subletName:'商品组件',children:[
			<?php if(!$noshow_modules || !in_array('ModuleProduct',$noshow_modules)): if($auth_data=='all' || in_array('ShopProduct/*',$auth_data)): ?>
			{id:'product',name:'商城商品',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',classifypage:0},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/product.png'},
			<?php endif; ?>
			<?php endif; ?>
			{id:'product_pages',name:'商品分类-Pages',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pages',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/product.png'},
			{id:'product_pagesb',name:'商品分类-PagesB',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pagesB',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/product.png'},
			{id:'product_pagesz',name:'商品分类-PagesZ',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pagesZ',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/product.png'},
			<?php if(($bid==0 || $bset['business_selfscore']==1 || $business_scoreshop==1) && ($auth_data=='all' || in_array('ScoreshopProduct/*',$auth_data))): ?>
			{id:'scoreshop',name:'<?php echo t('积分'); ?>兑换',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/scoreshop2.png'},
			<?php endif; if($auth_data=='all' || in_array('CollageProduct/*',$auth_data)): ?>
			{id:'collage',name:'拼团商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,shopstyle:1,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/collage2.png'},
			<?php endif; if($auth_data=='all' || in_array('CycleProduct/*',$auth_data)): ?>
			{id:'cycle',name:'周期购商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/cycle.png'},
			<?php endif; if($auth_data=='all' || in_array('KanjiaProduct/*',$auth_data)): ?>
			{id:'kanjia',name:'砍价商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/kanjia2.png'},
			<?php endif; if($auth_data=='all' || in_array('SeckillProduct/*',$auth_data)): ?>
			{id:'seckill',name:'秒杀商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',showtime:'0',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,shopstyle:1,showtitle:1,titlestyle:1,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/seckill.png'},
			<?php endif; if($auth_data=='all' || in_array('TuangouProduct/*',$auth_data)): ?>
			{id:'tuangou',name:'团购商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/tuangou.png'},
			<?php endif; if($auth_data=='all' || in_array('LuckyCollageProduct/*',$auth_data)): ?>
			{id:'luckycollage',name:'幸运拼团',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/luckycollage.png'},
			<?php endif; if($auth_data=='all' || in_array('Restaurant/*',$auth_data)): ?>
			{id:'restaurant_product',name:'餐饮菜品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'0',showtype:'0',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/restaurant_product.png'},
			<?php endif; if(getcustom('extend_tour')): if($auth_data=='all' || in_array('TourActivity/*',$auth_data)): ?>
				{id:'tour',name:'活动商品',params:{style:'2',bgcolor:'#FFFFFF',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showname:'1',showprice:'1',showsales:0,productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:'6',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/tour.png'},
				<?php endif; ?>
			<?php endif; if($auth_data=='all' || in_array('YuyueList/*',$auth_data)): ?>
			{id:'yuyue',name:'预约服务',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',showisopen:'0',showcat:'0',showfwtype:'0',showsellpoint:'0',showfuwu:'0',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/yuyue.png'},
			<?php endif; if($auth_data=='all' || in_array('KechengList/*',$auth_data)): ?>
			{id:'kecheng',name:'课程列表',params:{style:'2',bgcolor:'#F7F7F8',showpic:'1',showname:'1',showcart:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',kctype:'all',chaptertype:'all'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/kecheng.png'},
			<?php endif; if($bid==0 && ($auth_data=='all' || in_array('Business/*',$auth_data))): ?>
			{id:'business',name:'商户',params:{titlecolor:'#333',bgcolor:'#F6F6F6',showstyle:'1',businessfrom:'1',showpingfen:'1',showsales:'1',showaddress:'1',showjianjie:'0',showdistance:'0',showproduct:'0',showmaidan:'0',showscoreshop:'0',showinstore:'0',showseckill:'0',showtuangou:'0',showkanjia:'0',showcollage:'0',showluckycollage:'0',showqueuefreeratio:'0',distance:'30',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','intotype':0,showcategroy:'0'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/business2.png'},
			<?php endif; if(getcustom('hotel')): if($auth_data=='all' || in_array('Hotel/*',$auth_data)): ?>
					{id:'hotel',name:"<?php echo $text['酒店']; ?>列表",logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/hotel.png'},
				<?php endif; if($auth_data=='all' || in_array('Hotel/*',$auth_data)): ?>
					{id:'hotelroom',name:"房型列表",logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/hotel.png'},
				<?php endif; ?>
			<?php endif; ?>
		]},
		{subletName:'其他组件',children:[
		<?php if(getcustom('extend_chongzhi')): ?>
			{id:'livepay',name:'生活缴费',params:{radius:'5',fontsize:'14',fontheight:'30',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'5',iconsize:'30',showicon:'1','title':'生活缴费','titlesize':'16','titlecolor':'#333333','boxradius':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
					data:[
						{id:'F0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-1.png',text:'电费',hrefurl:'',color:'#666666',type:'electric'},
						{id:'F0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-2.png',text:'水费',hrefurl:'',color:'#666666',type:'water'},
						{id:'F0000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-3.png',text:'燃气费',hrefurl:'',color:'#666666',type:'gas'},
						{id:'F0000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-4.png',text:'固话费',hrefurl:'',color:'#666666',type:'heating'},
						{id:'F0000000000005',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-5.png',text:'宽带费',hrefurl:'',color:'#666666',type:'charging'},
						{id:'F0000000000006',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-6.png',text:'手机充值',hrefurl:'',color:'#666666',type:'phone'}
					],
					logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/costliving.png'
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleArticle',$noshow_modules)): if($auth_data=='all' || in_array('Article/*',$auth_data)): ?>
			{id:'article',name:'文章列表',params:{style:'4',showpic:'1',articlefrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,showtime:'1',showreadcount:'1',margin_x:'0',margin_y:'0',padding_x:'5',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',articlefrom:'1',borderradius:'4',showline:'0'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/article.png'},
			<?php endif; ?>
			<?php endif; if($auth_data=='all' || in_array('Coupon/*',$auth_data)): ?>
			{id:'coupon',name:'<?php echo t('优惠券'); ?>',params:{style:'1',titlecolor:'#FFFFFF',remarkcolor:'#E5E5E5',bgcolor:'#FFFFFF',bgpic:'<?php echo PRE_URL; ?>/static/imgsrc/coupon1.png',couponfrom:'1',sortby:'sort',bid:'<?php echo $bid; ?>',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'4',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/coupon.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleUserinfo',$noshow_modules)): ?>
			{id:'userinfo',name:'<?php echo t('会员'); ?>信息',
				params:{moneyshow:'1',scoreshow:'1',couponshow:'1',seticonshow:'1',cardshow:'0',membercodeshow:'0',realnameVerifyShow:'0',levelshow:'1',levelclick:'1'
					,ordershow:'1',commissionshow:'1',freezecreditshow:'0',scoreshowrefund:'1',midshow:'0',bgimg:'<?php echo PRE_URL; ?>/static/imgsrc/userinfobg.png',style:'2',margin_x:'0',margin_y:'0',padding_x:'10'
					,padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','seticonsize':'17',showtype:'0',ordertitle:'我的订单',
					orderData:[
						{text:'待付款',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fukuan.png',show:'1',id:'F0000000000001',type:'daifukuan'},
						{text:'待发货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fahuo.png',show:'1',id:'F0000000000002',type:'daifahuo'},
						{text:'待收货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shouhuo.png',show:'1',id:'F0000000000003',type:'daishouhuo'},
						{text:'已完成',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/wancheng.png',show:'1',id:'F0000000000004',type:'wancheng'},
						{text:'退款/售后',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/tksh.png',show:'1',id:'F0000000000005',type:'tuikuan'}],
					'showsilvermoney':'0','showgoldmoney':'0','showinviteredpacket':'0',shopscoreshow:'0',dedamountshow:'0'
				},
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/userinfo.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleShortvideo',$noshow_modules)): if($auth_data=='all' || in_array('Shortvideo/*',$auth_data)): ?>
			{id:'shortvideo',name:'短视频',params:{bgcolor:'#FFFFFF',showlogo:'1',showviewnum:'1',showzannum:'1',productfrom:'1',bid:'',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',category:'',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/shortvideo.png'},
			<?php endif; ?>
			<?php endif; if($bid==0 && in_array('wx',$platform) && ($auth_data=='all' || in_array('Live/*',$auth_data))): ?>
			{id:'liveroom',name:'小程序直播',params:{titlecolor:'#333',bgcolor:'#F6F6F6',liveroomfrom:'1',sortby:'sort',shownum:12,margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/liveroom.png'},
			<?php endif; if($bid==0 && in_array('wx',$platform)): ?>
			{id:'channelslive',name:'视频号直播',params:{titlecolor:'#333',bgcolor:'#F6F6F6',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',live_height:'50',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/channelslive.png'},
			<?php endif; if(!$type): if($auth_data=='all' || in_array('Form/*',$auth_data)): ?>
				{id:'form',name:'表单',params:{style:'1',fontsize:'14',color:'#000000',showmuststar:true,inputbordercolor:'#EEEEEE',inputbgcolor:'#FFFFFF','linecolor':'#FFFFFF',bgcolor:'#FFFFFF',btntext:'提 交',btnbgcolor:'<?php echo t('color1'); ?>',btnbordercolor:'<?php echo t('color1'); ?>',btnfontsize:'14',btncolor:'#FFFFFF',btnwidth:'300',btnheight:'40',btnradius:'20',margin_top:'0',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',hrefurl:'/pagesA/form/formlog',hrefname:'基础功能>提交记录','isquery':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','show_submember':false,'is_jingmo':'0'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/form.png'},
				<?php if(getcustom('form_log_plug')): ?>
				{id:'form-log',name:'表单动态',params:{title:'最新动态',bgcolor:'#FFFFFF',hrefurl:'/pagesA/form/formlog2',sortby:'sort',bid:'<?php echo $bid; ?>',borderradius:'0',margin_x:'0',margin_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/form-log.png'},
				<?php endif; ?>
				<?php endif; ?>
			<?php endif; if(getcustom('form_data')): if($auth_data=='all' || in_array('Form/*',$auth_data)): ?>
					{id:'formdata',name:'表单数据',params:{titlecolor:'#333',bgcolor:'#F6F6F6',formfrom:'1',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','intotype':0},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/formdata.png'},
				<?php endif; ?>
			<?php endif; if(getcustom('lbs_search')): ?>
				{id:'lbssearch',name:'定位检索',params:{placeholder:'输入关键字进行搜索','color':'#666666','bgcolor':'#F6F6F6',borderradius:5,'bordercolor':'#FFFFFF',hrefurl:'/pagesExt/business/blist<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'基础功能>商家列表',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},'showlevel':3,logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/lbssearch.png'},
			<?php endif; if(getcustom('zhaopin') && $bid==0 && ($auth_data=='all' || in_array('Zhaopin/*',$auth_data))): ?>
				{id:'zhaopin',name:'招聘列表',params:{style:'2',bgcolor:'#F7F7F8',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/zhaopin.png'},
				{id:'qiuzhi',name:'求职列表',params:{style:'2',bgcolor:'#F7F7F8',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/qiuzhi.png'},
			<?php endif; if(getcustom('car_hailing')): ?>
			{id:'carhailing',name:'约车列表',params:{bgcolor:'#F7F7F8',bid:'<?php echo $bid; ?>',cid:'','showdate':'1',sortby:'sort',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/carhailing.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleWxad',$noshow_modules)): if(in_array('wx',$platform)): ?>
			{id:'wxad',name:'小程序广告',params:{adtype:'banner',unitid:'',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{"all":false,"wx":true}},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/wxad.png'},
			<?php endif; ?>
			<?php endif; if(getcustom('ad_adset')): ?>
			{id:'adset',name:'ADSET',params:{adtype:'banner',adpid:'',bgcolor:'#ffffff',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{"all":true}},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/wxad.png'},
			<?php endif; if(getcustom('yx_jidian') && $bid!=0 && ($auth_data=='all' || in_array('Jidian/*',$auth_data))): ?>
			{id:'jidian',name:'集点',params:{bgcolor:'#FDEEE9',sortby:'sort',bid:'<?php echo $bid; ?>',borderradius:'0',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/jidian.png'},
			<?php endif; if(getcustom('show_location')): if($sysset['mode']==2): ?>
				{id:'location',name:'定位组件',params:{style:'1',bgcolor:'#FFFFFF',borderradius:5,bordercolor:'#DDDDDD',color:"#666666",showlevel:'2',showsearch:'1',showicon:'1',bid:'<?php echo $bid; ?>',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[{id:'L0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/img/cart_64.png',hrefurl:''},{id:'L0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/img/message_64.png',hrefurl:''}],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/location.png'},
				<?php endif; if($sysset['mode']==3): ?>
				{id:'location',name:'定位组件',params:{style:'1',bgcolor:'#FFFFFF',borderradius:5,bordercolor:'#DDDDDD',color:"#666666",showlevel:'0',showsearch:'1',showicon:'1',bid:'<?php echo $bid; ?>',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[{id:'L0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/img/cart_64.png',hrefurl:''},{id:'L0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/img/message_64.png',hrefurl:''}],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/location.png'},
				<?php endif; ?>
			<?php endif; ?>
		]}
		],
	$scope.navs = [
			<?php if(!$noshow_modules || !in_array('ModuleNotice',$noshow_modules)): ?>
			{id:'notice',name:'公告',params:{showimg:0,img:'<?php echo PRE_URL; ?>/static/imgsrc/hotdot3.png',showicon:1,icon:'<?php echo PRE_URL; ?>/static/imgsrc/notice2.png',color:'#666666',bgcolor:'#FFFFFF',scroll:3,fontsize:'14',padding_x:'5',padding_y:'7',margin_x:'0',margin_y:'0',borderradius:0,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[{id:'N001',title:'这里是第一条自定义公告的标题',hrefurl:''},{id:'N002',title:'这里是第二条自定义公告的标题',hrefurl:''}]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleBanner',$noshow_modules)): ?>
			{id:'banner',name:'轮播图',params:{shape:'',align:'center',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',height:'200',borderradius:'0',dotSite:'8',indicatordots:'1',indicatorcolor:'#EDEEF0',indicatoractivecolor:'#3DB51E',interval:5,previous_margin:0,next_margin:0,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				 data:[
						 {id:'B0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',hrefurl:''},
						 {id:'B0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-2.jpg',hrefurl:''}
				 ]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleShop',$noshow_modules)): ?>
			{id:'shop',name:'店招',params:{style:'1',bgimg:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',logo:'1',name:'1',menu:'1',navcolor:'#FFFFFF',bid:'<?php echo $bid; ?>',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				 data:[
				 {id:'S001',text:'首页',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-home.png',color:'#FFFFFF',hrefurl:''},
				 {id:'S002',text:'全部商品',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-proall.png',color:'#FFFFFF',hrefurl:''},
				 {id:'S003',text:'促销商品',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-procx.png',color:'#FFFFFF',hrefurl:''},
				 {id:'S004',text:'店铺公告',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shop-notice.png',color:'#FFFFFF',hrefurl:''}]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleSearch',$noshow_modules)): ?>
			{id:'search',name:'搜索框',params:{placeholder:'输入关键字搜索您感兴趣的商品','color':'#666666','bgcolor':'#F6F6F6',borderradius:5,'bordercolor':'#FFFFFF',hrefurl:'/pages/shop/search<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'基础功能>商品搜索',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','openmore':false,'scan_code':false,bid:'<?php echo $bid; ?>'},
				data:[
						{id:'S001',title1:'列表1',title2:'输入搜索信息',hrefurl:''},
						{id:'S002',title1:'列表2',title2:'输入搜索信息',hrefurl:''},
						{id:'S003',title1:'列表3',title2:'输入搜索信息',hrefurl:''},
					]
			},
			<?php endif; if(getcustom('lbs_search')): ?>
				{id:'lbssearch',name:'定位检索',params:{placeholder:'输入关键字进行搜索','color':'#666666','bgcolor':'#F6F6F6',borderradius:5,'bordercolor':'#FFFFFF',hrefurl:'/pagesExt/business/blist<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'基础功能>商家列表',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},'showlevel':3},
			<?php endif; if(!$noshow_modules || !in_array('ModulePicture',$noshow_modules)): ?>
			{id:'picture',name:'单图',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',borderradius:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[{id:'P0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',hrefurl:'',option:'0'}]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModulePictures',$noshow_modules)): ?>
			{id:'pictures',name:'多图',params:{style:'2',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',imageRadius:'5',imageWidth:'24',imageHeight:'140',imageRight:'2'},
				data:[
					{id:'PS000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-2.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-3.jpg',hrefurl:'',option:'0',gototype:'0'},
					{id:'PS000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-4.jpg',hrefurl:'',option:'0',gototype:'0'}
				]
			},
			<?php endif; ?>
			{id:'classify2',name:'分类页2',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},category:{'all':true},category2:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',classifypage:1},data:[]},
			<?php if(!$noshow_modules || !in_array('ModuleCube',$noshow_modules)): ?>
			{id: "cube",name: "图片魔方",params: {bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',layout: {},showIndex: 0,selection: {},currentPos: {},currentLayout: {isempty: 1},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if(!$noshow_modules || !in_array('ModuleRichtext',$noshow_modules)): ?>
			{id:'richtext',name:'富文本',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},content:''},
			<?php endif; if(!$noshow_modules || !in_array('ModuleVideo',$noshow_modules)): ?>
			{id:'video',name:'视频',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',type:0,'pic':'','src':'http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',autoplay:'0',loop:'0',muted:'0',controls:'1',fullscreen:'1',butposition:'center',objectfit:'contain',videoheight:'30'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleTitle',$noshow_modules)): ?>
			{id:'title',name:'标题',params:{bgcolor:'#F6F6F6',title:'猜你喜欢',fontsize:'14',color:'#333',showicon:1,iconsize:'14',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png',linecolor:'#DDDDDD',margin_x:'0',margin_y:'0',padding_x:'30',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleDhlist',$noshow_modules)): ?>
			{id:'dhlist',name:'列表导航',params:{titlemarginleft:'8',bgcolor:'#FFFFFF',fontsize1:'16',fontsize2:'12',color1:'#333',color2:'#999',margin_x:'0',margin_y:'8',padding_x:'5',padding_y:'10',arrowshow:1,quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
				data:[
					{id:'D001',title1:'列表1',title2:'备注信息',showicon:1,iconcolor:'#CB5858',iconsize:'16',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png'},
					{id:'D002',title1:'列表2',title2:'备注信息',showicon:1,iconcolor:'#CB5858',iconsize:'16',imgurl:'<?php echo PRE_URL; ?>/static/img/xihuan.png'}
				]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleText',$noshow_modules)): ?>
			{id:'text',name:'文本',params:{content:'文本内容',bgcolor:'#FFFFFF',fontsize:'14',lineheight:'20',letter_spacing:'0',bgpic:'',align:'left',color:'#000',margin_x:'0',margin_y:'0',padding_x:'5',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',hrefurl:''}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleButton',$noshow_modules)): ?>
			{id:'button',name:'按钮',params:{bgcolor:'#FFFFFF',btntext:'按钮文字',btnbgcolor:'<?php echo t('color1'); ?>',btnbordercolor:'<?php echo t('color1'); ?>',btnfontsize:'14',btncolor:'#FFFFFF',btnwidth:'300',btnheight:'40',btnradius:'20',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},hrefurl:''},
			<?php endif; if(!$noshow_modules || !in_array('ModuleMenu',$noshow_modules)): ?>
			{id:'menu',name:'按钮导航',params:{num:'5',radius:'0',fontsize:'14',fontheight:'30',pernum:'10',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'5',iconsize:'40',showicon:'1',showline:'0',showtitle:'0','title':'导航标题','titlesize':'16','titlecolor':'#333333','boxradius':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
					data:[
						{id:'F0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',text:'按钮1',hrefurl:'',color:'#666666'},
						{id:'F0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-2.jpg',text:'按钮2',hrefurl:'',color:'#666666'},
						{id:'F0000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-3.jpg',text:'按钮3',hrefurl:'',color:'#666666'},
						{id:'F0000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-4.jpg',text:'按钮4',hrefurl:'',color:'#666666'},
						{id:'F0000000000005',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',text:'按钮5',hrefurl:'',color:'#666666'}
					]
			},
			<?php endif; if(!$noshow_modules || !in_array('ModuleCover',$noshow_modules)): ?>
			{id:'cover',name:'悬浮按钮',params:{style:'1',text:'咨询',fontsize:'14',bgcolor:'rgba(51, 136, 255, 0.7)',color:'#FFFFFF',border:0,bordercolor:'rgba(255, 255, 255, 0.7)',top:80,left:80,width:'50',height:'50',radius:'25',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',hrefurl:'/pages/kefu/index<?php echo $bid==0 ? '' : '?bid='.$bid; ?>',hrefname:'功能>在线客服',pic:'<?php echo PRE_URL; ?>/static/img/zixun.png',picwidth:50,picheight:50,'alignstyle':'1',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleLine',$noshow_modules)): ?>
			{id:'line',name:'辅助线',params:{height:'2',style:'dashed',color:'#666666','bgcolor':'#F6F6F6',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleBlank',$noshow_modules)): ?>
			{id:'blank',name:'辅助空白',params:{height:'50',bgcolor:'#F6F6F6',margin_x:'0',margin_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleTab',$noshow_modules)): if(!$type): ?>
			{id:'tab',name:'选项卡',params:{bgcolor:'#F7F7F8',bgcolor2:'#FFFFFF',selectindex:0,fontsize1:'14',color1:'#333',color2:'<?php echo t('color1'); ?>',arrowshow:'1',arrowcolor:'<?php echo t('color1'); ?>',borderradius:'0',fixedtop:'0',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[
				{id:'T0000000000001',name:'选项一',tabid:''},
				{id:'T0000000000002',name:'选项二',tabid:''},
				{id:'T0000000000003',name:'选项三',tabid:''}
			]},
			<?php endif; ?>
			<?php endif; if(!$noshow_modules || !in_array('ModuleMap',$noshow_modules)): ?>
			{id:'map',name:'地图',params:{height:'300','bgcolor':'#F6F6F6',address:'天安门广场',longitude:'116.397827',latitude:'39.90374',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'}},
			<?php endif; if(!$noshow_modules || !in_array('ModuleHotspot',$noshow_modules)): ?>
			{id:'hotspot',name:'热区',params:{bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/banner-1.jpg',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[
				{id:'H0000000000001',hrefurl:'',hrefname:'',left:'0',top:'0',width:'50',height:'50'}
			]},
			<?php endif; if(!$noshow_modules || !in_array('ModuleProduct',$noshow_modules)): if($auth_data=='all' || in_array('ShopProduct/*',$auth_data)): ?>
			{id:'product',name:'商城商品',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; ?>
			<?php endif; ?>
			{id:'product_pages',name:'商品分类-Pages',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pages',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			{id:'product_pagesb',name:'商品分类-PagesB',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pagesB',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			{id:'product_pagesz',name:'商品分类-PagesZ',params:{showbdistance:0,style:'2',bgcolor:'#FFFFFF',probgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',showstock:'0',showbname:'0',showcoupon:'0',showcommission:0,icback:'0',productfrom:'pagesZ',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php if($auth_data=='all' || in_array('CollageProduct/*',$auth_data)): ?>
			{id:'collage',name:'拼团商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,shopstyle:1,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('CycleProduct/*',$auth_data)): ?>
		    {id:'cycle',name:'周期购商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('KanjiaProduct/*',$auth_data)): ?>
			{id:'kanjia',name:'砍价商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('SeckillProduct/*',$auth_data)): ?>
			{id:'seckill',name:'秒杀商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',showrange:'0',showtime:'0',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,shopstyle:1,showtitle:1,titlestyle:1,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('TuangouProduct/*',$auth_data)): ?>
			{id:'tuangou',name:'团购商品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('LuckyCollageProduct/*',$auth_data)): ?>
			{id:'luckycollage',name:'幸运拼团',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('Restaurant/*',$auth_data)): ?>
			{id:'restaurant_product',name:'餐饮菜品',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'0',showtype:'0',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if(($bid==0 || $bset['business_selfscore']==1 || $business_scoreshop == 1) && ($auth_data=='all' || in_array('ScoreshopProduct/*',$auth_data))): ?>
			{id:'scoreshop',name:'<?php echo t('积分'); ?>兑换',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('Coupon/*',$auth_data)): ?>
			{id:'coupon',name:'<?php echo t('优惠券'); ?>',params:{style:'1',titlecolor:'#FFFFFF',remarkcolor:'#E5E5E5',bgcolor:'#FFFFFF',bgpic:'<?php echo PRE_URL; ?>/static/imgsrc/coupon1.png',couponfrom:'1',sortby:'sort',bid:'<?php echo $bid; ?>',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'4',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if(!$noshow_modules || !in_array('ModuleArticle',$noshow_modules)): if($auth_data=='all' || in_array('Article/*',$auth_data)): ?>
			{id:'article',name:'文章列表',params:{style:'4',showpic:'1',articlefrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,showtime:'1',showreadcount:'1',margin_x:'0',margin_y:'0',padding_x:'5',padding_y:'5',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',articlefrom:'1',articlefrom:'1',borderradius:'4',showline:'0'},data:[]},
			<?php endif; ?>
			<?php endif; if(!$type): if($auth_data=='all' || in_array('Form/*',$auth_data)): ?>
				{id:'form',name:'表单',params:{style:'1',fontsize:'14',color:'#000000',showmuststar:true,inputbordercolor:'#EEEEEE',inputbgcolor:'#FFFFFF','linecolor':'#FFFFFF',bgcolor:'#FFFFFF',btntext:'提 交',btnbgcolor:'<?php echo t('color1'); ?>',btnbordercolor:'<?php echo t('color1'); ?>',btnfontsize:'14',btncolor:'#FFFFFF',btnwidth:'300',btnheight:'40',btnradius:'20',margin_top:'0',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'10',hrefurl:'/pagesA/form/formlog',hrefname:'基础功能>提交记录','isquery':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','show_submember':false,'is_jingmo':'0'},data:[]},
				<?php if(getcustom('form_log_plug')): ?>
				{id:'form-log',name:'表单动态',params:{title:'最新动态',bgcolor:'#FFFFFF',hrefurl:'/pagesA/form/formlog2',sortby:'sort',bid:'<?php echo $bid; ?>',borderradius:'0',margin_x:'0',margin_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
				<?php endif; ?>
				<?php endif; ?>
			<?php endif; if(!$noshow_modules || !in_array('ModuleShortvideo',$noshow_modules)): if($auth_data=='all' || in_array('Shortvideo/*',$auth_data)): ?>
			{id:'shortvideo',name:'短视频',params:{bgcolor:'#FFFFFF',showlogo:'1',showviewnum:'1',showzannum:'1',productfrom:'1',bid:'',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',category:'',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; ?>
			<?php endif; if($bid==0 && in_array('wx',$platform) && ($auth_data=='all' || in_array('Live/*',$auth_data))): ?>
			{id:'liveroom',name:'直播列表',params:{titlecolor:'#333',bgcolor:'#F6F6F6',liveroomfrom:'1',sortby:'sort',shownum:12,margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($bid==0 && in_array('wx',$platform)): ?>
			{id:'channelslive',name:'视频号直播',params:{titlecolor:'#333',bgcolor:'#F6F6F6',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',live_height:'50',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($bid==0 && ($auth_data=='all' || in_array('Business/*',$auth_data))): ?>
			{id:'business',name:'商户',params:{titlecolor:'#333',bgcolor:'#F6F6F6','showstyle':'1',businessfrom:'1',showpingfen:'1',showsales:'1',showaddress:'1',showjianjie:'0',showdistance:'0',showproduct:'0',showturnover:'0',showmaidan:'0',showscoreshop:'0',showinstore:'0',showseckill:'0',showtuangou:'0',showkanjia:'0',showcollage:'0',showluckycollage:'0',showqueuefreeratio:'0',distance:'30',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','intotype':0,showcategroy:'0'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('YuyueList/*',$auth_data)): ?>
			{id:'yuyue',name:'预约服务',params:{style:'2',bgcolor:'#FFFFFF',showname:'1',showcart:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',showisopen:'0',showcat:'0',showfwtype:'0',showsellpoint:'0',showfuwu:'0',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if($auth_data=='all' || in_array('KechengList/*',$auth_data)): ?>
			{id:'kecheng',name:'课程列表',params:{style:'2',bgcolor:'#F7F7F8',showpic:'1',showname:'1',showcart:'1',showprice:'1',showsales:'1',saleimg:'',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort',kctype:'all',chaptertype:'all'},data:[]},
			<?php endif; if(getcustom('zhaopin') && $bid==0 && ($auth_data=='all' || in_array('Zhaopin/*',$auth_data))): ?>
				{id:'zhaopin',name:'招聘列表',params:{style:'2',bgcolor:'#F7F7F8',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
				{id:'qiuzhi',name:'求职列表',params:{style:'2',bgcolor:'#F7F7F8',productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if(getcustom('car_hailing')): ?>
			{id:'carhailing',name:'约车列表',params:{bgcolor:'#F7F7F8',bid:'<?php echo $bid; ?>',cid:'','showdate':'1',sortby:'sort',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',group:{'all':true},quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/carhailing.png'},
			<?php endif; if(!$noshow_modules || !in_array('ModuleWxad',$noshow_modules)): if(in_array('wx',$platform)): ?>
			{id:'wxad',name:'小程序广告',params:{adtype:'banner',unitid:'',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{"all":false,"wx":true}},data:[]},
			<?php endif; ?>
			<?php endif; if(getcustom('ad_adset')): ?>
			{id:'adset',name:'ADSET',params:{adtype:'banner',adpid:'',bgcolor:'#ffffff',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{"all":true}},data:[]},
			<?php endif; if(getcustom('yx_jidian') && $bid!=0 && ($auth_data=='all' || in_array('Jidian/*',$auth_data))): ?>
			{id:'jidian',name:'集点',params:{bgcolor:'#FDEEE9',sortby:'sort',bid:'<?php echo $bid; ?>',borderradius:'0',margin_x:'0',margin_y:'0',padding_x:'6',padding_y:'6',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[]},
			<?php endif; if(!$noshow_modules || !in_array('ModuleUserinfo',$noshow_modules)): ?>
			{id:'userinfo',name:'<?php echo t('会员'); ?>信息',
				params:{moneyshow:'1',scoreshow:'1',couponshow:'1',seticonshow:'1',cardshow:'0',membercodeshow:'0',realnameVerifyShow:'0',levelshow:'1',levelclick:'1'
				,ordershow:'1',commissionshow:'1',freezecreditshow:'0',scoreshowrefund:'1',midshow:'0',bgimg:'<?php echo PRE_URL; ?>/static/imgsrc/userinfobg.png',style:'2',margin_x:'0',margin_y:'0',padding_x:'10'
				,padding_y:'10',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','seticonsize':'17',showtype:'0',ordertitle:'我的订单',
				orderData:[
					{text:'待付款',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fukuan.png',show:'1',id:'F0000000000001',type:'daifukuan'},
					{text:'待发货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fahuo.png',show:'1',id:'F0000000000002',type:'daifahuo'},
					{text:'待收货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shouhuo.png',show:'1',id:'F0000000000003',type:'daishouhuo'},
					{text:'已完成',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/wancheng.png',show:'1',id:'F0000000000004',type:'wancheng'},
					{text:'退款/售后',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/tksh.png',show:'1',id:'F0000000000005',type:'tuikuan'}],
				'showsilvermoney':'0','showgoldmoney':'0','showinviteredpacket':'0',shopscoreshow:'0',dedamountshow:'0'
				},
				logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/userinfo.png'},
			<?php endif; if(getcustom('show_location')): if($sysset['mode']==2): ?>
				{id:'location',name:'定位组件',params:{style:'1',bgcolor:'#FFFFFF',borderradius:5,bordercolor:'#DDDDDD',color:"#666666",showlevel:'2',showsearch:'1',showicon:'1',bid:'<?php echo $bid; ?>',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[{id:'L0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/img/cart_64.png',hrefurl:''},{id:'L0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/img/message_64.png',hrefurl:''}],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/location.png'},
				<?php endif; if($sysset['mode']==3): ?>
				{id:'location',name:'定位组件',params:{style:'1',bgcolor:'#FFFFFF',borderradius:5,bordercolor:'#DDDDDD',color:"#666666",showlevel:'0',showsearch:'1',showicon:'1',bid:'<?php echo $bid; ?>',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[{id:'L0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/img/cart_64.png',hrefurl:''},{id:'L0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/img/message_64.png',hrefurl:''}],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/location.png'},
				<?php endif; ?>
			<?php endif; if(getcustom('extend_tour')): if($auth_data=='all' || in_array('TourActivity/*',$auth_data)): ?>
				{id:'tour',name:'活动商品',params:{style:'2',bgcolor:'#FFFFFF',showcart:'1',cartimg:'<?php echo PRE_URL; ?>/static/imgsrc/cart.svg',showname:'1',showprice:'1',showsales:0,productfrom:'1',bid:'<?php echo $bid; ?>',sortby:'sort',proshownum:'6',margin_x:'0',margin_y:'0',padding_x:'8',padding_y:'8',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/tour.png'},
				<?php endif; ?>
			<?php endif; if(getcustom('form_data')): if($auth_data=='all' || in_array('Form/*',$auth_data)): ?>
					{id:'formdata',name:'表单数据',params:{titlecolor:'#333',bgcolor:'#F6F6F6',formfrom:'1',sortby:'sort',proshownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort','intotype':0},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/formdata.png'},
				<?php endif; ?>
			<?php endif; if(getcustom('extend_chongzhi')): ?>
			{id:'livepay',name:'生活缴费',params:{radius:'5',fontsize:'14',fontheight:'30',bgcolor:'#FFFFFF',margin_x:'0',margin_y:'0',padding_x:'10',padding_y:'5',iconsize:'30',showicon:'1','title':'生活缴费','titlesize':'16','titlecolor':'#333333','boxradius':'0',quanxian:{'all':true},'platform':{'all':true},'mendian':{'all':true},mendian_sort:'sort'},
					data:[
						{id:'F0000000000001',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-1.png',text:'电费',hrefurl:'',color:'#666666',type:'electric'},
						{id:'F0000000000002',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-2.png',text:'水费',hrefurl:'',color:'#666666',type:'water'},
						{id:'F0000000000003',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-3.png',text:'燃气费',hrefurl:'',color:'#666666',type:'gas'},
						{id:'F0000000000004',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-4.png',text:'固话费',hrefurl:'',color:'#666666',type:'heating'},
						{id:'F0000000000005',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-5.png',text:'宽带费',hrefurl:'',color:'#666666',type:'charging'},
						{id:'F0000000000006',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/costliving-6.png',text:'手机充值',hrefurl:'',color:'#666666',type:'phone'}
					],
					logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/costliving.png'
			}
			<?php endif; if(getcustom('hotel')): if($auth_data=='all' || in_array('Hotel/*',$auth_data)): ?>
				{id:'hotel',name:"<?php echo $text['酒店']; ?>列表",params:{titlecolor:'#333',showname:'1',showprice:'1',bgcolor:'#F6F6F6',showsales:'1',showtag:'1',hotelfrom:'1',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true}},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/hotel.png'},
				{id:'hotelroom',name:"房型列表",params:{titlecolor:'#333',showname:'1',showprice:'1',bgcolor:'#F6F6F6',showsales:'1',showtag:'1',roomfrom:'1',sortby:'sort',shownum:6,margin_x:'0',margin_y:'0',padding_x:'0',padding_y:'0',quanxian:{'all':true},'platform':{'all':true}},data:[],logo_icon:'<?php echo PRE_URL; ?>/static/admin/img/hotel.png'},
				<?php endif; ?>
			<?php endif; ?>
			
		
	];
	<?php 
	if($bid==0){
		$sysset = db('admin_set')->field('name,logo')->where('aid',aid)->find();
	}else{
		$sysset = db('business')->field('name,logo')->where('id',$bid)->find();
	}
	 ?>
	$scope.pages = <?php echo $pageinfo; ?>;
	$scope.system = { name: "<?php echo $sysset['name']; ?>",logo: "<?php echo $sysset['logo']; ?>"};
	$scope.Items = <?php echo $pagedata; ?>; //初始数据
	angular.forEach($scope.Items,function(item,index){
		if(item.temp == 'video'){
			if(!item.params.videoheight){
				$scope.Items[index].params.videoheight = '30';
				$scope.Items[index].params.autoplay = '0';
				$scope.Items[index].params.butposition = 'center';
				$scope.Items[index].params.controls = '1';
				$scope.Items[index].params.loop = '0';
				$scope.Items[index].params.muted = '0';
				$scope.Items[index].params.objectfit = 'contain';
				$scope.Items[index].params.fullscreen = '1';
			}
		}
		if(item.temp == 'userinfo'){
			if(!item.params.orderData){
				$scope.Items[index].params.showtype = '0';
				$scope.Items[index].params.ordertitle ='我的订单';
				$scope.Items[index].params.orderData = [
					{text:'待付款',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fukuan.png',show:'1',id:'F0000000000001',type:'daifukuan'},
					{text:'待发货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/fahuo.png',show:'1',id:'F0000000000002',type:'daifahuo'},
					{text:'待收货',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/shouhuo.png',show:'1',id:'F0000000000003',type:'daishouhuo'},
					{text:'已完成',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/wancheng.png',show:'1',id:'F0000000000004',type:'wancheng'},
					{text:'退款/售后',imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/tksh.png',show:'1',id:'F0000000000005',type:'tuikuan'}];
					
			}
		}
	})
	$scope.focus = $scope.pages[0].id;
	$scope.contenttop = 0;
	$scope.contentleft = 0;
	$scope.hasCube = function(Item) {
		var has = false;
		var row = 0,col = 0;
		for(var i = row; i < 4; i++) {
			for(var j = col; j < 4; j++) {
				if(!isUndefined(Item.params.layout[i][j]) && !Item.params.layout[i][j].isempty) {
					has = true;
					break;
				}
			}
		}
		return has;
	}
	$scope.changeItemsClass = function(index){
		$('.dsn-panel-menu2').find('.class-div').eq(index).find('.options-class .active-icon').toggleClass('active-icon-ed')
		$('.dsn-panel-menu2').find('.class-div').eq(index).find('.item-options-div').toggleClass('class-div-active')
	}
	$scope.showSelection = function(Edit, row, col){
		Edit.params.currentPos = {row: row,col: col};
		Edit.params.selection = {};
		var maxrow = 4,maxcol = 4,end = false;
		for(var i = row; i <= 3; i++) {
			if(isUndefined(Edit.params.layout[i][col]) || !isUndefined(Edit.params.layout[i][col]) && !Edit.params.layout[i][col].isempty) {
				maxrow = i;
				end = true;
			}
			if (end) {break;}
		}
		end = false;
		for(var j = col; j <= 3; j++) {
			if(isUndefined(Edit.params.layout[row][j]) || !isUndefined(Edit.params.layout[row][j]) && !Edit.params.layout[row][j].isempty) {
				maxcol = j;
				end = true;
			}
			if(end) {break;}
		}
		var f = maxcol,n=-1,g = 1;
		for(var i = row; i < maxrow; i++) {
			var y = 1;
			Edit.params.selection[g] = {};
			for(var j = col; j < maxcol; j++) {
				if(f>j && (!isUndefined(Edit.params.layout[i][j]) && Edit.params.layout[i][j].isempty)) {
					Edit.params.selection[g][y] = {rows: g,cols: y};
					y++;
				}else if(f > j){
					f = j
				}
			}
			g++;
		}
		//console.log(Edit.params.selection)

		$(".layout-table li").removeClass("selected");
		//$scope.modalobj = $("#" + Edit.id + "-modal-cube-layout").modal({show: true});
		$scope.modalobj = layer.open({type:1,content:$("#" + Edit.id + "-modal-cube-layout"),area:['400px','400px'],title:'选择布局',shadeClose:true})
		$('#' + Edit.id + '-modal-cube-layout').find(".layout-table").unbind('mouseover').mouseover(function(a) {
			if ("LI" == a.target.tagName) {
				$(".layout-table li").removeClass("selected");
				var c = $(a.target).attr("data-rows"),d = $(a.target).attr("data-cols");
				$(".layout-table li").filter(function(a, e) {
					return $(e).attr("data-rows") <= c && $(e).attr("data-cols") <= d
				}).addClass("selected")
			}
		});
		return true;
	}
	$scope.selectLayout = function(Edit, currentRow, currentCol, rows, cols) {
		if (isUndefined(rows)) {rows = 0;}
		if (isUndefined(cols)) {cols = 0;}
		Edit.params.layout[currentRow][currentCol] = {
			cols: cols,
			rows: rows,
			isempty: false,
			imgurl: "",
			classname: "index-" + Edit.params.showIndex
		};
		for (var i = parseInt(currentRow); i < parseInt(currentRow) + parseInt(rows); i++) {
			for (var j = parseInt(currentCol); j < parseInt(currentCol) + parseInt(cols); j++) {
				if (currentRow != i || currentCol != j) {
					delete Edit.params.layout[i][j];
				}
			}
		}
		Edit.params.showIndex++;
		layer.close($scope.modalobj);

		var maxheight = 0;
		for(var i in Edit.params.layout){
			for(var j in Edit.params.layout[i]){
				var col = Edit.params.layout[i][j];
				if(!isUndefined(col['rows']) && !col['isempty'] && parseInt(i) + parseInt(col['rows']) > maxheight){
					maxheight = parseInt(i) + parseInt(col['rows']);
				}
			}
		}
		console.log(maxheight)
		Edit.params.maxheight = maxheight;


		$scope.changeItem(Edit, currentRow, currentCol);

		return true;
	}
	$scope.changeItem = function(Edit, row, col) {
		$("#cube-editor td").removeClass("current").filter(function(a, e) {
			return $(e).attr("x") == row && $(e).attr("y") == col
		}).addClass("current");
		$("#cube_thumb").attr("src", "");
		Edit.params.currentLayout = Edit.params.layout[row][col];
	}
	$scope.delCube = function(Edit, Cid, cols, rows) {
		if (Edit && Cid && cols && rows) {
			var len = Edit.params.layout.length;
			$.each(Edit.params.layout, function(row, a) {
				$.each(Edit.params.layout[row], function(col, b) {
					if (col != '$$hashKey') {
						if (b.classname == Edit.params.currentLayout.classname) {
							row = parseInt(row);
							col = parseInt(col);
							rows = parseInt(rows);
							cols = parseInt(cols);
							for (var i = row; i < row + rows; i++) {
								for (var j = col; j < col + cols; j++) {
									Edit.params.layout[i][j] = {
										cols: 1,
										rows: 1,
										isempty: true,
										imgurl: "",
										classname: ""
									};
								}
							}
						}
					}
				});
			});
		}
	}
	// 1.1 添加一条子级(good,picture,banner,dhlist,search)
	$scope.addItemChild = function(type, Mid) {
		if (type && Mid) {
			t = '';
			if (type == 'good') {
				t = 'G';
			} else if (type == 'picture') {
				t = 'P';
			} else if (type == 'pictures') {
				t = 'PS';
			} else if (type == 'banner') {
				t = 'B';
			} else if (type == 'dhlist') {
				t = 'D';
			} else if (type == 'menu') {
				t = 'M';
			} else if (type == 'spot') {
				t = 'H';
			} else if (type == 'tab') {
				t = 'T';
			} else if (type == 'search') {
				t = 'S';
			} else if (type == 'location') {
				t = 'L';
			}
			var var_id = t + new Date().getTime() + parseInt(Math.random() * 1000000);
			var push = {
				banner: {
					id: var_id,
					imgurl: '<?php echo PRE_URL; ?>/static/imgsrc/banner-2.jpg',
					hrefurl: ''
				},
				picture: {
					id: var_id,
					imgurl: '<?php echo PRE_URL; ?>/static/imgsrc/banner-2.jpg',
					hrefurl: ''
				},
				location: {
					id: var_id,
					imgurl: '<?php echo PRE_URL; ?>/static/imgsrc/ico-poster.png',
					hrefurl: ''
				},
				pictures: {
					id: var_id,
					imgurl: '<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',
					hrefurl: '',
					gototype:'0'
				},
				good: {},
				dhlist: {id:var_id,title1:'列表名称',title2:'备注信息',showicon:1,icon:'fa fa-heart',iconcolor:'#333',iconsize:'16',imgurl:''},
				notice2: {id:var_id,title:'这里是一条自定义公告的标题',hrefurl:''},
				menu: {id:var_id,imgurl:'<?php echo PRE_URL; ?>/static/imgsrc/picture-1.jpg',text:'按钮文字',hrefurl:'',color:'#666666'},
				spot: {id:var_id,width:'50',height:'50',left:0,top:0,hrefurl:'',hrefname:''},
				tab: {id:var_id,name:'选项X',tabid:''},
				search: {id:var_id,title1:'列表名称',title2:'输入搜索信息'},
			};
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index) {
				if (m.id == Mid) {
					if(!m.data){
						m.data = [];
					}
					m.data.push(push[type]);
				}
			});
		}
	}

	// 1.1 删除一条子级
	$scope.delItemChild = function(Mid, Cid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(c, index2) {
					if (c.id == Cid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	//上移子级
	$scope.upItemChild = function(Mid, Cid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(c, index2) {
					if (c.id == Cid) {
						if(index2 == 0){
							layer.msg('已经到顶了');
							return;
						}
						m.data[index2] = m.data.splice(index2-1, 1, m.data[index2])[0];
					}
				});
			}
		});
	}

	$scope.iconImg = function(Mid){
			fileUploader.show(function(data){
				 var Items = $scope.Items;
				 angular.forEach(Items, function(m,index1) {
						 if(m.id==Mid){
								 m.params.icon = data['url'];
								 $("div[mid="+Mid+"]").mouseover();
						 }
				 });
			}, {type :'image',tabs:{selecticon:'active',upload: '',browser:''}});
	}
	$scope.selecticon = function(Mid,paramsName){
		iconpicker.show(function(data) {
			console.log(data)
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if(m.id == Mid){
					m.params[paramsName] = data;
					$("div[mid=" + Mid + "]").mouseover();
					$scope.$apply();
				}
			});
		})
	}
	$scope.selecticon2 = function(Mid,Cid,paramsName){
		iconpicker.show(function(data) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if(m.id == Mid){
					angular.forEach(m.data, function(c, index2) {
						if(c.id == Cid) {
							c[paramsName] = data;
							$("div[mid=" + Mid + "]").mouseover();
							$scope.$apply();
						}
					});
				}
			});
		})
	}
	// 1.1 上传图片
	$scope.uploadImg = function(Mid,paramsName) {
		fileUploader.show(function(data) {
			if(Mid == 'M0000000000000' || Mid == 'M0000000000001' || Mid == 'M0000000000002'){
				$scope.pages[0].params[paramsName] = data['url'];
				$scope.$apply();
				return;
			}
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if(m.id == Mid){
					m.params[paramsName] = data['url'];
					$("div[mid=" + Mid + "]").mouseover();
				}
			});
		}, {type: 'image'});
	}
	$scope.uploadImgChild = function(Mid, Cid, Type) {
		fileUploader.show(function(data) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if(m.id == Mid){
					if(Type == 'cube'){
						m.params.currentLayout.imgurl = data['url'];
						$("div[mid=" + Mid + "]").mouseover();
					}else if(Type == 'userinfo'){
						angular.forEach(m.params.orderData, function(c, index2) {
							if(c.id == Cid) {
								c.imgurl = data['url'];
								$("div[mid=" + Mid + "]").mouseover();
							}
						});
					}else{
						angular.forEach(m.data, function(c, index2) {
							if(c.id == Cid) {
								c.imgurl = data['url'];
								$("div[mid=" + Mid + "]").mouseover();
							}
						});
					}
				}
			});
		}, {type: 'image'});
	}

	$scope.chooseUrlCube = function(Mid, Cid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m) {
			if(m.id == Mid) {
				m.params.currentLayout.url = 'http://www.qq.com';
				$("div[mid=" + Mid + "]").mouseover();
			}
		});
	}

	$scope.designerTab = function(Mid, Cid,tabname) {
		console.log(Mid);
		console.log(Cid);
		var designerTabLayer = layer.open({type:2,shadeClose: false,area: ['94%', '94%'],'title': '设置选项卡内容',content:"<?php echo url('DesignerPage/designer_tab'); ?>&tabid="+Mid+"&tabindexid="+Cid+'&tabname='+tabname,btn:['确定','取消'],yes:function(index, layero){
			var iframeWin = window[layero.find('iframe')[0]['name']]; //得到iframe页的窗口对象
			var tabpagedata = iframeWin.geteditordata();
			layer.close(designerTabLayer);
			var index = layer.load();
			$.post("<?php echo url('DesignerPage/designer_tab_save'); ?>",{tabid:Mid,tabindexid:Cid,tabpagedata:tabpagedata},function(data){
				layer.close(index);
			})
		}})
	}
	//地图 选择坐标
	$scope.choosezuobiao = function(Mid,address,jd,wd){
		var choosezblayer = layer.open({type:2,shadeClose: true,area: ['800px', '560px'],'title': '选择坐标',content: "<?php echo url('DesignerPage/choosezuobiao'); ?>/Mid/"+Mid+'&address='+(address?address:'')+'&jd='+(jd?jd:'')+'&wd='+(wd?wd:''),btn:['确定','取消'],yes:function(index, layero){
			var longitude = layero.find('iframe').contents().find('#mapjd').val();
			var latitude = layero.find('iframe').contents().find('#mapwd').val();
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					m.params.longitude = longitude;
					m.params.latitude = latitude;
					var center = new qq.maps.LatLng(latitude,longitude);
					var map = new qq.maps.Map(document.getElementById("showmp_"+Mid), {
						center: center,      // 地图的中心地理坐标。
						zoom:15              // 地图的中心地理坐标。
					});
					var marker = new qq.maps.Marker({ position:center, map: map});

					$("div[mid=" + Mid + "]").mouseover();
				}
			});
			layer.close(choosezblayer);
		}});
	}
	// 1.1 选择链接
	$scope.chooseUrl = function(Mid, Cid) {
		var oldhrefurl = '';
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				oldhrefurl = m.params.hrefurl
			}
		});
		oldhrefurl = encodeURIComponent(oldhrefurl);
		layer.open({type:2,shadeClose: true,area: ['1100px', '650px'],'title': '选择链接',content: "<?php echo url('DesignerPage/chooseurl'); ?>/fromdsn/1/args/"+Mid+','+Cid+'&oldhrefurl='+oldhrefurl})
	}
	$scope.chooseLink = function(urlname,url,args) {
		var argsArr = args.split(',');
		var Mid = argsArr[0];
		var Cid = argsArr[1];
		if (url && Mid && Cid){
			if(Mid == 'M0000000000000' || Mid == 'M0000000000001' || Mid == 'M0000000000002'){
				if(isNaN(Cid)){
				//不是数字
					$scope.pages[0].params[Cid] = url;
				}
				else{
					if(Cid == -2){
						$scope.pages[0].params['hrefurl2'] = url;
					}else{
						$scope.pages[0].params['hrefurl'] = url;
					}
				}
				$scope.$apply();
				return;
			}
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(m.temp == 'cube'){
						m.params.currentLayout.hrefurl = url;
						m.params.currentLayout.hrefname = urlname;
						$("div[mid=" + Mid + "]").mouseover();
					}else{
						if(Cid == -1){
							m.params.hrefurl = url;
							m.params.hrefname = urlname
						}else if(Cid == -2){
							m.params.hrefurl2 = url;
							m.params.hrefname2 = urlname
						}else{
							angular.forEach(m.data, function(c, index2) {
								if(c.id == Cid) {
									c.hrefurl = url;
									console.log(c.hrefurl)
									c.hrefname = urlname
								}
							});
						}
					}
				}
			});
			layer.closeAll();
		}
	}
	$scope.toChooseVideoList = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择视频',content:"<?php echo url('VideoList/choosevideolist'); ?>/args/"+action+','+Mid+','+Gid});
	}

	$scope.temp = {notcie: []};
	//商城商品
	$scope.getgoods = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 			= categoryseltype==1?m.params.bidmore:m.params.bid
				// 处理商品分类多选值
				var category_param = categoryseltype==1?m.params.categorymore:m.params.category;
				var category = '';
				if(category_param && typeof category_param == 'object'){
					var cids = [];
					for(var key in category_param){
						if(key != 'all' && category_param[key]){
							cids.push(key);
						}
					}
					category = cids.join(',');
					// 如果没有选择任何分类，且没有选中"所有分类"，则设置为""
					if(cids.length == 0 && !category_param['all']){category = '';}
				} else {
					category = category_param;
				}
				// 处理商家商品分类多选值
				var category2_param = categoryseltype==1?m.params.categorymore2:m.params.category2;
				var category2 = '';
				if(category2_param && typeof category2_param == 'object'){
					var cids2 = [];
					for(var key in category2_param){
						if(key != 'all' && category2_param[key]){
							cids2.push(key);
						}
					}
					category2 = cids2.join(',');
					// 如果没有选择任何分类，且没有选中"所有分类"，则设置为""
					if(cids2.length == 0 && !category2_param['all']){category2 = '';}
				} else {
					category2 = category2_param;
				}
				var group = m.params.group
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				var icback   = m.params.icback || 0
				var productfrom =m.params.productfrom || 0
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectproduct",
					data: {
						bid: bid,
						cid: category,
						cid2: category2,
						giddata: group,
						sortby: sortby,
						proshownum: proshownum,
						icback:icback,
						productfrom:productfrom,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales,
								merchant_name: data[i].merchant_name? data[i].merchant_name:'',
								main_business: data[i].main_business?data[i].main_business:'',

								brand: data[i].brand?data[i].brand:'',
								barcode: data[i].barcode?data[i].barcode:'',
								ggname: data[i].ggname?data[i].ggname:'',
								unit: data[i].unit?data[i].unit:'',
								ggstock: data[i].ggstock?data[i].ggstock:0,
								valid_time: data[i].valid_time?data[i].valid_time:'',
								remark: data[i].remark?data[i].remark:'',
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addGood = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['1000px', '560px'],'title':'选择商品',content:"<?php echo url('ShopProduct/chooseproduct'); ?>/showallbusiness/true/args/"+action+','+Mid+','+Gid});
	}
	$scope.delGood = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushGood = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						sell_price: prodata.sell_price,
						sales: prodata.sales
					});
				}
			}
		});
	}
	//餐饮商品
	$scope.getRestaurantGoods = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid      = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var group = m.params.group
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectRestaurantproduct",
					data: {
						bid: bid,
						cid: category,
						giddata: group,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询菜品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addRestaurantGood = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择菜品',content:"<?php echo url('RestaurantProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delRestaurantGood = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	//拼团商品
	$scope.getcollage = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid      = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectcollage",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales,
								teamnum: data[i].teamnum
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addcollage = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['1000px', '560px'],'title':'选择商品',content:"<?php echo url('CollageProduct/chooseproduct'); ?>/showallbusiness/true/args/"+action+','+Mid+','+Gid});
	}
	$scope.delcollage = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushcollage = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						sell_price: prodata.sell_price,
						sales: prodata.sales
					});
				}
			}
		});
	}

	//周期购
	$scope.getcycle = function(Mid) {
			angular.forEach($scope.Items, function(m, index1) {
				if (m.id == Mid) {
					var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
					var bid = categoryseltype==1?m.params.bidmore:m.params.bid
					var category = categoryseltype==1?m.params.categorymore:m.params.category
					var sortby = m.params.sortby
					var proshownum = m.params.proshownum
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/api'); ?>/op/selectcycle",
						data: {
							bid: bid,
							cid: category,
							sortby: sortby,
							proshownum: proshownum,
							categoryseltype:categoryseltype
						},
						success: function(data) {
							m.data = [];
							angular.forEach(data, function(d, i) {
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								// 执行添加
								m.data.push({
									id: Gid,
									pic: data[i].pic,
									proid: data[i].id,
									name: data[i].name,
									market_price: data[i].market_price,
									sell_price: data[i].sell_price,
									sales: data[i].sales,
									pspl: data[i].pspl,
								});
							});
							$("div[mid=" + Mid + "]").mouseover();
						},
						error: function() {
							layer.msg('查询商品信息失败！请刷新页面。');
						}
					});
				}
			});
		}
	$scope.addcycle = function(action, Mid, Gid) {
			layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('CycleProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
		}
	$scope.delcycle = function(Mid, Gid) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if (m.id == Mid) {
					angular.forEach(m.data, function(g, index2) {
						if (g.id == Gid) {
							m.data.splice(index2, 1);
						}
					});
				}
			});
		}
	$scope.pushcycle = function(prodata,args){
			var argsArr = args.split(',');
			var action = argsArr[0];
			var Mid = argsArr[1];
			var oldGid = argsArr[2];
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(action == 'replace' && oldGid){
						// 执行替换
						angular.forEach(m.data, function(r, index3){
							if(r.id == oldGid){
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								r.id = Gid;
								r.pic = prodata.pic;
								r.proid = prodata.id;
								r.name = prodata.name;
								r.market_price = prodata.market_price;
								r.sell_price = prodata.sell_price;
								r.sales = prodata.sales;
								r.pspl = prodata.pspl;
							}
						});
					}else if(!action){
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						// 执行添加
						m.data.push({
							id: Gid,
							pic: prodata.pic,
							proid: prodata.id,
							name: prodata.name,
							market_price: prodata.market_price,
							sell_price: prodata.sell_price,
							sales: prodata.sales,
							pspl: prodata.pspl,
						});
					}
				}
			});
		}
	//幸运拼团商品
	$scope.getluckycollage = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid      = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectluckycollage",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales,
								teamnum: data[i].teamnum,
								money:data[i].money,
								gua_num:data[i].gua_num
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addluckycollage = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('LuckyCollageProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delluckycollage = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushluckycollage = function(prodata,args){
		//console.log(prodata);
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
							r.teamnum = prodata.teamnum;
							r.gua_num=prodata.gua_num;
							r.money=prodata.money
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						sell_price: prodata.sell_price,
						sales: prodata.sales,
						teamnum:prodata.teamnum,
						gua_num:prodata.gua_num,
						money:prodata.money,
					});
				}
			}
		});
	}

	//砍价商品
	$scope.getkanjia = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid = categoryseltype==1?m.params.bidmore:m.params.bid
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectkanjia",
					data: {
						bid: bid,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								min_price: data[i].min_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addkanjia = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('KanjiaProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delkanjia = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushkanjia = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.min_price = prodata.min_price;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						min_price: prodata.min_price,
						sell_price: prodata.sell_price,
						sales: prodata.sales
					});
				}
			}
		});
	}
	//秒杀商品
	$scope.getseckill = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid = categoryseltype==1?m.params.bidmore:m.params.bid
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				var showrange = m.params.showrange

				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectseckill",
					data: {
						bid: bid,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype,
						showrange:showrange
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales,
								seckill_date:data[i].seckill_date,
								seckill_status:data[i].seckill_status,
								seckill_time:data[i].seckill_time
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addseckill = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('SeckillProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delseckill = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushseckill = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						sell_price: prodata.sell_price,
						sales: prodata.sales
					});
				}
			}
		});
	}

	//积分兑换商品
	$scope.getscoreshop = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var bid = m.params.bid
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectscoreshop",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype,
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								sell_price: data[i].sell_price,
								money_price: data[i].money_price,
								score_price: data[i].score_price,
								sales: data[i].sales
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addscoreshop = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('ScoreshopProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delscoreshop = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushscoreshop = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.sell_price = prodata.sell_price;
							r.score_price = prodata.score_price;
							r.money_price = prodata.money_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						sell_price: prodata.sell_price,
						score_price: prodata.score_price,
						money_price: prodata.money_price,
						sales: prodata.sales
					});
				}
			}
		});
	}

	//团购商品
	$scope.gettuangou = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid      = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var group = m.params.group
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selecttuangou",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype,
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								min_price: data[i].min_price,
								sales: data[i].sales
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	//分类页2
	$scope.getClassify2 = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectclassify2",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype,
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								sell_price: data[i].sell_price,
								sales: data[i].sales
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addTuangou = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('TuangouProduct/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delTuangou = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushTuangou = function(prodata,args){
		console.log(prodata)
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.sell_price = prodata.sell_price;
							r.min_price = prodata.min_price;
							r.sales = prodata.sales;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						sell_price: prodata.sell_price,
						min_price: prodata.min_price,
						sales: prodata.sales
					});
				}
			}
		});
	}
	//课程商品
	$scope.getKecheng = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 	 = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var proshownum = m.params.proshownum
				var kctype = m.params.kctype
				var chaptertype = m.params.chaptertype
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectkecheng",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						proshownum: proshownum,
						categoryseltype:categoryseltype,
						kctype:kctype,
						chaptertype:chaptertype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								proid: data[i].id,
								name: data[i].name,
								market_price: data[i].market_price,
								price: data[i].price,
								join_num: data[i].join_num,
								count: data[i].count,
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addKecheng = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择课程',content:"<?php echo url('KechengList/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delKecheng = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushKecheng = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.proid = prodata.id;
							r.name = prodata.name;
							r.market_price = prodata.market_price;
							r.price = prodata.price;
							r.join_num = prodata.join_num;
							r.count = prodata.count;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						proid: prodata.id,
						name: prodata.name,
						market_price: prodata.market_price,
						price: prodata.price,
						join_num: prodata.join_num,
						count: prodata.count
					});
				}
			}
		});
	}


		//zhaopin
		$scope.getZhaopin = function(Mid) {
			angular.forEach($scope.Items, function(m, index1) {
				if (m.id == Mid) {
					var bid = m.params.bid
					console.log('--------------ddddd------------------------')
					console.log(m.data)
					console.log('---------------dddd-----------------------')
					var sortby = m.params.sortby
					var shownum = m.params.shownum
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/api'); ?>/op/selectzhaopin",
						data: {
							bid: bid,
							sortby: sortby,
							shownum: shownum
						},
						success: function(data) {

							console.log('--------------------------------------')
							console.log(data)
							console.log('--------------------------------------')
							m.data = [];
							angular.forEach(data, function(d, i) {
								var Gid = 'Z' + new Date().getTime() + parseInt(Math.random() * 1000000);
								// 执行添加
								m.data.push({
									id: Gid,
									thumb: data[i].thumb,
									proid: data[i].id,
									title: data[i].title,
									area: data[i].area,
									salary: data[i].salary,
									num: data[i].num,
								});
							});
							$("div[mid=" + Mid + "]").mouseover();
						},
						error: function() {
							layer.msg('查询信息失败！请刷新页面。');
						}
					});
				}
			});
		}
		$scope.addZhaopin = function(action, Mid, Gid) {
			layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择招聘',content:"<?php echo url('Zhaopin/choosezhaopin'); ?>/args/"+action+','+Mid+','+Gid});
		}
		$scope.delZhaopin = function(Mid, Gid) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if (m.id == Mid) {
					angular.forEach(m.data, function(g, index2) {
						if (g.id == Gid) {
							m.data.splice(index2, 1);
						}
					});
				}
			});
		}
		$scope.pushZhaopin = function(prodata,args){
			var argsArr = args.split(',');
			var action = argsArr[0];
			var Mid = argsArr[1];
			var oldGid = argsArr[2];
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(action == 'replace' && oldGid){
						// 执行替换
						angular.forEach(m.data, function(r, index3){
							if(r.id == oldGid){
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								r.id = Gid;
								r.thumb = prodata.thumb;
								r.proid = prodata.id;
								r.title = prodata.title;
								r.salary = prodata.salary;
								r.area = prodata.area
								r.count = prodata.count;
							}
						});
					}else if(!action){
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						// 执行添加
						m.data.push({
							id: Gid,
							thumb: prodata.thumb,
							proid: prodata.id,
							title: prodata.title,
							salary: prodata.salary,
							area: prodata.area,
							num: prodata.num
						});
					}
				}
			});
		}
		//zhaopin end

		//qiuzhi
		$scope.getQiuzhi = function(Mid) {
			angular.forEach($scope.Items, function(m, index1) {
				if (m.id == Mid) {
					var bid = m.params.bid
					console.log(bid)
					var sortby = m.params.sortby
					var shownum = m.params.shownum
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/api'); ?>/op/selectqiuzhi",
						data: {
							bid: bid,
							sortby: sortby,
							shownum: shownum
						},
						success: function(data) {
							m.data = [];
							angular.forEach(data, function(d, i) {
								var Gid = 'Q' + new Date().getTime() + parseInt(Math.random() * 1000000);
								// 执行添加
								m.data.push({
									id: Gid,
									thumb: data[i].thumb,
									proid: data[i].id,
									title: data[i].title,
									name: data[i].name,
									cnames: data[i].names,
									age: data[i].age,
									sex: data[i].sex,
									has_job: data[i].has_job,
									area: data[i].area,
									salary: data[i].salary,
									secret_type:data[i].secret_type,
									mohu:data[i].mohu
								});
							});
							$("div[mid=" + Mid + "]").mouseover();
						},
						error: function() {
							layer.msg('查询信息失败！请刷新页面。');
						}
					});
				}
			});
		}
		$scope.addQiuzhi = function(action, Mid, Gid) {
			layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择求职',content:"<?php echo url('ZhaopinQiuzhi/chooseqiuzhi'); ?>/args/"+action+','+Mid+','+Gid});
		}
		$scope.delQiuzhi = function(Mid, Gid) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if (m.id == Mid) {
					angular.forEach(m.data, function(g, index2) {
						if (g.id == Gid) {
							m.data.splice(index2, 1);
						}
					});
				}
			});
		}
		$scope.pushQiuzhi = function(prodata,args){
			var argsArr = args.split(',');
			var action = argsArr[0];
			var Mid = argsArr[1];
			var oldGid = argsArr[2];
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(action == 'replace' && oldGid){
						// 执行替换
						angular.forEach(m.data, function(r, index3){
							if(r.id == oldGid){
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								r.id = Gid;
								r.thumb = prodata.thumb;
								r.proid = prodata.id;
								r.title = prodata.title;
								r.name = prodata.name;
								r.cnames = prodata.cnames;
								r.age = prodata.age;
								r.sex = prodata.sex;
								r.has_job = prodata.has_job;
								r.salary = prodata.salary;
								r.area = prodata.area;
								r.secret_type = prodata.secret_type;
								r.mohu = prodata.mohu;
							}
						});
					}else if(!action){
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						// 执行添加
						m.data.push({
							id: Gid,
							thumb: prodata.thumb,
							proid: prodata.id,
							name: prodata.name,
							cnames: prodata.cnames,
							title: prodata.title,
							age:prodata.age,
							sex:prodata.sex,
							has_job:prodata.has_job,
							salary: prodata.salary,
							area: prodata.area,
							secret_type:prodata.secret_type,
							mohu:prodata.mohu
						});
					}
				}
			});
		}
		//zhaopin end

	//商家
	$scope.getbusiness = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectbusiness",
					data: {
						cid: category,
						sortby: sortby,
						shownum: shownum,
						categoryseltype:categoryseltype
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								logo: data[i].logo,
								bid: data[i].id,
								name: data[i].name,
								tel: data[i].tel,
								address: data[i].address,
								sales: data[i].sales,
								content: data[i].content,
								comment_score: data[i].comment_score,
								commentscore: Math.floor(data[i].comment_score),
								prolist: data[i].prolist,
								catname: data[i].catname
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询商品信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addbusiness = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('Business/choosebusiness'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delbusiness = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.delbusinessall = function(Mid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				m.data = '';
			}
		});
	}
	$scope.pushbusiness = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.logo = prodata.logo;
							r.bid = prodata.id;
							r.name = prodata.name;
							r.comment_score = prodata.comment_score;
							r.commentscore = Math.floor(prodata.comment_score);
							r.tel = prodata.tel;
							r.address = prodata.address;
							r.sales = prodata.sales;
							r.content = prodata.content;
							r.prolist = prodata.prolist;
							r.catname = prodata.catname;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						logo: prodata.logo,
						bid: prodata.id,
						name: prodata.name,
						comment_score: prodata.comment_score,
						commentscore: Math.floor(prodata.comment_score),
						tel: prodata.tel,
						address: prodata.address,
						sales: prodata.sales,
						content: prodata.content,
						prolist: prodata.prolist,
						catname:prodata.catname
					});
				}
			}
		});
	}

	//短视频分类
	$scope.getshortvideocategory = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 	 = categoryseltype==1?m.params.bidmore:m.params.bid;
				if(categoryseltype == 0){
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/getCategory'); ?>",
						data: {
							bid: bid,
						},
						success: function(data) {
							var data = data.data;
							var options = '<option value="">全部分类</option>';  
					        for (var i = 0; i < data.length; i++) {  
					            options += '<option value="' + data[i].id + '">' + data[i].name + '</option>';  
					            if (data[i].child) {  
					                for (var j = 0; j < data[i].child.length; j++) {  
					                    options += '<option value="' + data[i].child[j].id + '">&nbsp;&nbsp;&nbsp;' + data[i].child[j].name + '</option>';  
					                }  
					            }  
					        }  
					        $("select.layui-input").each(function() {  
						        if ($(this).attr("ng-model") == "Edit.params.category") {  
						            $(this).html(options);  
						        }  
						    });  
						    
						},
						error: function() {
							layer.msg('查询信息失败！请刷新页面。');
						}
					});
				}
			
			}
		});
	}
	//短视频
	$scope.getshortvideo = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 	 = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectshortvideo",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						shownum: shownum,
						categoryseltype:categoryseltype,
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								videoId: data[i].videoId,
								logo: data[i].logo,
								name: data[i].name,
								description: data[i].description,
								coverimg: data[i].coverimg,
								view_num: data[i].view_num,
								zan_num: data[i].zan_num
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addshortvideo = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择短视频',content:"<?php echo url('Shortvideo/choosevideo'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delshortvideo = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushshortvideo = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.videoId = prodata.id;
							r.logo = prodata.logo;
							r.name = prodata.name;
							r.description = prodata.description;
							r.coverimg = prodata.coverimg;
							r.view_num = prodata.view_num;
							r.zan_num = prodata.zan_num;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						videoId: prodata.id,
						logo: prodata.logo,
						name: prodata.name,
						description: prodata.description,
						coverimg: prodata.coverimg,
						view_num: prodata.view_num,
						zan_num: prodata.zan_num
					});
				}
			}
		});
	}
	//直播间
	$scope.getliveroom = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectliveroom",
					data: {
						sortby: sortby,
						shownum: shownum
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								roomId: data[i].roomId,
								bid: data[i].bid,
								name: data[i].name,
								coverImg: data[i].coverImg,
								shareImg: data[i].shareImg,
								anchorName: data[i].anchorName,
								startTime: data[i].startTime,
								endTime: data[i].endTime,
								showtime: data[i].showtime,
								status: data[i].status
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addliveroom = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择直播间',content:"<?php echo url('Live/chooseliveroom'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delliveroom = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushliveroom = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.roomId = prodata.roomId;
							r.bid = prodata.bid;
							r.name = prodata.name;
							r.coverImg = prodata.coverImg;
							r.shareImg = prodata.shareImg;
							r.anchorName = prodata.anchorName;
							r.startTime = prodata.startTime;
							r.endTime = prodata.endTime;
							r.showtime = prodata.showtime;
							r.status = prodata.status;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						roomId: prodata.roomId,
						bid: prodata.bid,
						name: prodata.name,
						coverImg: prodata.coverImg,
						shareImg: prodata.shareImg,
						startTime: prodata.startTime,
						endTime: prodata.endTime,
						showtime: prodata.showtime,
						status: prodata.status
					});
				}
			}
		});
	}


	$scope.getarticle = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var bid = m.params.bid
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var category       = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectarticle",
					data: {
						bid: bid,
						cid: category,
						categoryseltype:categoryseltype,
						sortby: sortby,
						shownum: shownum
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								pics: data[i].pics,
								artid: data[i].id,
								name: data[i].name,
								subname: data[i].subname,
								readcount: data[i].readcount,
								createtime: date('Y-m-d H:i',data[i].createtime)
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addArticle = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择文章',content:"<?php echo url('Article/choosearticle'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delArticle = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushArticle = function(artdata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					console.log(oldGid)
					// 执行替换
					angular.forEach(m.data, function(r, index3){
					console.log(r.id)
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = artdata.pic;
							r.artid = artdata.id;
							r.name = artdata.name;
							r.subname = artdata.subname;
							r.createtime = date('Y-m-d H:i',artdata.createtime);
							r.readcount = artdata.readcount;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: artdata.pic,
						artid: artdata.id,
						name: artdata.name,
						subname: artdata.subname,
						createtime: date('Y-m-d H:i',artdata.createtime),
						readcount: artdata.readcount
					});
				}
			}
		});
	}


//预约服务商品
$scope.getyuyue = function(Mid) {
	angular.forEach($scope.Items, function(m, index1) {
		if (m.id == Mid) {
			var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
			var bid 	 = categoryseltype==1?m.params.bidmore:m.params.bid
			var category = categoryseltype==1?m.params.categorymore:m.params.category
			var sortby = m.params.sortby
			var proshownum = m.params.proshownum
			$.ajax({
				type: 'post',
				dataType: 'json',
				url: "<?php echo url('DesignerPage/api'); ?>/op/selectyuyue",
				data: {
					bid: bid,
					sortby: sortby,
					proshownum: proshownum,
					cid: category,
					categoryseltype:categoryseltype,
				},
				success: function(data) {
					m.data = [];
					angular.forEach(data, function(d, i) {
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						// 执行添加
						m.data.push({
							id: Gid,
							pic: data[i].pic,
							proid: data[i].id,
							name: data[i].name,
							sell_price: data[i].sell_price,
							danwei:data[i].danwei,
							sales:data[i].sales,
							fwtype:data[i].fwtype,
							is_open:data[i].is_open,
							sellpoint:data[i].sellpoint,
							fuwulist:data[i].fuwulist,
							color1:data[i].color1,
							opentip:data[i].opentip,
							noopentip:data[i].noopentip,
							fwtypetop1:data[i].fwtypetop1,
                        	fwtypetop2:data[i].fwtypetop2,
                        	fwtypetop3:data[i].fwtypetop3,
						});
					});
					$("div[mid=" + Mid + "]").mouseover();
				},
				error: function() {
					layer.msg('查询商品信息失败！请刷新页面。');
				}
			});
		}
	});
}
$scope.addyuyue = function(action, Mid, Gid) {
	layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择服务',content:"<?php echo url('YuyueList/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
}
$scope.delyuyue = function(Mid, Gid) {
	var Items = $scope.Items;
	angular.forEach(Items, function(m, index1) {
		if (m.id == Mid) {
			angular.forEach(m.data, function(g, index2) {
				if (g.id == Gid) {
					m.data.splice(index2, 1);
				}
			});
		}
	});
}
$scope.pushyuyue = function(prodata,args){
	var argsArr = args.split(',');
	var action = argsArr[0];
	var Mid = argsArr[1];
	var oldGid = argsArr[2];
	angular.forEach($scope.Items, function(m, index1) {
		if(m.id == Mid){
			if(action == 'replace' && oldGid){
				// 执行替换
				angular.forEach(m.data, function(r, index3){
					if(r.id == oldGid){
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						r.id = Gid;
						r.pic = prodata.pic;
						r.proid = prodata.id;
						r.name = prodata.name;
						r.sell_price = prodata.sell_price;
						r.sales = prodata.sales;
					}
				});
			}else if(!action){
				var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
				// 执行添加
				m.data.push({
					id: Gid,
					pic: prodata.pic,
					proid: prodata.id,
					name: prodata.name,
					sell_price: prodata.sell_price,
				});
			}
		}
	});
}

	$scope.getcoupon = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var bid = m.params.bid
				var category = m.params.category
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectcoupon",
					data: {
						bid: bid,
						cid: category,
						sortby: sortby,
						shownum: shownum
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								couponid: data[i].id,
								type: data[i].type,
								limit_count: data[i].limit_count,
								name: data[i].name,
								money: data[i].money,
								minprice: data[i].minprice,
								starttime: date('Y-m-d H:i',data[i].starttime),
								endtime: date('Y-m-d H:i',data[i].endtime)
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addcoupon = function(action, Mid, Gid) {
		console.log(Gid)
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择<?php echo t('优惠券'); ?>',content:"<?php echo url('Coupon/choosecoupon'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delcoupon = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.couponid == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushcoupon = function(coupondata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		console.log(coupondata)
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					console.log(oldGid)
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.couponid = coupondata.id;
							r.type = coupondata.type;
							r.limit_count = coupondata.limit_count;
							r.name = coupondata.name;
							r.money = coupondata.money;
							r.minprice = coupondata.minprice;
							r.starttime = date('Y-m-d H:i',coupondata.starttime);
							r.endtime = date('Y-m-d H:i',coupondata.endtime);
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						couponid: coupondata.id,
						type: coupondata.type,
						limit_count: coupondata.limit_count,
						name: coupondata.name,
						money: coupondata.money,
						minprice: coupondata.minprice,
						starttime: date('Y-m-d H:i',coupondata.starttime),
						endtime: date('Y-m-d H:i',coupondata.endtime)
					});
				}
			}
		});
	}
	$scope.addform = function(Mid){
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择表单',content:"<?php echo url('Form/chooseform'); ?>/args/"+Mid});
	}
	$scope.pushform = function(Mid,formdata){
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				formdata.content = $.parseJSON(formdata.content);
				m.data = formdata
				console.log(m.data)
			}
		});
	}

	$scope.pushVideoList = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
				// 执行添加
				m.params.src = '[视频ID:'+prodata.id+']';
			}
		});
	}
	<?php if(getcustom('extend_tour')): ?>
		//导游商品
		$scope.gettour = function(Mid) {
			angular.forEach($scope.Items, function(m, index1) {
				if (m.id == Mid) {
					var bid = m.params.bid
					var category = m.params.category
					var sortby = m.params.sortby
					var proshownum = m.params.proshownum
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/api'); ?>/op/selecttour",
						data: {
							bid: bid,
							cid: category,
							sortby: sortby,
							proshownum: proshownum
						},
						success: function(data) {
							m.data = [];
							angular.forEach(data, function(d, i) {
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								// 执行添加
								m.data.push({
									id: Gid,
									pic: data[i].pic,
									proid: data[i].id,
									name: data[i].name,
									sell_price: data[i].sell_price,
									tour_price: data[i].tour_price,
									sales:data[i].sales
								});
							});
							$("div[mid=" + Mid + "]").mouseover();
						},
						error: function() {
							layer.msg('查询商品信息失败！请刷新页面。');
						}
					});
				}
			});
		}
		$scope.addtour = function(action, Mid, Gid) {
			layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择商品',content:"<?php echo url('TourActivity/chooseproduct'); ?>/args/"+action+','+Mid+','+Gid});
		}
		$scope.deltour = function(Mid, Gid) {
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1) {
				if (m.id == Mid) {
					angular.forEach(m.data, function(g, index2) {
						if (g.id == Gid) {
							m.data.splice(index2, 1);
						}
					});
				}
			});
		}
		$scope.pushtour = function(prodata,args){
			var argsArr = args.split(',');
			var action = argsArr[0];
			var Mid = argsArr[1];
			var oldGid = argsArr[2];
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(action == 'replace' && oldGid){
						// 执行替换
						angular.forEach(m.data, function(r, index3){
							if(r.id == oldGid){
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								r.id = Gid;
								r.pic = prodata.pic;
								r.proid = prodata.id;
								r.name = prodata.name;
								r.sell_price = prodata.sell_price;
								r.vip_price = prodata.vip_price;
							}
						});
					}else if(!action){
						var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
						// 执行添加
						m.data.push({
							id: Gid,
							pic: prodata.pic,
							proid: prodata.id,
							name: prodata.name,
							sell_price: prodata.sell_price,
							vip_price: prodata.vip_price,
						});
					}
				}
			});
		}
	<?php endif; if(getcustom('hotel')): ?>
	//酒店列表
	$scope.getHotel = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 	 = categoryseltype==1?m.params.bidmore:m.params.bid
				var category = categoryseltype==1?m.params.categorymore:m.params.category
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectHotel",
					data: {
						bid: bid,
						sortby: sortby,
						shownum: shownum,
						cid: category,
						categoryseltype:categoryseltype,
					},
					success: function(data) {
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								hotelid: data[i].id,
								name: data[i].name,
								sell_price: data[i].sell_price,
								sales:data[i].sales,
								address:data[i].address,
								tag:data[i].tag,
								hotellist:data[i].hotellist,
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询列表信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addHotel = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择服务',content:"<?php echo url('Hotel/choosehotel'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delHotel = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushHotel = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.hotelid = prodata.id;
							r.name = prodata.name;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
							r.address = prodata.address;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						hotelid: prodata.id,
						name: prodata.name,
						sell_price: prodata.sell_price,
						sales:prodata.sales,
						address:prodata.address,
						tag:prodata.tag
					});
				}
			}
		});
	}

	//房型列表
	$scope.getHotelRoom = function(Mid) {
		angular.forEach($scope.Items, function(m, index1) {
			if (m.id == Mid) {
				var categoryseltype = m.params.categoryseltype?parseInt(m.params.categoryseltype):0;
				var bid 	= categoryseltype==1?m.params.bidmore:m.params.bid
				var hotelid = m.params.hotelid
				var group = m.params.group
				var sortby = m.params.sortby
				var shownum = m.params.shownum
				$.ajax({
					type: 'post',
					dataType: 'json',
					url: "<?php echo url('DesignerPage/api'); ?>/op/selectHotelRoom",
					data: {
						bid: bid,
						sortby: sortby,
						shownum: shownum,
						gid: group,
						hotelid: hotelid
					},
					success: function(data) {
						console.log(data);
						m.data = [];
						angular.forEach(data, function(d, i) {
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							// 执行添加
							m.data.push({
								id: Gid,
								pic: data[i].pic,
								roomid: data[i].id,
								name: data[i].name,
								sell_price: data[i].sell_price,
								sales:data[i].sales,
								address:data[i].address,
								tag:data[i].tag,
							});
						});
						$("div[mid=" + Mid + "]").mouseover();
					},
					error: function() {
						layer.msg('查询列表信息失败！请刷新页面。');
					}
				});
			}
		});
	}
	$scope.addHotelRoom = function(action, Mid, Gid) {
		layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择服务',content:"<?php echo url('HotelRoom/choosehotelroom'); ?>/args/"+action+','+Mid+','+Gid});
	}
	$scope.delHotelRoom = function(Mid, Gid) {
		var Items = $scope.Items;
		angular.forEach(Items, function(m, index1) {
			if (m.id == Mid) {
				angular.forEach(m.data, function(g, index2) {
					if (g.id == Gid) {
						m.data.splice(index2, 1);
					}
				});
			}
		});
	}
	$scope.pushHotelRoom = function(prodata,args){
		var argsArr = args.split(',');
		var action = argsArr[0];
		var Mid = argsArr[1];
		var oldGid = argsArr[2];
		angular.forEach($scope.Items, function(m, index1) {
			if(m.id == Mid){
				if(action == 'replace' && oldGid){
					// 执行替换
					angular.forEach(m.data, function(r, index3){
						if(r.id == oldGid){
							var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
							r.id = Gid;
							r.pic = prodata.pic;
							r.roomid = prodata.id;
							r.name = prodata.name;
							r.sell_price = prodata.sell_price;
							r.sales = prodata.sales;
							r.address = prodata.address;
						}
					});
				}else if(!action){
					var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
					// 执行添加
					m.data.push({
						id: Gid,
						pic: prodata.pic,
						roomid: prodata.id,
						name: prodata.name,
						sell_price: prodata.sell_price,
						sales:prodata.sales,
						address:prodata.address,
						tag:prodata.tag
					});
				}
			}
		});
	}

	<?php endif; if(getcustom('form_data')): ?>
		//表单数据
		$scope.addformdata = function(Mid) {
			layer.open({type:2,shadeClose:true,area:['920px', '560px'],'title':'选择表单',content:"<?php echo url('Form/chooseform'); ?>/isopen/true/args/"+Mid});
		}
		$scope.getformdata = function(args,formdata=''){
			var argsArr = args.split(',');
			var Mid     = argsArr[0];
			angular.forEach($scope.Items, function(m, index1) {
				if(m.id == Mid){
					if(!formdata){
						formid = m.params.formid;
					}else{
						formid          = formdata.id;
						m.params.formid = formdata.id;
						m.params.name   = formdata.name;
					}
					var proshownum = m.params.proshownum;
					console.log(m.params)
					$.ajax({
						type: 'post',
						dataType: 'json',
						url: "<?php echo url('DesignerPage/api'); ?>/op/selectformdata",
						data: {
							formid: formid,
							proshownum: proshownum
						},
						success: function(data) {
							m.data = [];
							angular.forEach(data, function(d, i) {
								var Gid = 'G' + new Date().getTime() + parseInt(Math.random() * 1000000);
								// 执行添加
								m.data.push({
									id: Gid,
									logo: data[i].logo,
									foid: data[i].id,
									name: data[i].name,
									address: data[i].address,
									tel: data[i].tel
								});
							});
							$("div[mid=" + Mid + "]").mouseover();
						},
						error: function() {
							layer.msg('查询信息失败！请刷新页面。');
						}
					});
				}
			});
		}
	<?php endif; ?>
	$scope.load = function() {
		console.log(11)
	}
	$scope.changeImg = function(Mid, n) {
		width = parseInt($(".dsn-mod-move").width());
		height = (width * parseInt(n.replace("%", "")) / 100) - 16;
		$("div[mid=" + Mid + "] .dsn-8-main-img img").height(height);
	};
	$scope.setimg = function(Mid, n) {
		width = $(".dsn-mod-move").width();
		n = n.replace("%", "");
		n = n / 100;
		$("div[mid=" + Mid + "] .dsn-12 img").height(width * n - 30);
	}
	$scope.setfocus = function(Mid, e) {
		$scope.focus = Mid;
		$("#returnIndex").hide();
		if(Mid.length!=14){
			let ele = $('.dsn-panel-editor-title').children("#returnIndex");
			if(!ele.length){
				$(".dsn-panel-editor-title").css("justify-content","space-between");
				$(".dsn-panel-editor-title").append("<i class='fa fa-close' style='display: flex;align-items: center;cursor: pointer;' id='returnIndex' onclick='toIndex()'></i>");
			}
		}
		//ccc = $("div[id=" + Mid + "]").offset().top;
		//ddd = (ccc - 280) >= 0 ? (ccc - 280) : 0;
	}
	$scope.addItem = function(Nid,sorttype,click) {
		var Mid = 'M' + new Date().getTime() + parseInt(Math.random() * 1000000);
		var Navs = $scope.navs;
		angular.forEach(Navs, function(n, index) {
			if (n.id == Nid) {
				newparams = !clone(n.params) ? '' : clone(n.params);
				newdata = !n.data ? '' : cloneArr(n.data);
				newother = !clone(n.other) ? '' : clone(n.other);
				newcontent = !clone(n.content) ? '' : clone(n.content);
				if (Nid == 'cube') {
					for (row = 0; row < 4; row++) {
						for (newparams.layout[row] = {}, col = 0; col < 4; col++) {
							newparams.layout[row][col] = {cols: 1,rows: 1,isempty: !0,imgurl: "",classname: ""};
						}
					}
				}
				var newitem = {id: Mid,temp: Nid,params: newparams,data: newdata,other: newother,content: newcontent};
				var insertindex = -1;
				if ($scope.focus != '') {
					var Items = $scope.Items;
					angular.forEach(Items, function(a, index) {
						if (a.id == $scope.focus) {
							insertindex = index;
						}
					});
				}
				// 是否有焦点
				if (insertindex == -1 ) {
					$scope.Items.push(newitem);
				} else if(sorttype != 0) {
					$scope.Items.push(newitem);
				}else{
					$scope.Items.splice(insertindex + 1, 0, newitem);
				}
				$scope.focus = newitem.id;
				if(Nid == 'product'){
					$scope.getgoods(newitem.id);
				}
				if(Nid == 'collage'){
					$scope.getcollage(newitem.id);
				}
				if(Nid == 'cycle'){
					$scope.getcycle(newitem.id);
				}
				if(Nid == 'luckycollage'){
					$scope.getluckycollage(newitem.id);
				}
				if(Nid == 'kanjia'){
					$scope.getkanjia(newitem.id);
				}
				if(Nid == 'seckill'){
					$scope.getseckill(newitem.id);
				}
				if(Nid == 'scoreshop'){
					$scope.getscoreshop(newitem.id);
				}
				if(Nid == 'restaurant_product'){
					$scope.getRestaurantGoods(newitem.id);
				}
				if(Nid == 'article'){
					$scope.getarticle(newitem.id);
				}
				if(Nid == 'coupon'){
					$scope.getcoupon(newitem.id);
				}
				if(Nid == 'business'){
					$scope.getbusiness(newitem.id);
				}
				if(Nid == 'shortvideo'){
					$scope.getshortvideo(newitem.id);
				}
				if(Nid == 'liveroom'){
					$scope.getliveroom(newitem.id);
				}
				if(Nid == 'yuyue'){
					$scope.getyuyue(newitem.id);
				}
				if(Nid == 'tuangou'){
					$scope.gettuangou(newitem.id);
				}
				if(Nid == 'kecheng'){
					$scope.getKecheng(newitem.id);
				}
				if(Nid == 'zhaopin'){
					$scope.getZhaopin(newitem.id);
				}
				if(Nid == 'qiuzhi'){
					$scope.getQiuzhi(newitem.id);
				}
				if(Nid == 'tour'){
					$scope.gettour(newitem.id);
				}
				if(Nid == 'hotel'){
					$scope.getHotel(newitem.id);
				}
				if(Nid == 'hotelroom'){
					$scope.getHotelRoom(newitem.id);
				}
				if(Nid == 'classify2'){
					$scope.getClassify2(newitem.id);
				}
			}
		});
		if(sorttype == 1 || sorttype == 2){	
			let ItemsArr = JSON.parse(JSON.stringify($scope.Items));
			angular.forEach($scope.Items, function(item,index){
				if(item.id == ItemID) {
					if(sorttype == 1){
						ItemsArr.splice(index,0,$scope.Items[$scope.Items.length-1])
					}else{
						ItemsArr.splice(index+1,0,$scope.Items[$scope.Items.length-1])
					}
				}
			})
			ItemsArr.splice(ItemsArr.length-1,1)
			$scope.Items = ItemsArr;
		}
		if(!click){
			$scope.$apply()
		}
	}
	$scope.delItem = function(id) {
		var Items = $scope.Items;
		angular.forEach(Items, function(a, index) {
			if (a.id == id) {
				Items.splice(index, 1);
				$scope.focus = '';
				layer.msg('移除成功');
			}
		});
	}
	$scope.overphone = function(){
	}
	$scope.over = function(id){
		$("div[id=" + id + "]").parent().find(".dsn-del").stop().show();
	}
	$scope.out = function(id){
		$("div[id=" + id + "]").parent().find(".dsn-del").stop().hide();
	}
	$scope.shopImg = function(Mid){
		fileUploader.show(function(data){
			var Items = $scope.Items;
			angular.forEach(Items, function(m, index1){
				if(m.id == Mid){
					m.params.bgimg = data['url'];
					$("div[mid=" + Mid + "]").mouseover();
				}
			});
		},{type: 'image'});
	}
	$scope.pageImg = function(Mid, type){
		fileUploader.show(function(data){
			if(type == 'floatimg'){
				$scope.pages[0].params.floatimg = data['url'];
			}else{
				$scope.pages[0].params.img = data['url'];
			}
			$("div[mid=" + Mid + "]").trigger("click");
		},{type:'image'});
	}

	$scope.$on('ngRepeatFinished', function(ngRepeatFinishedEvent) {
		console.log('ngRepeatFinished')
		layui.form.render();
		$('.dsn-banner .swipe').each(function() {
			initswipe($(this));
		})
		angular.forEach($scope.Items, function(m, index1) {
			if(m.temp == 'map'){
				var center = new qq.maps.LatLng(m.params.latitude,m.params.longitude);
				var map = new qq.maps.Map(document.getElementById("showmp_"+m.id), {
					center: center,      // 地图的中心地理坐标。
					zoom:15              // 地图的中心地理坐标。
				});
				var marker = new qq.maps.Marker({ position:center, map: map});
			}
		})
		//$("div[mid=" + Mid + "]").mouseover();
	});

	$scope.getdata = function(n) {
		var items = cloneArr($scope.Items);
		angular.forEach(items, function(m, index1) {
			if (m.temp == 'richtext') {
				m.content = encodeURIComponent(m.content);
			}
		});
		var datas = angular.toJson(items);
		var pageinfo = angular.toJson($scope.pages);
		return {'datainfo': datas,'pageinfo': pageinfo};
	}
}]);

myModel.directive('stringHtml', function() {
	return function(scope, el, attr) {
		if (attr.stringHtml) {
			scope.$watch(attr.stringHtml, function(html) {
				el.html(html || '');
			});
		}
	};
});

myModel.directive("onFinishRenderFilters", function($timeout) {
	return {
		restrict: 'A',
		link: function(scope, element, attr) {
			if (scope.$last === true) {
				$timeout(function() {
					if(ngisfinish==0){
						layui.form.render();
					}
					ngisfinish = 1;
					scope.$emit('ngRepeatFinished');
				});
			}
		}
	};
});
$(function(){
	changeconentxy();
	$(window).scroll(function(){
		changeconentxy();
	});
	layui.form.render();
})

function changeconentxy(){
		var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
		$scope.contenttop = $('#editor-content').offset().top - $(window).scrollTop();
		$scope.contentleft = $('#editor-content').offset().left - $(window).scrollLeft();
		$scope.$apply();
}

function choosepro(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushGood(prodata.product,args);
	$scope.$apply();
}
function choosescoreshop(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushscoreshop(prodata,args);
	$scope.$apply();
}
function choosecollage(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushcollage(prodata,args);
	$scope.$apply();
}
function chooseluckycollage(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushluckycollage(prodata,args);
	$scope.$apply();
}
function choosekanjia(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushkanjia(prodata,args);
	$scope.$apply();
}
function chooseseckill(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushseckill(prodata,args);
	$scope.$apply();
}
function choosetuangou(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushTuangou(prodata,args);
	$scope.$apply();
}
function chooseArticle(artdata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushArticle(artdata,args);
	$scope.$apply();
}
function choosecoupon(cpdata,args){
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushcoupon(cpdata,args);
	$scope.$apply();
}
function chooseform(formdata,args){
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushform(args,formdata);
	$scope.$apply();
}
function choosebusiness(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushbusiness(prodata,args);
	$scope.$apply();
}
function chooseliveroom(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushliveroom(prodata,args);
	$scope.$apply();
}
function chooseLink(urlname,url,args) {
	//url =  url + (url.indexOf('?') > -1 ? '&' : '?') + 'x=<?php echo $x; ?>';
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.chooseLink(urlname,url,args);
	$scope.$apply();
}
function chooseshortvideo(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushshortvideo(prodata.product,args);
	$scope.$apply();
}
//预约服务
function chooseyuyue(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushyuyue(prodata.product,args);
	$scope.$apply();
}

function choosekecheng(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushKecheng(prodata.product,args);
	$scope.$apply();
}

function geteditordata() {
	//通过controller来获取Angular应用
	var appElement = document.querySelector('[ng-controller=FoxController]');
	//获取$scope变量
	var $scope = angular.element(appElement).scope();
	return $scope.getdata()
}
function choosetour(prodata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushtour(prodata,args);
	$scope.$apply();
}
function chooseVideoList(vdata,args) {
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushVideoList(vdata,args);
	$scope.$apply();
}
<?php if(getcustom('form_data')): ?>
function chooseformdata(formdata,args){
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.getformdata(args,formdata);
	$scope.$apply();
}
<?php endif; ?>

//酒店
<?php if(getcustom('hotel')): ?>
function chooseHotel(hoteldata,args){
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushHotel(hoteldata.hotel,args);
	$scope.$apply();
}
function chooseHotelRoom(data,args){
	var $scope = angular.element(document.querySelector('[ng-controller=FoxController]')).scope();
	$scope.pushHotelRoom(data.room,args);
	$scope.$apply();
}
<?php endif; ?>
</script>

						<!-- <div class="layui-form-item">
							<div class="layui-input-block" style="margin-left:400px">
								<button class="layui-btn layui-btn-danger" lay-submit lay-filter="formsubmit">设计完成</button>
							</div>
						</div> -->
				</div>
				</div>
			</div>
		</div>
  </div>
	<script>
		function closeWindow(){
			layer.confirm('确定要关闭吗?',{icon: 7, title:'操作确认'}, function(index){
				window.close();
			});
		}
		function showqr2(){
			var id = $('#pageid').val();
			if(!id) return layer.msg('请先保存！');
			var pagepath = 'pages/index/main?id='+id
			var url = "<?php echo m_url('"+pagepath+"'); ?>"; //拼接 H5 链接
			viewLink(pagepath,url);
		}
		// 浏览
		function showqr(id,ishome,type=0){
			if(!$('#pageid').val()) return layer.msg('请先保存此模版！');
			if(ishome==1){
				if('<?php echo $bid; ?>' == 0){
					var pagepath = 'pages/index/index';
				}else{
					var pagepath = 'pagesExt/business/index?id='+ <?php echo $bid; ?>;
				}
			}else if(ishome==2){
				var pagepath = 'pages/my/usercenter'
			}else{
				var pagepath = 'pages/index/main?id='+id
			}
			var url = "<?php echo m_url('"+pagepath+"'); ?>"; //拼接 H5 链接
			viewLink(pagepath,url);
		}
	function refresh(){
		location.reload()
	}
	function closeSelf(){
		window.history.back(-1);
		var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
		parent.layer.close(index); //再执行关闭   
		// parent.location.reload();
	}
	function pagesave(savetype){
		var id = $('#pageid').val()
		var contentdata = geteditordata();
		var index = layer.load();
		$.post('',{ op:'save',id:id,content:contentdata.datainfo,pageinfo:contentdata.pageinfo},function(data){
			layer.close(index);
			if(data.status == 1 && savetype ==1){
				dialog(data.msg,data.status);
				setTimeout(function(){
					parent.layer.closeAll();
					parent.location.reload()
					//parent.tableIns.reload()
				},100)
			}else{
				if(data.pageid){
					$('#pageid').val(data.pageid)
				}
				layer.msg(data.msg);
			}
		})
	}
	function datadel(id,param=''){
		var id = $('#pageid').val();
		if(!id) return layer.msg('请先保存！');
		if(id==0){
			var checkStatus = table.checkStatus('tabledata')
			var checkData = checkStatus.data; //得到选中的数据
			if(checkData.length === 0){
				 return layer.msg('请选择数据');
			}
			var id = [];
			for(var i=0;i<checkData.length;i++){
				id.push(checkData[i]['id']);
			}
		}
		if(param){
			var  go_url = "<?php echo url('del'); ?><?php echo $typeparam; ?>";
		}else{
			var  go_url = "<?php echo url('del'); ?>";
		}
		layer.confirm('确定要删除吗？删除后无法恢复！',{icon: 7, title:'操作确认'}, function(index){
			//do something
			layer.close(index);
			var index = layer.load();
			$.post(go_url,{id:id},function(data){
				layer.close(index);
				// dialog(data.msg,data.status,location.href);
				layer.confirm('操作确认',{icon: 1, title:'删除成功！',btn: ['确定'], closeBtn: 0}, function(index){
					parent.layer.closeAll();
					parent.location.reload();
				})
			})
		});
	}
  </script>
	
</body>
</html>